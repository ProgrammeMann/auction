  [1m[35m (169.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (149.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (8.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20171029150321)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (113.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (45.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (41.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171029150321"]]
  [1m[35m (16.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-10-29 15:07:12.223565"], ["updated_at", "2017-10-29 15:07:12.223565"]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-30 11:54:27 +0300
  [1m[35m (46.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant HomeController):
  
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:269:in `const_get'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:269:in `block in constantize'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `inject'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `constantize'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/http/request.rb:85:in `controller_class_for'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/http/request.rb:78:in `controller_class'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:43:in `controller'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:29:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-30 11:55:01 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.2ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (155.2ms)
Completed 200 OK in 610ms (Views: 544.6ms | ActiveRecord: 34.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 11:57:21 +0300
Processing by Devise::SessionsController#new as HTML
[Devise] Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:88:in `unknown_action!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:63:in `assert_is_devise_resource!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:101:in `require_no_authentication'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:413:in `block in make_lambda'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `block in invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:130:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.4/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-30 11:57:29 +0300
  
ActionController::RoutingError (uninitialized constant SessionsController):
  
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:269:in `const_get'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:269:in `block in constantize'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `inject'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `constantize'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/http/request.rb:85:in `controller_class_for'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/http/request.rb:78:in `controller_class'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:43:in `controller'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:29:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-30 11:57:51 +0300
  
AbstractController::ActionNotFound (The action 'new' could not be found for DeviseController):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/base.rb:119:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.4/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-30 11:59:44 +0300
Processing by Devise::SessionsController#new as HTML
[Devise] Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:88:in `unknown_action!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:63:in `assert_is_devise_resource!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:101:in `require_no_authentication'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:413:in `block in make_lambda'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `block in invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:130:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.4/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-30 11:59:52 +0300
Processing by Devise::SessionsController#new as HTML
[Devise] Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:88:in `unknown_action!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:63:in `assert_is_devise_resource!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:101:in `require_no_authentication'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:413:in `block in make_lambda'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `block in invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:130:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.4/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-30 11:59:55 +0300
Processing by Devise::SessionsController#new as HTML
[Devise] Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:88:in `unknown_action!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:63:in `assert_is_devise_resource!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:101:in `require_no_authentication'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:413:in `block in make_lambda'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `block in invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:130:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.4/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-30 12:00:26 +0300
  
ArgumentError ('/sessions' is not a supported controller name. This can lead to potential routing problems. See http://guides.rubyonrails.org/routing.html#specifying-a-controller-to-use):
  
config/routes.rb:4:in `block in <top (required)>'
config/routes.rb:1:in `<top (required)>'
Started GET "/" for 127.0.0.1 at 2017-10-30 12:00:57 +0300
Processing by Devise::SessionsController#new as HTML
[Devise] Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:88:in `unknown_action!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:63:in `assert_is_devise_resource!'
.bundle/ruby/2.4.0/gems/devise-4.3.0/app/controllers/devise_controller.rb:101:in `require_no_authentication'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:413:in `block in make_lambda'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `block in invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:507:in `invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:130:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.4/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/mapper.rb:16:in `block in <class:Constraints>'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/mapper.rb:46:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:50:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.4/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-30 12:03:26 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.6ms)
Completed 200 OK in 21ms (Views: 4.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-30 12:03:35 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.3ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 55ms (Views: 29.9ms | ActiveRecord: 6.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-10-30 12:03:40 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.1ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (9.7ms)
Completed 200 OK in 36ms (Views: 34.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-10-30 12:03:56 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oBLca/TotqmJhgn9trhfZKp+UrtBDjB2QI4DnoHPpBUMhWpXOSrKk7uNgoPq6xeeGv5ZBcRRn6Fa9oCoeNWtDg==", "user"=>{"email"=>"alala@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (75.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "alala@mail.ru"], ["LIMIT", 1]]
  [1m[35mSQL (27.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "alala@mail.ru"], ["encrypted_password", "$2a$11$pmA75EEKfuoUZqOBVraWtuQgII2ygbQGUbLsEBAl4GDrfQ9XlDPza"], ["created_at", "2017-10-30 09:03:56.443595"], ["updated_at", "2017-10-30 09:03:56.443595"]]
  [1m[35m (25.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-10-30 09:03:56.500854"], ["last_sign_in_at", "2017-10-30 09:03:56.500854"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-10-30 09:03:56.502220"], ["id", 1]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 505ms (ActiveRecord: 133.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 12:03:56 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.2ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-10-30 12:04:05 +0300
Processing by Devise::RegistrationsController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 57ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 12:04:05 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.5ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-10-30 12:04:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/devise/sessions" for 127.0.0.1 at 2017-10-30 12:05:25 +0300
  
ActionController::RoutingError (No route matches [GET] "/devise/sessions"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-30 12:05:33 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 12:05:33 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (2.3ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 15:25:05 +0300
  [1m[35m (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (4.4ms)
Completed 200 OK in 23ms (Views: 9.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-30 15:25:13 +0300
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 45ms (ActiveRecord: 8.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 15:25:13 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered .bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (4.5ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.0ms)


  [1m[35m (25.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLots (20171030130337)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (813.0ms)[0m  [1m[35mCREATE TABLE "lots" ("id" bigserial primary key, "title" character varying, "description" text, "start_price" integer, "photo" character varying, "start_datetime" timestamp, "end_datetime" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (27.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171030130337"]]
  [1m[35m (45.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (33.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserIdToLots (20171030132352)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "lots" ADD "user_id" integer[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171030132352"]]
  [1m[35m (29.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2017-10-30 16:30:29 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (1.1ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 1967ms (Views: 1938.8ms | ActiveRecord: 3.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-10-30 16:30:34 +0300
Processing by LotsController#new as HTML
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (80.2ms)
  Rendered lots/new.html.erb within layouts/application (81.5ms)
Completed 200 OK in 122ms (Views: 106.3ms | ActiveRecord: 3.2ms)


Started POST "/lots" for 127.0.0.1 at 2017-10-30 16:31:01 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BeXxDDJZImO4D0NwZ13rgf4/wrxEUc9fBtBffUBZxXTElyTwoFbTVB5QCb7ChyBUWMokLKoEgpDJQM7Qk+PwgA==", "lot"=>{"title"=>"my_lot", "description"=>"desc", "start_price"=>"32", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"10", "start_datetime(3i)"=>"30", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"30", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"10", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"57"}, "commit"=>"Create Lot"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "photo", "start_datetime", "end_datetime", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "my_lot"], ["description", "desc"], ["start_price", 32], ["photo", ""], ["start_datetime", "2017-10-30 13:30:00"], ["end_datetime", "2017-10-30 13:57:00"], ["created_at", "2017-10-30 13:31:01.317285"], ["updated_at", "2017-10-30 13:31:01.317285"]]
  [1m[35m (92.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/1
Completed 302 Found in 101ms (ActiveRecord: 93.2ms)


Started GET "/lots/1" for 127.0.0.1 at 2017-10-30 16:31:01 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 53ms (Views: 24.6ms | ActiveRecord: 0.9ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 16:31:04 +0300
Processing by LotsController#index as HTML
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.4ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 16:35:27 +0300
Processing by LotsController#index as HTML
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.3ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-10-30 16:35:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots" for 127.0.0.1 at 2017-10-30 16:35:36 +0300
Processing by LotsController#index as HTML
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.3ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 16:36:05 +0300
Processing by LotsController#index as HTML
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.5ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-30 16:36:07 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"RFUhf/EfPmOaHf8Nq/TBVH42Ylhs/tie6v+pPgSeDhrowpdDPN1CWagWdHP3p4muzrZp5umhd0nwhyoI/YQHAQ=="}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 32ms (ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 16:36:07 +0300
Processing by LotsController#index as HTML
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 30ms (Views: 28.0ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 16:36:48 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 8ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-30 16:36:49 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.0ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (9.7ms)
Completed 200 OK in 83ms (Views: 54.9ms | ActiveRecord: 4.8ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-10-30 16:36:54 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s+eeUyZK3gu0fSUfA47W3mv+18Owcr4JcNoix158vg9Qd5HuCpk87gBNrfNXxu1tByrxFGXzAUUeGn0CoCteUA==", "user"=>{"email"=>"alala@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "alala@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-10-30 13:36:55.104682"], ["sign_in_count", 2], ["updated_at", "2017-10-30 13:36:55.105904"], ["id", 1]]
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 471ms (ActiveRecord: 25.2ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 16:36:55 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (23.4ms)
Completed 200 OK in 48ms (Views: 37.7ms | ActiveRecord: 6.3ms)


  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" ORDER BY "lots"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-10-30 16:42:14 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (25.4ms)
Completed 200 OK in 88ms (Views: 47.7ms | ActiveRecord: 13.8ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-10-30 16:42:16 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.2ms)
  Rendered lots/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 37ms (Views: 32.4ms | ActiveRecord: 0.6ms)


Started GET "/lots/" for 127.0.0.1 at 2017-10-30 16:48:39 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 72ms (Views: 36.4ms | ActiveRecord: 10.7ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-10-30 16:48:42 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.0ms)
  Rendered lots/new.html.erb within layouts/application (10.3ms)
Completed 200 OK in 32ms (Views: 27.3ms | ActiveRecord: 1.1ms)


Started POST "/lots" for 127.0.0.1 at 2017-10-30 16:48:56 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZTqTyV6rc+bIrg7GfSM/rrtAwq1kqAn9IHDsZajxcTmPqmaOGRPK8qqqf7hyxlQAgjGhJe7lYor5bKU8ZajEvw==", "lot"=>{"title"=>"my_lot1", "description"=>"1", "start_price"=>"12", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"10", "start_datetime(3i)"=>"30", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"48", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"10", "end_datetime(3i)"=>"31", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"48"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "photo", "start_datetime", "end_datetime", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "my_lot1"], ["description", "1"], ["start_price", 12], ["photo", ""], ["start_datetime", "2017-10-30 13:48:00"], ["end_datetime", "2017-10-31 13:48:00"], ["created_at", "2017-10-30 13:48:56.875518"], ["updated_at", "2017-10-30 13:48:56.875518"]]
  [1m[35m (52.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/2
Completed 406 Not Acceptable in 62ms (ActiveRecord: 53.9ms)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/lots_controller.rb:30:in `create'
Started GET "/lots" for 127.0.0.1 at 2017-10-30 16:51:35 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:68: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/lots_controller.rb:68: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/lots" for 127.0.0.1 at 2017-10-30 16:52:09 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (24.9ms)
Completed 200 OK in 92ms (Views: 44.3ms | ActiveRecord: 11.2ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-10-30 16:52:14 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.2ms)
  Rendered lots/new.html.erb within layouts/application (10.4ms)
Completed 200 OK in 34ms (Views: 29.8ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2017-10-30 16:52:31 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tXdjDKhNeAvVAbmuTkDMu57DNs6HkX9jJ+D0C0y8RkBf55ZL7/XBH7cFyNBBpacVp7JVRg3cFBT+/L1SgeXzxg==", "lot"=>{"title"=>"new_lot2", "description"=>"2", "start_price"=>"2", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"10", "start_datetime(3i)"=>"30", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"52", "end_datetime(1i)"=>"2019", "end_datetime(2i)"=>"10", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"52"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `lots' for #<User:0x007f51658a0788>):
  
app/controllers/lots_controller.rb:28:in `create'
Started GET "/lots" for 127.0.0.1 at 2017-10-30 16:57:49 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 27ms (Views: 22.9ms | ActiveRecord: 1.3ms)


  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/new" for 127.0.0.1 at 2017-10-30 17:07:47 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (64.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (55.0ms)
  Rendered lots/new.html.erb within layouts/application (85.0ms)
Completed 200 OK in 862ms (Views: 458.7ms | ActiveRecord: 64.0ms)


Started POST "/lots" for 127.0.0.1 at 2017-10-30 17:13:37 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"v6bJT0KlenYj3U3OWAkdMtJdSrs5ZhbyhHgWqIWN9D9VNjwIBR3DYkHZPLBX7Hac6ywpM7MrfYVdZF/xSNRBuQ==", "lot"=>{"title"=>"new_lot2", "description"=>"s", "start_price"=>"12", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"10", "start_datetime(3i)"=>"30", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"07", "end_datetime(1i)"=>"2021", "end_datetime(2i)"=>"10", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"14", "end_datetime(5i)"=>"07"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 62ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `lots' for #<User:0x007f51544f34c0>):
  
app/controllers/lots_controller.rb:28:in `create'
Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:14:28 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (26.4ms)
Completed 200 OK in 174ms (Views: 42.8ms | ActiveRecord: 50.4ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-10-30 17:14:32 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.2ms)
  Rendered lots/new.html.erb within layouts/application (10.5ms)
Completed 200 OK in 34ms (Views: 30.3ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2017-10-30 17:14:44 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SdufrPamm+Nd/lKdH/b2W/szLcGy+AIBn+o4+VHIii6jS2rrsR4i9z/6I+MQE531wkJOSTi1aXZG9nGgnJE/qA==", "lot"=>{"title"=>"new_lot2", "description"=>"d", "start_price"=>"12", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"10", "start_datetime(3i)"=>"30", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"14", "end_datetime(1i)"=>"2020", "end_datetime(2i)"=>"10", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"14", "end_datetime(5i)"=>"14"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.0ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "photo", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "new_lot2"], ["description", "d"], ["start_price", 12], ["photo", ""], ["start_datetime", "2017-10-30 14:14:00"], ["end_datetime", "2020-10-30 14:14:00"], ["created_at", "2017-10-30 14:14:44.278716"], ["updated_at", "2017-10-30 14:14:44.278716"], ["user_id", 1]]
  [1m[35m (134.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/3
Completed 302 Found in 277ms (ActiveRecord: 141.3ms)


Started GET "/lots/3" for 127.0.0.1 at 2017-10-30 17:14:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 55ms (Views: 21.8ms | ActiveRecord: 0.8ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:14:47 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 27ms (Views: 23.3ms | ActiveRecord: 1.0ms)


  [1m[36mLot Load (1.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-10-30 17:19:46 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"NnCizRhMpRCc4hIQizxnOaA+WsdgtfmAI0mSoT6vbJEWRxiA1tHb6RbEKSfxRHVNugobk1/p6XAFFmIM2HDRIw=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 17:19:47 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-10-30 17:19:47 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.1ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (7.6ms)
Completed 200 OK in 48ms (Views: 46.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-10-30 17:19:53 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.8ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 51ms (Views: 49.4ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-10-30 17:20:12 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U0Uf0q5C3kNd/1hZcPKxGqc2AV7fpqWkxTQIh+2zfX3WFEtNqFg/Oi+2YnyssEj75pPOUJW5BuW/4EMCG2pBxQ==", "user"=>{"email"=>"my@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "my@mail.ru"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "my@mail.ru"], ["encrypted_password", "$2a$11$/PsqQ.NrEqwbUTHlHESy6.QyVbf90MU7UbMC7maLaG8koRC73S9WO"], ["created_at", "2017-10-30 14:20:12.566040"], ["updated_at", "2017-10-30 14:20:12.566040"]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-10-30 14:20:12.585889"], ["last_sign_in_at", "2017-10-30 14:20:12.585889"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-10-30 14:20:12.586850"], ["id", 2]]
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 487ms (ActiveRecord: 59.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-30 17:20:12 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 30ms (Views: 25.7ms | ActiveRecord: 1.2ms)


Started GET "/lots/3" for 127.0.0.1 at 2017-10-30 17:20:21 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 29ms (Views: 23.6ms | ActiveRecord: 1.2ms)


Started GET "/lots/3/edit" for 127.0.0.1 at 2017-10-30 17:20:27 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (13.9ms)
  Rendered lots/edit.html.erb within layouts/application (16.0ms)
Completed 200 OK in 84ms (Views: 36.1ms | ActiveRecord: 0.8ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:20:29 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 34ms (Views: 29.2ms | ActiveRecord: 1.3ms)


Started GET "/lots/1/edit" for 127.0.0.1 at 2017-10-30 17:29:42 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.4ms)
  Rendered lots/edit.html.erb within layouts/application (10.9ms)
Completed 200 OK in 36ms (Views: 31.0ms | ActiveRecord: 1.2ms)


Started PATCH "/lots/1" for 127.0.0.1 at 2017-10-30 17:29:48 +0300
Processing by LotsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+TzALhxIHm1FjrZybDfeSwF5csqO2+60gYX/c3rWgvGSqNpZe6I/yIazbKu2BH7ngijWKbZSQ4DhZiIR/G4J7Q==", "lot"=>{"title"=>"my_lot", "description"=>"desc", "start_price"=>"321", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"10", "start_datetime(3i)"=>"30", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"30", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"10", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"57"}, "commit"=>"Update Lot", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "lots" SET "start_price" = $1, "updated_at" = $2 WHERE "lots"."id" = $3[0m  [["start_price", 321], ["updated_at", "2017-10-30 14:29:48.842209"], ["id", 1]]
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/1
Completed 406 Not Acceptable in 20ms (ActiveRecord: 11.4ms)


  
ActionController::UnknownFormat (ActionController::UnknownFormat):
  
app/controllers/lots_controller.rb:39:in `update'
Started GET "/lots/1" for 127.0.0.1 at 2017-10-30 17:30:01 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:53: syntax error, unexpected keyword_end, expecting end-of-input
  end
     ^):
  
app/controllers/lots_controller.rb:53: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/lots/1" for 127.0.0.1 at 2017-10-30 17:30:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 161ms (Views: 92.0ms | ActiveRecord: 9.7ms)


Started GET "/lots/1/edit" for 127.0.0.1 at 2017-10-30 17:30:18 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (10.1ms)
  Rendered lots/edit.html.erb within layouts/application (11.7ms)
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 1.1ms)


Started PATCH "/lots/1" for 127.0.0.1 at 2017-10-30 17:30:21 +0300
Processing by LotsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2AX72rigttHkrhOuG9XJlPf8q3w6M0H4TqvKIeadb9qzkeGt30qXdCeTyXfB5mk4dK0PnwK67MwuSBdDYCXkxg==", "lot"=>{"title"=>"my_lot", "description"=>"desc", "start_price"=>"3211", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"10", "start_datetime(3i)"=>"30", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"30", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"10", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"57"}, "commit"=>"Update Lot", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "lots" SET "start_price" = $1, "updated_at" = $2 WHERE "lots"."id" = $3[0m  [["start_price", 3211], ["updated_at", "2017-10-30 14:30:21.936787"], ["id", 1]]
  [1m[35m (96.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/1
Completed 302 Found in 107ms (ActiveRecord: 98.4ms)


Started GET "/lots/1" for 127.0.0.1 at 2017-10-30 17:30:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 29ms (Views: 22.2ms | ActiveRecord: 1.9ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:31:43 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 24ms (Views: 20.0ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:32:49 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (18.7ms)
Completed 200 OK in 66ms (Views: 35.0ms | ActiveRecord: 8.5ms)


Started GET "/lots/3/edit" for 127.0.0.1 at 2017-10-30 17:32:55 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 27ms (Views: 21.0ms | ActiveRecord: 1.1ms)


Started GET "/lots/3/edit" for 127.0.0.1 at 2017-10-30 17:32:59 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 41ms (Views: 36.4ms | ActiveRecord: 1.0ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:33:00 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 28ms (Views: 23.5ms | ActiveRecord: 1.7ms)


Started DELETE "/lots/2" for 127.0.0.1 at 2017-10-30 17:33:09 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"1fRU3rYiNerXlXUX2hpMLbSPOVaiBFmWYn/jbmUGIXDI8Ijg25/ju4Trth9RcMxHVofL5n0l/tAo/PS+PKO9+w==", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 2]]
  [1m[35m (42.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 50ms (ActiveRecord: 44.5ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:33:09 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 31ms (Views: 26.0ms | ActiveRecord: 1.3ms)


Started DELETE "/lots/1" for 127.0.0.1 at 2017-10-30 17:33:16 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"gvIQFOR0U2wpfDdshwMReZjnieYOtpE3EEZ8gnj4a0Wf9swqicmFPXoC9GQMaZETeu97VtGXNnFaxWtSIV33zg==", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 1]]
  [1m[35m (15.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 21ms (ActiveRecord: 16.8ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:33:16 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 26ms (Views: 21.7ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:34:46 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:67: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:34:54 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (1.2ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (34.1ms)
Completed 200 OK in 97ms (Views: 48.7ms | ActiveRecord: 10.0ms)


Started DELETE "/lots/3" for 127.0.0.1 at 2017-10-30 17:34:58 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ADhrmlVpFLtvQBA25qC628RftB/De5PeVZIhScxKcv4dPLekONTC6jw+0z5tyjqxJldGrxxaNJgfETaZle/udQ==", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.1ms)


  
NoMethodError (undefined method `user_id' for #<User:0x007f51663ad108>):
  
app/controllers/lots_controller.rb:52:in `destroy'
Started DELETE "/lots/3" for 127.0.0.1 at 2017-10-30 17:35:30 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ADhrmlVpFLtvQBA25qC628RftB/De5PeVZIhScxKcv4dPLekONTC6jw+0z5tyjqxJldGrxxaNJgfETaZle/udQ==", "id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 59ms (ActiveRecord: 9.0ms)


  
NoMethodError (undefined method `user_id' for #<User:0x007f516535e270>):
  
app/controllers/lots_controller.rb:52:in `destroy'
Started DELETE "/lots/3" for 127.0.0.1 at 2017-10-30 17:35:56 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ADhrmlVpFLtvQBA25qC628RftB/De5PeVZIhScxKcv4dPLekONTC6jw+0z5tyjqxJldGrxxaNJgfETaZle/udQ==", "id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 56ms (ActiveRecord: 8.2ms)


  
NoMethodError (undefined method `user_id' for #<User:0x007f51543c3c58>):
  
app/controllers/lots_controller.rb:52:in `destroy'
Started DELETE "/lots/3" for 127.0.0.1 at 2017-10-30 17:37:01 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ADhrmlVpFLtvQBA25qC628RftB/De5PeVZIhScxKcv4dPLekONTC6jw+0z5tyjqxJldGrxxaNJgfETaZle/udQ==", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 500 Internal Server Error in 62ms (ActiveRecord: 11.1ms)


  
NoMethodError (undefined method `user_id' for #<User:0x007f51604cea88>):
  
app/controllers/lots_controller.rb:52:in `destroy'
Started GET "/lots" for 127.0.0.1 at 2017-10-30 17:37:14 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:43:00 +0300
  [1m[35m (35.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (71.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (48.3ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (69.9ms)
Completed 200 OK in 599ms (Views: 314.9ms | ActiveRecord: 211.2ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:54:14 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (20.2ms)
Completed 200 OK in 80ms (Views: 32.4ms | ActiveRecord: 8.8ms)


Started DELETE "/lots/3" for 127.0.0.1 at 2017-11-01 14:54:18 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"XL+lzPhYgTB9X6YAbA9iBMg60d2I/I3rEPKfLgdwUf5Bu3nyleVXYS4hZQjnZeJuKjIjbVfdKq1acYj+XtXNdQ==", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots
Completed 302 Found in 35ms (ActiveRecord: 1.8ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:54:18 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.4ms)
Completed 200 OK in 33ms (Views: 28.5ms | ActiveRecord: 1.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-01 14:54:23 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (66.8ms)
  Rendered lots/new.html.erb within layouts/application (68.4ms)
Completed 200 OK in 129ms (Views: 85.9ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-01 14:54:32 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lWu/0YDKFXlZrjwbQqujmujN0rqwx1byNB4WbLQYom2Qnts/DugFgNKI/uRyXKlxueQyPFA+4u1k147EJ+An8g==", "lot"=>{"title"=>"ddd", "description"=>"ddd", "start_price"=>"34", "photo"=>"", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"11", "start_datetime(5i)"=>"54", "end_datetime(1i)"=>"2019", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"11", "end_datetime(5i)"=>"54"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (38.7ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "photo", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "ddd"], ["description", "ddd"], ["start_price", 34], ["photo", ""], ["start_datetime", "2017-11-01 11:54:00"], ["end_datetime", "2019-11-01 11:54:00"], ["created_at", "2017-11-01 11:54:32.562202"], ["updated_at", "2017-11-01 11:54:32.562202"], ["user_id", 2]]
  [1m[35m (101.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/4
Completed 302 Found in 287ms (ActiveRecord: 141.3ms)


Started GET "/lots/4" for 127.0.0.1 at 2017-11-01 14:54:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 49ms (Views: 26.9ms | ActiveRecord: 1.0ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:54:34 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 24ms (Views: 19.5ms | ActiveRecord: 1.4ms)


Started DELETE "/lots/4" for 127.0.0.1 at 2017-11-01 14:54:40 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"eTsYSc2B7sej3SMOudJvbnJSe+PUzGCLr6LczK1vVFBkP8R3oDw4lvCj4AYyuO8EkFqJUwvtx83lIcsc9MrI2w==", "id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 4]]
  [1m[35m (43.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 49ms (ActiveRecord: 44.3ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:54:40 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 26ms (Views: 21.1ms | ActiveRecord: 1.3ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:55:25 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (17.4ms)
Completed 200 OK in 72ms (Views: 39.7ms | ActiveRecord: 8.5ms)


Started DELETE "/lots/3" for 127.0.0.1 at 2017-11-01 14:55:28 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"r1slX95pYKrQykEFnY2+2/3a015/WHAjQv6TpV+vpq+yX/lhs9S2+4O0gg0W5z6xH9Ih7qB512UIfYR1Bgo6JA==", "id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
No template found for LotsController#destroy, rendering head :no_content
Completed 204 No Content in 37ms (ActiveRecord: 1.4ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:56:16 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 64ms (Views: 33.1ms | ActiveRecord: 8.3ms)


Started DELETE "/lots/3" for 127.0.0.1 at 2017-11-01 14:56:19 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ucvw1cowyw7jqPrs1nK4RsIdyUWN3e5K/EwwMIEBxoukzyzrp40dX7DWOeRdGDgsIBU79VL8SQy2zyfg2KRaAA==", "id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 14:56:19 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 29ms (Views: 22.9ms | ActiveRecord: 1.0ms)


  [1m[35m (55.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemovePhotoFromLots (20171101123040)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (254.2ms)[0m  [1m[35mALTER TABLE "lots" DROP "photo"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171101123040"]]
  [1m[35m (16.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (61.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (33.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAttachmentPhotoToProducts (20171101123943)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAttachmentPhotoToLots (20171101124216)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddAttachmentPhotoToLots (20171101124216)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (94.2ms)[0m  [1m[35mALTER TABLE "lots" ADD "photo_file_name" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "lots" ADD "photo_content_type" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "lots" ADD "photo_file_size" integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "lots" ADD "photo_updated_at" timestamp[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171101124216"]]
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/lots" for 127.0.0.1 at 2017-11-01 15:47:42 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 82ms (ActiveRecord: 11.7ms)


  
NoMethodError (undefined method `has_attached_file' for #<Class:0x007f5c91689f58>):
  
app/models/lot.rb:2:in `<class:Lot>'
app/models/lot.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:8:in `index'
Started GET "/lots" for 127.0.0.1 at 2017-11-01 15:50:13 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (34.5ms)
Completed 500 Internal Server Error in 77ms (ActiveRecord: 10.0ms)


  
ActionView::Template::Error (undefined method `photo' for #<Lot:0x007f5c80085aa0>):
    21:         <td><%= lot.title %></td>
    22:         <td><%= lot.description %></td>
    23:         <td><%= lot.start_price %></td>
    24:         <td><%= lot.photo %></td>
    25:         <td><%= lot.start_datetime %></td>
    26:         <td><%= lot.end_datetime %></td>
    27:         <td><%= link_to 'Show', lot %></td>
  
app/views/lots/index.html.erb:24:in `block in _app_views_lots_index_html_erb__90269303816215157_70017631479680'
app/views/lots/index.html.erb:19:in `_app_views_lots_index_html_erb__90269303816215157_70017631479680'
Started GET "/lots" for 127.0.0.1 at 2017-11-01 15:50:55 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (21.8ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `photo' for #<Lot:0x007f5c88020b48>):
    21:         <td><%= lot.title %></td>
    22:         <td><%= lot.description %></td>
    23:         <td><%= lot.start_price %></td>
    24:         <!-- <td><%= lot.photo %></td> -->
    25:         <td><%= lot.start_datetime %></td>
    26:         <td><%= lot.end_datetime %></td>
    27:         <td><%= link_to 'Show', lot %></td>
  
app/views/lots/index.html.erb:24:in `block in _app_views_lots_index_html_erb__90269303816215157_70017597098000'
app/views/lots/index.html.erb:19:in `_app_views_lots_index_html_erb__90269303816215157_70017597098000'
Started GET "/lots" for 127.0.0.1 at 2017-11-01 15:50:58 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (21.4ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `photo' for #<Lot:0x007f5c915800f8>):
    21:         <td><%= lot.title %></td>
    22:         <td><%= lot.description %></td>
    23:         <td><%= lot.start_price %></td>
    24:         <!-- <td><%= lot.photo %></td> -->
    25:         <td><%= lot.start_datetime %></td>
    26:         <td><%= lot.end_datetime %></td>
    27:         <td><%= link_to 'Show', lot %></td>
  
app/views/lots/index.html.erb:24:in `block in _app_views_lots_index_html_erb__90269303816215157_70017776338980'
app/views/lots/index.html.erb:19:in `_app_views_lots_index_html_erb__90269303816215157_70017776338980'
Started GET "/lots" for 127.0.0.1 at 2017-11-01 15:52:37 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 45ms (Views: 38.9ms | ActiveRecord: 1.2ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-01 15:53:01 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (36.5ms)
  Rendered lots/new.html.erb within layouts/application (38.0ms)
Completed 200 OK in 60ms (Views: 56.3ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-01 15:53:35 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hmDifyGRBjaz0n93lb6MuujHQyHg/QBOIy9IHH42UmCDlYaRr7MWzzj0vYilSYZRue6jpwAEtFFz5tC07c7X/w==", "lot"=>{"title"=>"nexus", "description"=>"five", "start_price"=>"12000", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"12", "start_datetime(5i)"=>"53", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"12", "end_datetime(5i)"=>"53", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f5c88612cb8 @tempfile=#<Tempfile:/tmp/RackMultipart20171101-5286-1khp3x0.png>, @original_filename="Nexus_5_Front_View.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"Nexus_5_Front_View.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'photo' for Lot.):
  
app/controllers/lots_controller.rb:31:in `create'
Started POST "/lots" for 127.0.0.1 at 2017-11-01 15:54:59 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hmDifyGRBjaz0n93lb6MuujHQyHg/QBOIy9IHH42UmCDlYaRr7MWzzj0vYilSYZRue6jpwAEtFFz5tC07c7X/w==", "lot"=>{"title"=>"nexus", "description"=>"five", "start_price"=>"12000", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"12", "start_datetime(5i)"=>"53", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"12", "end_datetime(5i)"=>"53", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f5c7c2cd168 @tempfile=#<Tempfile:/tmp/RackMultipart20171101-5286-1crjn8r.png>, @original_filename="Nexus_5_Front_View.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"Nexus_5_Front_View.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: :photo
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "nexus"], ["description", "five"], ["start_price", 12000], ["start_datetime", "2017-11-01 12:53:00"], ["end_datetime", "2017-12-01 12:53:00"], ["created_at", "2017-11-01 12:54:59.746246"], ["updated_at", "2017-11-01 12:54:59.746246"], ["user_id", 2]]
  [1m[35m (64.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/5
Completed 302 Found in 119ms (ActiveRecord: 74.7ms)


Started GET "/lots/5" for 127.0.0.1 at 2017-11-01 15:54:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (30.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 61ms (Views: 22.7ms | ActiveRecord: 31.9ms)


Started GET "/lots/5" for 127.0.0.1 at 2017-11-01 15:57:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.7ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `photo' for nil:NilClass):
    25:   <%= @lot.end_datetime %>
    26: </p>
    27: 
    28: <%= image_tag @product.photo.url(:medium) %>
    29: 
    30: <%= link_to 'Edit', edit_lot_path(@lot) %> |
    31: <%= link_to 'Back', lots_path %>
  
app/views/lots/show.html.erb:28:in `_app_views_lots_show_html_erb__136310933803436569_70017632910980'
Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:05:49 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 62ms (ActiveRecord: 6.0ms)


  
NoMethodError (undefined method `has_attached_file' for #<Class:0x007f5c88bc6cb8>):
  
app/models/lot.rb:2:in `<class:Lot>'
app/models/lot.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:8:in `index'
Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:06:56 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (29.6ms)
Completed 200 OK in 281ms (Views: 236.1ms | ActiveRecord: 10.3ms)


Started GET "/lots/5" for 127.0.0.1 at 2017-11-01 16:07:01 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (5.2ms)
Completed 500 Internal Server Error in 54ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `photo' for nil:NilClass):
    25:   <%= @lot.end_datetime %>
    26: </p>
    27: 
    28: <%= image_tag @product.photo.url(:medium) %>
    29: 
    30: <%= link_to 'Edit', edit_lot_path(@lot) %> |
    31: <%= link_to 'Back', lots_path %>
  
app/views/lots/show.html.erb:28:in `_app_views_lots_show_html_erb__1099081608237679642_70257008039480'
Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:07:04 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 29ms (Views: 24.7ms | ActiveRecord: 1.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-01 16:07:06 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (2.2ms)
  Rendered lots/new.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.8ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/_form.html.erb:1: syntax error, unexpected tLABEL
odel: lot, local: true), html: {multipart: true} do |form| @
                              ^
/home/pavlov/fs/auction/app/views/lots/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
e), html: {multipart: true} do |form| @output_buffer.safe_ap
                              ^
/home/pavlov/fs/auction/app/views/lots/_form.html.erb:48: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
                ^):
  
app/views/lots/_form.html.erb:1: syntax error, unexpected tLABEL
app/views/lots/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
app/views/lots/_form.html.erb:48: syntax error, unexpected keyword_ensure, expecting end-of-input
app/views/lots/new.html.erb:3:in `_app_views_lots_new_html_erb__1712724139724645171_70257120428320'
Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:07:31 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 28ms (Views: 23.3ms | ActiveRecord: 1.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-01 16:07:33 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (142.2ms)
  Rendered lots/new.html.erb within layouts/application (143.5ms)
Completed 200 OK in 167ms (Views: 163.3ms | ActiveRecord: 0.7ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-01 16:07:47 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ikIJFzWq/pG4REIHvPvp7yP/O071M3pPwX8EJ/1BJ8uPt235u4juaDNigPiMDOMEctbbyBXKzlCRtpyPbrmiVA==", "lot"=>{"title"=>"й", "description"=>"й", "start_price"=>"123", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"07", "end_datetime(1i)"=>"2021", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"07", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fcc05576fb0 @tempfile=#<Tempfile:/tmp/RackMultipart20171101-8375-1qc2vrz>, @original_filename="шаг sgd", @content_type="application/octet-stream", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"\xD1\x88\xD0\xB0\xD0\xB3 sgd\"\r\nContent-Type: application/octet-stream\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.5ms)


  
Paperclip::Errors::MissingRequiredValidatorError (Paperclip::Errors::MissingRequiredValidatorError):
  
app/controllers/lots_controller.rb:31:in `create'
Started GET "/lots" for 127.0.0.1 at 2017-11-01 16:08:21 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (24.0ms)
Completed 200 OK in 77ms (Views: 40.5ms | ActiveRecord: 8.9ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-01 16:08:25 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.1ms)
  Rendered lots/new.html.erb within layouts/application (10.7ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-01 16:08:37 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hZTe6nxttEEm8+yuQxDvCB7Jf3VJh3UWLkXLpAau4KyAYboE8k+kuK3VLlFz5+XjT+Cf86l+wQl+jFMMlVZlMw==", "lot"=>{"title"=>"qq", "description"=>"qqq", "start_price"=>"123", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"08", "end_datetime(1i)"=>"2019", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"08", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fcc046a5928 @tempfile=#<Tempfile:/tmp/RackMultipart20171101-8375-xqyg26.png>, @original_filename="иконка.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"\xD0\xB8\xD0\xBA\xD0\xBE\xD0\xBD\xD0\xBA\xD0\xB0.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/93b382db1f7bb3990c3877eb331585bf20171101-8375-16uqnlo.png'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/93b382db1f7bb3990c3877eb331585bf20171101-8375-essjo8.png'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "qq"], ["description", "qqq"], ["start_price", 123], ["start_datetime", "2017-11-01 13:08:00"], ["end_datetime", "2019-11-01 13:08:00"], ["created_at", "2017-11-01 13:08:38.328436"], ["updated_at", "2017-11-01 13:08:38.328436"], ["user_id", 2], ["photo_file_name", "иконка.png"], ["photo_content_type", "image/png"], ["photo_file_size", 7197], ["photo_updated_at", "2017-11-01 13:08:37.841108"]]
  [1m[35m (49.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/6
Completed 302 Found in 562ms (ActiveRecord: 50.8ms)


Started GET "/lots/6" for 127.0.0.1 at 2017-11-01 16:08:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.8ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `photo' for nil:NilClass):
    25:   <%= @lot.end_datetime %>
    26: </p>
    27: 
    28: <%= image_tag @product.photo.url(:medium) %>
    29: 
    30: <%= link_to 'Edit', edit_lot_path(@lot) %> |
    31: <%= link_to 'Back', lots_path %>
  
app/views/lots/show.html.erb:28:in `_app_views_lots_show_html_erb__1099081608237679642_70257109162140'
Started GET "/lots/6" for 127.0.0.1 at 2017-11-01 16:09:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 1.0ms)


Started GET "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png?1509541717" for 127.0.0.1 at 2017-11-01 16:09:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/6/edit" for 127.0.0.1 at 2017-11-01 16:09:28 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (8.5ms)
  Rendered lots/edit.html.erb within layouts/application (10.0ms)
Completed 200 OK in 41ms (Views: 26.4ms | ActiveRecord: 0.9ms)


Started GET "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png?1509541717" for 127.0.0.1 at 2017-11-01 16:09:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png?1509541717" for 127.0.0.1 at 2017-11-01 16:09:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-11-01 16:09:35 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 29ms (Views: 23.2ms | ActiveRecord: 1.1ms)


Started GET "/lots/6" for 127.0.0.1 at 2017-11-01 16:09:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 28ms (Views: 22.6ms | ActiveRecord: 1.2ms)


Started GET "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png?1509541717" for 127.0.0.1 at 2017-11-01 16:09:38 +0300
  
ActionController::RoutingError (No route matches [GET] "/system/lots/photos/000/000/006/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/6" for 127.0.0.1 at 2017-11-01 16:11:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 75ms (Views: 18.9ms | ActiveRecord: 8.9ms)


Started GET "/system/photos/6/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png?1509541717" for 127.0.0.1 at 2017-11-01 16:11:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/system/photos/6/medium/%D0%B8%D0%BA%D0%BE%D0%BD%D0%BA%D0%B0.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:11:36 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 31ms (Views: 25.7ms | ActiveRecord: 1.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-01 16:11:38 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (12.1ms)
  Rendered lots/new.html.erb within layouts/application (13.4ms)
Completed 200 OK in 43ms (Views: 39.8ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-01 16:11:52 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KPDG6uEDzqPDqEDKcQxHz5w6NV2Z+FeqsTXNmil8k1EtBaIEbyHeWkiOgjVB+00kzRPV23kB47Xh/FUyuoQWzg==", "lot"=>{"title"=>"ldcld", "description"=>"dcd", "start_price"=>"213", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"11", "end_datetime(1i)"=>"2022", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"11", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fcbf8495f68 @tempfile=#<Tempfile:/tmp/RackMultipart20171101-8375-1651mz3.png>, @original_filename="карта.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"\xD0\xBA\xD0\xB0\xD1\x80\xD1\x82\xD0\xB0.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-1ygkand.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-w99k30.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-w99k30.png[0]'
Command :: convert '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-w99k30.png[0]' -auto-orient -resize "300x300>" '/tmp/688d946bdd5b2effbcbb9a7965717be220171101-8375-lfahgm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-w99k30.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-w99k30.png[0]'
Command :: convert '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-w99k30.png[0]' -auto-orient -resize "100x100>" '/tmp/688d946bdd5b2effbcbb9a7965717be220171101-8375-uihc5m'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/8c08c9951556b4d0af32105d65ee376620171101-8375-1brksdl.png'
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "ldcld"], ["description", "dcd"], ["start_price", 213], ["start_datetime", "2017-11-01 13:11:00"], ["end_datetime", "2022-11-01 13:11:00"], ["created_at", "2017-11-01 13:11:53.699694"], ["updated_at", "2017-11-01 13:11:53.699694"], ["user_id", 2], ["photo_file_name", "карта.png"], ["photo_content_type", "image/png"], ["photo_file_size", 17915], ["photo_updated_at", "2017-11-01 13:11:52.664211"]]
  [1m[35m (26.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/7
Completed 302 Found in 1095ms (ActiveRecord: 27.3ms)


Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:11:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 34ms (Views: 27.7ms | ActiveRecord: 1.1ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:12:03 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 43ms (Views: 37.8ms | ActiveRecord: 1.5ms)


Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:12:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 26ms (Views: 21.3ms | ActiveRecord: 0.9ms)


Started DELETE "/lots/6" for 127.0.0.1 at 2017-11-01 16:12:11 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"NZh+o/EvfAxs2zzG9yAkN75IzwgUPOvWflK8suX16IoonKKdnJKqXT+l/858SqRdXEA9uMsdTJA00ativFB0AQ==", "id"=>"6"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 6]]
  [1m[35m (47.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 59ms (ActiveRecord: 50.2ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 16:12:11 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 35ms (Views: 30.8ms | ActiveRecord: 1.1ms)


Started DELETE "/lots/5" for 127.0.0.1 at 2017-11-01 16:12:17 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"WRgyKaoRzwgaeSFJD9bB0Akl9ct58ydMkGM9IBu+JPREHO4Xx6wZWUkH4kGEvEG66y0He6bSgAra4CrwQhu4fw==", "id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 5]]
  [1m[35m (150.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 157ms (ActiveRecord: 151.6ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 16:12:17 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 30ms (Views: 24.9ms | ActiveRecord: 1.5ms)


Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:12:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 25ms (Views: 20.6ms | ActiveRecord: 0.9ms)


Started GET "/lots/7/edit" for 127.0.0.1 at 2017-11-01 16:12:29 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (18.5ms)
  Rendered lots/edit.html.erb within layouts/application (20.2ms)
Completed 200 OK in 44ms (Views: 39.1ms | ActiveRecord: 1.0ms)


Started PATCH "/lots/7" for 127.0.0.1 at 2017-11-01 16:12:34 +0300
Processing by LotsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O7srkOEvcU41HwEcigjgfIiWMamOEqTl+pELvFuVQKAqPD13DKm57KI3JvTdNc2ilc07h74qJ0yJF8T7SrFZyg==", "lot"=>{"title"=>"ldcld", "description"=>"dcd", "start_price"=>"213", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"11", "end_datetime(1i)"=>"2022", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"11", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fcbf83e6810 @tempfile=#<Tempfile:/tmp/RackMultipart20171101-8375-1vtsuue.png>, @original_filename="Nexus_5_Front_View.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"Nexus_5_Front_View.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Update Lot", "id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-lxyim8.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-j0b76n.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-j0b76n.png[0]'
Command :: convert '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-j0b76n.png[0]' -auto-orient -resize "300x300>" '/tmp/9e06fd5a330403c447ed209eab66fe9220171101-8375-24ti59'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-j0b76n.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-j0b76n.png[0]'
Command :: convert '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-j0b76n.png[0]' -auto-orient -resize "100x100>" '/tmp/9e06fd5a330403c447ed209eab66fe9220171101-8375-ku2vi0'
Command :: file -b --mime '/tmp/6eb2440323a6863c6b00064539cca9c520171101-8375-1umbpm2.png'
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "lots" SET "photo_file_name" = $1, "photo_file_size" = $2, "photo_updated_at" = $3, "updated_at" = $4 WHERE "lots"."id" = $5[0m  [["photo_file_name", "Nexus_5_Front_View.png"], ["photo_file_size", 364799], ["photo_updated_at", "2017-11-01 13:12:34.813537"], ["updated_at", "2017-11-01 13:12:35.434078"], ["id", 7]]
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/7/original/карта.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/7/medium/карта.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/7/thumb/карта.png
  [1m[35m (51.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/7
Completed 302 Found in 690ms (ActiveRecord: 52.6ms)


Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:12:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 29ms (Views: 23.1ms | ActiveRecord: 1.2ms)


Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:13:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 36ms (Views: 30.0ms | ActiveRecord: 0.9ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:14:01 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 1.1ms)


Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:14:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 26ms (Views: 21.1ms | ActiveRecord: 1.0ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-01 16:14:46 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 27ms (Views: 22.7ms | ActiveRecord: 1.3ms)


Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:14:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (297.8ms)
Completed 500 Internal Server Error in 306ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007fcbf811eb28>:0x007fcbf8489c68>
Did you mean?  @lot):
    30: </p>
    31: 
    32: <%= link_to 'Edit', edit_lot_path(@lot) %> |
    33: <%= link_to 'Destroy', lot, method: :delete, data: { confirm: 'Are you sure?' } %> |
    34: <%= link_to 'Back', lots_path %>
  
app/views/lots/show.html.erb:33:in `_app_views_lots_show_html_erb__1099081608237679642_70257010300160'
Started GET "/lots/7" for 127.0.0.1 at 2017-11-01 16:15:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 40ms (Views: 35.3ms | ActiveRecord: 1.0ms)


Started DELETE "/lots/7" for 127.0.0.1 at 2017-11-01 16:15:12 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"a/OqaO5dXDdb2/qLWIYFj3cBLpxKUaV7p9iinQLfwdp293ZWg+CKZgilOYPT7IXllQncLJVwAj3tW7VNW3pdUQ==", "id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 7]]
  [1m[35m (50.8ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/7/original/Nexus_5_Front_View.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/7/medium/Nexus_5_Front_View.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/7/thumb/Nexus_5_Front_View.png
Redirected to http://localhost:3000/lots
Completed 302 Found in 62ms (ActiveRecord: 53.3ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 16:15:13 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 37ms (Views: 29.7ms | ActiveRecord: 2.3ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-01 16:15:14 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (21.2ms)
  Rendered lots/new.html.erb within layouts/application (23.1ms)
Completed 200 OK in 73ms (Views: 68.1ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-01 16:15:31 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HTzCwsbzor+lHz/9qFZqZtPjP2oe2Jhw976fNcpdRgkYyaYsSNGyRi45/QKYoWCNgsrf7P4hLG+ndwedWaXDlg==", "lot"=>{"title"=>"nexus", "description"=>"5", "start_price"=>"12000", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"15", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"1", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"15", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fcc053e9c60 @tempfile=#<Tempfile:/tmp/RackMultipart20171101-8375-w3k16.png>, @original_filename="Nexus_5_Front_View (другая копия).png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"Nexus_5_Front_View (\xD0\xB4\xD1\x80\xD1\x83\xD0\xB3\xD0\xB0\xD1\x8F \xD0\xBA\xD0\xBE\xD0\xBF\xD0\xB8\xD1\x8F).png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/f92033638fc5e90ceb447d10542d1d8c20171101-8375-e3azk5.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/9bc1380c3b1631fc0c91cbdb2202e22320171101-8375-b9y495.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/9bc1380c3b1631fc0c91cbdb2202e22320171101-8375-b9y495.png[0]'
Command :: convert '/tmp/9bc1380c3b1631fc0c91cbdb2202e22320171101-8375-b9y495.png[0]' -auto-orient -resize "300x300>" '/tmp/1e4dd5f66c014efca2242f9600fcde1c20171101-8375-69y5cu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/9bc1380c3b1631fc0c91cbdb2202e22320171101-8375-b9y495.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/9bc1380c3b1631fc0c91cbdb2202e22320171101-8375-b9y495.png[0]'
Command :: convert '/tmp/9bc1380c3b1631fc0c91cbdb2202e22320171101-8375-b9y495.png[0]' -auto-orient -resize "100x100>" '/tmp/1e4dd5f66c014efca2242f9600fcde1c20171101-8375-c8h6nj'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/f92033638fc5e90ceb447d10542d1d8c20171101-8375-wdtqpz.png'
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "nexus"], ["description", "5"], ["start_price", 12000], ["start_datetime", "2017-11-01 13:15:00"], ["end_datetime", "2018-11-01 13:15:00"], ["created_at", "2017-11-01 13:15:32.037620"], ["updated_at", "2017-11-01 13:15:32.037620"], ["user_id", 2], ["photo_file_name", "Nexus_5_Front_View_(другая_копия).png"], ["photo_content_type", "image/png"], ["photo_file_size", 364799], ["photo_updated_at", "2017-11-01 13:15:31.454375"]]
  [1m[35m (57.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 658ms (ActiveRecord: 58.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-01 16:15:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 39ms (Views: 32.3ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-01 16:15:39 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 58ms (Views: 53.1ms | ActiveRecord: 1.5ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-02 11:41:26 +0300
  [1m[35m (112.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (72.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (38.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (70.6ms)
Completed 200 OK in 666ms (Views: 420.0ms | ActiveRecord: 178.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-02 11:41:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 45ms (Views: 19.3ms | ActiveRecord: 1.4ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-02 11:46:41 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 39ms (Views: 33.4ms | ActiveRecord: 1.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-02 11:46:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 28ms (Views: 21.8ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-11-06 16:24:01 +0300
  [1m[35m (46.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (101.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (26.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (76.9ms)
Completed 200 OK in 746ms (Views: 379.3ms | ActiveRecord: 240.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 16:24:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 49ms (Views: 17.8ms | ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 16:24:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (3.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 35ms (Views: 22.8ms | ActiveRecord: 4.0ms)


  [1m[35m (31.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddMaxRateToLots (20171106135036)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (187.2ms)[0m  [1m[35mALTER TABLE "lots" ADD "max_rate" integer[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171106135036"]]
  [1m[35m (65.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (61.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRates (20171106135347)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (396.8ms)[0m  [1m[35mCREATE TABLE "rates" ("id" bigserial primary key, "user_id" integer, "lot_id" integer, "users_rate" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171106135347"]]
  [1m[35m (33.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/lots" for 127.0.0.1 at 2017-11-06 17:37:12 +0300
  [1m[35m (8.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (24.0ms)
Completed 200 OK in 296ms (Views: 183.0ms | ActiveRecord: 38.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 17:37:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (55.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 136ms (Views: 22.1ms | ActiveRecord: 56.8ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-06 19:07:59 +0300
  [1m[35m (31.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (37.4ms)
Completed 200 OK in 718ms (Views: 561.0ms | ActiveRecord: 32.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 19:08:01 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 55ms (Views: 26.0ms | ActiveRecord: 1.8ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-06 19:10:17 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 31ms (Views: 25.6ms | ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 19:10:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.7ms)
Completed 200 OK in 25ms (Views: 20.5ms | ActiveRecord: 1.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 19:29:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (0.9ms)
  Rendered lots/show.html.erb within layouts/application (3.7ms)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.9ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/rates/_form.html.erb:24: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
                ^):
  
app/views/rates/_form.html.erb:24: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb___910967278073593000_70071164279480'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 19:30:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (309.8ms)
  Rendered lots/show.html.erb within layouts/application (312.6ms)
Completed 500 Internal Server Error in 323ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x005600242f8f80>:0x007f7564176700>
Did you mean?  @lot):
    1: <%= form_for [lot, rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___1491277684596728824_70071083656480'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb___910967278073593000_70071083579500'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 19:30:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (320.8ms)
  Rendered lots/show.html.erb within layouts/application (323.6ms)
Completed 500 Internal Server Error in 330ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x005600242f8f80>:0x007f75600f1e00>):
    1: <%= form_for [@lot, rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___1491277684596728824_70071049990440'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb___910967278073593000_70071049753580'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 19:30:27 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (1.7ms)
  Rendered lots/show.html.erb within layouts/application (4.7ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___1491277684596728824_70071083246640'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb___910967278073593000_70071083343800'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-06 20:47:43 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (2.5ms)
  Rendered lots/show.html.erb within layouts/application (6.2ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___1491277684596728824_70071166693680'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb___910967278073593000_70071166741660'
Started GET "/" for 127.0.0.1 at 2017-11-07 13:57:13 +0300
  [1m[35m (46.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (69.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (23.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (69.0ms)
Completed 200 OK in 667ms (Views: 386.2ms | ActiveRecord: 156.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-07 13:57:18 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (3.9ms)
  Rendered lots/show.html.erb within layouts/application (7.1ms)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___81635234491210881_70153799755360'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__2235557506970233350_70153727644180'
Started GET "/" for 127.0.0.1 at 2017-11-07 14:06:31 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 31ms (Views: 25.6ms | ActiveRecord: 1.3ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-07 14:06:33 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (118.8ms)
  Rendered lots/new.html.erb within layouts/application (121.0ms)
Completed 200 OK in 185ms (Views: 138.1ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-07 14:06:51 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6VBnuD183IV+cFlAG6mM0EZOouasG/jwVwUXHHR9o17spQNWs17MfPVWm78rXoY7F2dCYEziTO8HzI+054UmwQ==", "lot"=>{"title"=>"hhh", "description"=>"hhhh", "start_price"=>"89", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"7", "start_datetime(4i)"=>"11", "start_datetime(5i)"=>"06", "end_datetime(1i)"=>"2019", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"7", "end_datetime(4i)"=>"11", "end_datetime(5i)"=>"06", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f9be0435f48 @tempfile=#<Tempfile:/tmp/RackMultipart20171107-2503-6gwdeo.png>, @original_filename="иконка.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"\xD0\xB8\xD0\xBA\xD0\xBE\xD0\xBD\xD0\xBA\xD0\xB0.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-av06ye.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-19zeser.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-19zeser.png[0]'
Command :: convert '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-19zeser.png[0]' -auto-orient -resize "300x300>" '/tmp/9daeb378dea8a7281681ead3f9a5822c20171107-2503-1yefurj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-19zeser.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-19zeser.png[0]'
Command :: convert '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-19zeser.png[0]' -auto-orient -resize "100x100>" '/tmp/9daeb378dea8a7281681ead3f9a5822c20171107-2503-107p9yq'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/93b382db1f7bb3990c3877eb331585bf20171107-2503-biai6b.png'
  [1m[35mSQL (37.1ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "hhh"], ["description", "hhhh"], ["start_price", 89], ["start_datetime", "2017-11-07 11:06:00"], ["end_datetime", "2019-11-07 11:06:00"], ["created_at", "2017-11-07 11:06:51.976557"], ["updated_at", "2017-11-07 11:06:51.976557"], ["user_id", 2], ["photo_file_name", "иконка.png"], ["photo_content_type", "image/png"], ["photo_file_size", 7197], ["photo_updated_at", "2017-11-07 11:06:51.166812"]]
  [1m[35m (82.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/9
Completed 302 Found in 1110ms (ActiveRecord: 120.4ms)


Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:06:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (2.6ms)
  Rendered lots/show.html.erb within layouts/application (6.2ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___81635234491210881_70153728643140'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__2235557506970233350_70153728722680'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:09:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (276.6ms)
  Rendered lots/show.html.erb within layouts/application (279.8ms)
Completed 500 Internal Server Error in 288ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x0055eb183f7a60>:0x007f9be07b0718>):
    1: <%=  form_with(model: rate, local: true) do |form|  %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___81635234491210881_70153731329820'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__2235557506970233350_70153731410040'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:09:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (289.6ms)
  Rendered lots/show.html.erb within layouts/application (295.0ms)
Completed 500 Internal Server Error in 305ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x0055eb183f7a60>:0x007f9be07fec10>):
    1: <%= form_with(model: rate, local: true) do |form|  %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___81635234491210881_70153731669740'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__2235557506970233350_70153731570420'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:09:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (274.5ms)
  Rendered lots/show.html.erb within layouts/application (277.1ms)
Completed 500 Internal Server Error in 284ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x0055eb183f7a60>:0x007f9be086a578>):
    1: <%= form_with(model: @rate, local: true) do |form|  %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
    5: 
  
app/views/rates/_form.html.erb:2:in `block in _app_views_rates__form_html_erb___81635234491210881_70153731713280'
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___81635234491210881_70153731713280'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__2235557506970233350_70153731790780'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:17:11 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (285.2ms)
  Rendered lots/show.html.erb within layouts/application (288.2ms)
Completed 500 Internal Server Error in 295ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x0055eb183f7a60>:0x007f9be04a3548>):
    1: <%= form_with(model: rate, local: true) do |form|  %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___81635234491210881_70153729727920'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__2235557506970233350_70153729818780'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:17:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (283.2ms)
  Rendered lots/show.html.erb within layouts/application (286.2ms)
Completed 500 Internal Server Error in 293ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x0055eb183f7a60>:0x007f9be94f53a8>
Did you mean?  @lot):
    1: <%= form_for [lot, rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___81635234491210881_70153805233680'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__2235557506970233350_70153805477380'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:24:42 +0300
  [1m[35m (45.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (63.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (38.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (370.7ms)
  Rendered lots/show.html.erb within layouts/application (377.6ms)
Completed 500 Internal Server Error in 729ms (ActiveRecord: 202.0ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x00561966a0b858>:0x005619669e9e10>
Did you mean?  @lot):
    1: <%= form_for [lot, rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___2926592321521734685_47333545756840'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__1824900226223955377_47333548042740'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:28:18 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (2.6ms)
  Rendered lots/show.html.erb within layouts/application (5.5ms)
Completed 500 Internal Server Error in 71ms (ActiveRecord: 8.4ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___2926592321521734685_47333550400620'
app/views/lots/show.html.erb:44:in `_app_views_lots_show_html_erb__1824900226223955377_47333550584420'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:30:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 115ms (ActiveRecord: 9.8ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.erb:44: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
pend=( if @lot.rates_exists? );@output_buffer.safe_append='
                              ^
/home/pavlov/fs/auction/app/views/lots/show.html.erb:46: syntax error, unexpected keyword_end, expecting ')'
'.freeze; end ;
             ^
/home/pavlov/fs/auction/app/views/lots/show.html.erb:48: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
                ^
/home/pavlov/fs/auction/app/views/lots/show.html.erb:50: syntax error, unexpected keyword_end, expecting ')'
          end
             ^):
  
app/views/lots/show.html.erb:44: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
app/views/lots/show.html.erb:46: syntax error, unexpected keyword_end, expecting ')'
app/views/lots/show.html.erb:48: syntax error, unexpected keyword_ensure, expecting ')'
app/views/lots/show.html.erb:50: syntax error, unexpected keyword_end, expecting ')'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:30:42 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered rates/_form.html.erb (2.9ms)
  Rendered lots/show.html.erb within layouts/application (6.8ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___2926592321521734685_69977466094980'
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb__1824900226223955377_47333548138700'
Started GET "/lots/9" for 127.0.0.1 at 2017-11-07 14:30:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (22.2ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f49bc3afd38>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb__1824900226223955377_69977333658760'
Started GET "/lots/" for 127.0.0.1 at 2017-11-09 18:25:15 +0300
  [1m[35m (46.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (60.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (27.9ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (62.6ms)
Completed 200 OK in 642ms (Views: 381.2ms | ActiveRecord: 210.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 18:25:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (25.0ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007fe0780518c8>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb___4249418775290276125_70301031498300'
Started GET "/lots/" for 127.0.0.1 at 2017-11-09 18:25:25 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 31ms (Views: 25.6ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-11-09 18:55:11 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (26.6ms)
Completed 200 OK in 403ms (Views: 339.6ms | ActiveRecord: 15.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 18:55:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (25.1ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f2ee003a758>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb___1343691935502156782_69919651776900'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 19:09:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (26.7ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 13.8ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f2ee4418a60>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb___1343691935502156782_69919687383900'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 19:10:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (24.1ms)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 9.4ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f2ee03b1738>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb___1343691935502156782_69919653593460'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 19:11:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (22.8ms)
Completed 500 Internal Server Error in 92ms (ActiveRecord: 11.9ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f2ee432c0c0>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb___1343691935502156782_69919686858000'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 19:12:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (25.9ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f2eedb37950>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb___1343691935502156782_69919766590080'
Started GET "/lots" for 127.0.0.1 at 2017-11-09 23:43:05 +0300
  [1m[35m (102.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (62.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (39.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (90.6ms)
Completed 200 OK in 626ms (Views: 361.9ms | ActiveRecord: 161.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:43:13 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.erb within layouts/application
  Rendered lots/show.html.erb within layouts/application (51.8ms)
Completed 500 Internal Server Error in 131ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f4ca408e948>
Did you mean?  rate_ids):
    40: 
    41: 
    42: 
    43: <% if @lot.rates_exists? %>
    44: <%= render "rates/form" %>
    45:   <%= render lot.rates %>
    46: <% end -%>
  
app/views/lots/show.html.erb:43:in `_app_views_lots_show_html_erb__551449235478168192_69983573142100'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:45:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (94.8ms)
Completed 200 OK in 129ms (Views: 123.8ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:45:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (11.7ms)
Completed 200 OK in 59ms (Views: 52.1ms | ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:45:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (9.3ms)
Completed 200 OK in 38ms (Views: 30.8ms | ActiveRecord: 2.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:46:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (3.6ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (Expected tag
  /home/pavlov/fs/auction/app/views/lots/show.html.slim, Line 5, Column 9
    Title:
          ^
):
    2:   = notice
    3: p
    4:   strong
    5:    Title:
    6:   = @lot.title
    7: p
    8:   strong
  
app/views/lots/show.html.slim:5
Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:46:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (11.7ms)
Completed 200 OK in 43ms (Views: 37.2ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:46:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.3ms)
Completed 200 OK in 32ms (Views: 25.1ms | ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:46:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (8.9ms)
Completed 200 OK in 38ms (Views: 29.5ms | ActiveRecord: 0.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:47:19 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (9.2ms)
Completed 200 OK in 34ms (Views: 29.0ms | ActiveRecord: 1.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:54:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (13.3ms)
Completed 200 OK in 46ms (Views: 39.9ms | ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:57:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.1ms)
Completed 200 OK in 74ms (Views: 24.5ms | ActiveRecord: 8.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-09 23:57:30 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (27.0ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f4ca86ab138>
Did you mean?  rate_ids):
    25: = link_to 'Destroy', lot_path, method: :delete, data: { confirm: 'Are you sure?' }
    26: |  | 
    27: = link_to 'Back', lots_path
    28: - if @lot.rates_exists?
    29:   = render "rates/form"
    30:   = render lot.rates
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_69983609875500'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 00:19:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (25.7ms)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 9.4ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f4ca42b4e98>
Did you mean?  rate_ids):
    25: = link_to 'Destroy', lot_path, method: :delete, data: { confirm: 'Are you sure?' }
    26: |  | 
    27: = link_to 'Back', lots_path
    28: - if @lot.rates_exists?
    29:   = render "rates/form"
    30:   = render lot.rates
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_69983574260620'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 00:20:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (25.7ms)
Completed 500 Internal Server Error in 71ms (ActiveRecord: 8.5ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f4ca9933800>
Did you mean?  rate_ids):
    25: = link_to 'Destroy', lot_path, method: :delete, data: { confirm: 'Are you sure?' }
    26: |  | 
    27: = link_to 'Back', lots_path
    28: - if @lot.rates_exists?
    29:   = render "rates/form"
    30:   = render lot.rates
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_69983619613160'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 00:22:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (27.0ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 7.8ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x005586bb5a64e0>
Did you mean?  rate_ids):
    25: = link_to 'Destroy', lot_path, method: :delete, data: { confirm: 'Are you sure?' }
    26: |  | 
    27: = link_to 'Back', lots_path
    28: - if @lot.rates_exists?
    29:   = render "rates/form"
    30:   = render lot.rates
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_47018578610620'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 00:23:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.erb (3.0ms)
  Rendered lots/show.html.slim within layouts/application (90.6ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb__871870285518593010_69983573926180'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_69983574388980'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 00:26:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.erb (368.1ms)
  Rendered lots/show.html.slim within layouts/application (380.3ms)
Completed 500 Internal Server Error in 389ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x005586bb59eee8>:0x007f4c9c01d1b0>):
    1: <%= form_for [lot, rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb__871870285518593010_69983621230240'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_69983505805040'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 00:26:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.erb (3.2ms)
  Rendered lots/show.html.slim within layouts/application (20.7ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb__871870285518593010_69983619240740'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_69983615340980'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 00:27:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.erb (1.6ms)
  Rendered lots/show.html.slim within layouts/application (9.7ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb__871870285518593010_69983619445340'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___162287463970499621_69983575667540'
Started GET "/lots/" for 127.0.0.1 at 2017-11-10 14:10:05 +0300
  [1m[35m (46.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (62.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (36.2ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (82.2ms)
Completed 200 OK in 613ms (Views: 362.6ms | ActiveRecord: 151.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:10:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.erb (15.7ms)
  Rendered lots/show.html.slim within layouts/application (88.6ms)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for [@lot, @rate], remote: true do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___3934990600666127024_47032917607640'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___294606495892286600_70250498559340'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:12:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.erb (311.9ms)
  Rendered lots/show.html.slim within layouts/application (348.8ms)
Completed 500 Internal Server Error in 359ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007fc90458d228>:0x007fc8f00371c0>):
    1: <%= form_with(model: lot, local: true) do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
    5: 
  
app/views/rates/_form.html.erb:2:in `block in _app_views_rates__form_html_erb___3934990600666127024_70250499300900'
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___3934990600666127024_70250499300900'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___294606495892286600_70250498473600'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:13:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.erb (302.1ms)
  Rendered lots/show.html.slim within layouts/application (313.0ms)
Completed 500 Internal Server Error in 320ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007fc90458d228>:0x007fc90563f350>):
    1: <%= form_with(model: rate, local: true) do |form| %>
    2: 	<% if rate.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(rate.errors.count, "error") %> prohibited this rate from being saved:</h2>
  
app/views/rates/_form.html.erb:1:in `_app_views_rates__form_html_erb___3934990600666127024_70250673163040'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___294606495892286600_70250677805400'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:16:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (279.3ms)
  Rendered lots/show.html.slim within layouts/application (290.9ms)
Completed 500 Internal Server Error in 298ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007fc90458d228>:0x007fc905d49cb8>):
    1: = form_for [lot, rate], remote: true do |f|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_70250680013280'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___294606495892286600_70250681488300'
Started GET "/lots/" for 127.0.0.1 at 2017-11-10 14:17:32 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 29ms (Views: 23.7ms | ActiveRecord: 1.5ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-10 14:17:33 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 27ms (Views: 22.3ms | ActiveRecord: 1.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:17:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (274.7ms)
  Rendered lots/show.html.slim within layouts/application (284.4ms)
Completed 500 Internal Server Error in 292ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007fc90458d228>:0x007fc905289580>):
    1: = form_for [lot, rate], remote: true do |f|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_70250674338400'
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___294606495892286600_70250675852440'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:19:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (338.8ms)
  Rendered lots/show.html.slim within layouts/application (354.1ms)
Completed 500 Internal Server Error in 361ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007fc90458d228>:0x00558d68a172c8>):
    1: = form_for [lot, rate], remote: true do |f|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_47032912793600'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___294606495892286600_47032917185180'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:19:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.4ms)
  Rendered lots/show.html.slim within layouts/application (19.3ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rate], remote: true do |f|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_70250678224480'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___294606495892286600_70250679861140'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:34:57 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.3ms)
  Rendered lots/show.html.slim within layouts/application (21.0ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 8.2ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rate], remote: true do |fORM|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_70250499153040'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___294606495892286600_47032913105140'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:37:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.4ms)
  Rendered lots/show.html.slim within layouts/application (14.6ms)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 9.2ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rate], remote: true do |fORM|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_70250668137920'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___294606495892286600_70250671260680'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:38:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.9ms)
  Rendered lots/show.html.slim within layouts/application (29.8ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |fORM|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_70250499005480'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___294606495892286600_70250499088100'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-10 14:38:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.6ms)
  Rendered lots/show.html.slim within layouts/application (14.4ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___1967077182536151957_70250678981940'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___294606495892286600_70250680954960'
Started GET "/" for 127.0.0.1 at 2017-11-11 22:56:32 +0300
  [1m[35m (46.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (73.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (36.2ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (74.9ms)
Completed 200 OK in 674ms (Views: 358.9ms | ActiveRecord: 227.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-11 22:56:38 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (110.8ms)
  Rendered lots/new.html.erb within layouts/application (130.1ms)
Completed 200 OK in 189ms (Views: 147.9ms | ActiveRecord: 0.8ms)


Started POST "/lots" for 127.0.0.1 at 2017-11-11 22:56:54 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lfhPq2gSwB1OM6xsIVyqcmQ2Lbd5FEcz0ugyN+IBDKOQDStF5jDQ5MUVbpMRq6CZNR/NMZnt8yyCIaqfcfmJPA==", "lot"=>{"title"=>"kdnc", "description"=>"fvf", "start_price"=>"12", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"11", "start_datetime(4i)"=>"19", "start_datetime(5i)"=>"56", "end_datetime(1i)"=>"2020", "end_datetime(2i)"=>"11", "end_datetime(3i)"=>"11", "end_datetime(4i)"=>"19", "end_datetime(5i)"=>"56", "photo"=>#<ActionDispatch::Http::UploadedFile:0x005645003464a8 @tempfile=#<Tempfile:/tmp/RackMultipart20171111-7224-1ot43kl.png>, @original_filename="иконка.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"\xD0\xB8\xD0\xBA\xD0\xBE\xD0\xBD\xD0\xBA\xD0\xB0.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-co4o4k.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-1ob2856.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-1ob2856.png[0]'
Command :: convert '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-1ob2856.png[0]' -auto-orient -resize "300x300>" '/tmp/19896108ac5fc29d4c95af69cce237d520171111-7224-g734ut'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-1ob2856.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-1ob2856.png[0]'
Command :: convert '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-1ob2856.png[0]' -auto-orient -resize "100x100>" '/tmp/19896108ac5fc29d4c95af69cce237d520171111-7224-ppcs43'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/93b382db1f7bb3990c3877eb331585bf20171111-7224-1s412bl.png'
  [1m[35mSQL (54.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "kdnc"], ["description", "fvf"], ["start_price", 12], ["start_datetime", "2017-11-11 19:56:00"], ["end_datetime", "2020-11-11 19:56:00"], ["created_at", "2017-11-11 19:56:55.421702"], ["updated_at", "2017-11-11 19:56:55.421702"], ["user_id", 2], ["photo_file_name", "иконка.png"], ["photo_content_type", "image/png"], ["photo_file_size", 7197], ["photo_updated_at", "2017-11-11 19:56:54.378717"]]
  [1m[35m (85.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/10
Completed 302 Found in 1363ms (ActiveRecord: 140.9ms)


Started GET "/lots/10" for 127.0.0.1 at 2017-11-11 22:56:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (18.2ms)
  Rendered lots/show.html.slim within layouts/application (66.6ms)
Completed 500 Internal Server Error in 131ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341441987820'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341363838760'
Started GET "/lots/10" for 127.0.0.1 at 2017-11-11 23:02:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.6ms)
  Rendered lots/show.html.slim within layouts/application (15.1ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341444480360'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341445768460'
Started GET "/lots/" for 127.0.0.1 at 2017-11-11 23:07:37 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 34ms (Views: 29.2ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (58.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["lot_id", 8], ["users_rate", 32], ["created_at", "2017-11-11 20:08:35.827123"], ["updated_at", "2017-11-11 20:08:35.827123"]]
  [1m[35m (24.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:09:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.2ms)
  Rendered lots/show.html.slim within layouts/application (14.7ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341435874860'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341440518840'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:12:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.1ms)
  Rendered lots/show.html.slim within layouts/application (20.6ms)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 8.9ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341446546620'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341447489240'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:12:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.4ms)
  Rendered lots/show.html.slim within layouts/application (13.3ms)
Completed 500 Internal Server Error in 77ms (ActiveRecord: 14.4ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341432112240'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341435297080'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:12:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.2ms)
  Rendered lots/show.html.slim within layouts/application (16.3ms)
Completed 500 Internal Server Error in 77ms (ActiveRecord: 12.4ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rates], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341443044140'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341444826100'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:28:11 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.0ms)
  Rendered lots/show.html.slim within layouts/application (33.4ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 1.0ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/rates/_form.html.slim:1: syntax error, unexpected keyword_do, expecting keyword_end
@lot, @rate]), remote: true do |form|; 
                              ^
/home/pavlov/fs/auction/app/views/rates/_form.html.slim:18: syntax error, unexpected keyword_ensure, expecting end-of-input
          ensure
                ^):
  
app/views/rates/_form.html.slim:1: syntax error, unexpected keyword_do, expecting keyword_end
app/views/rates/_form.html.slim:18: syntax error, unexpected keyword_ensure, expecting end-of-input
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341442284880'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:28:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.4ms)
  Rendered lots/show.html.slim within layouts/application (15.5ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rate], remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341445681240'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341296687380'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:28:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.6ms)
  Rendered lots/show.html.slim within layouts/application (18.1ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for (@rate), remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341435362220'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341440415660'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:28:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (22.3ms)
  Rendered lots/show.html.slim within layouts/application (41.1ms)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for (@rates), remote: true do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341447829540'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341531648540'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:29:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.7ms)
  Rendered lots/show.html.slim within layouts/application (13.5ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for (@rates) do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341467206720'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341464814080'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:29:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (327.1ms)
  Rendered lots/show.html.slim within layouts/application (338.7ms)
Completed 500 Internal Server Error in 348ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007ff349a9dd48>:0x00564500a136f0>):
    1: = form_for (rate) do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_47427166092380'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_47427181655440'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:29:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (263.5ms)
  Rendered lots/show.html.slim within layouts/application (272.8ms)
Completed 500 Internal Server Error in 279ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined local variable or method `rates' for #<#<Class:0x007ff349a9dd48>:0x007ff349ae3d70>
Did you mean?  rates_url):
    1: = form_for (rates) do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341445534680'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341444969420'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:29:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (324.4ms)
  Rendered lots/show.html.slim within layouts/application (335.1ms)
Completed 500 Internal Server Error in 344ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007ff349a9dd48>:0x007ff349dea870>):
    1: = form_for (rates_url) do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
    5:         | prohibited this rate from being saved:
  
app/views/rates/_form.html.slim:2:in `block in _app_views_rates__form_html_slim__4379147064869420360_70341447687880'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341447687880'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341446556080'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:30:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.3ms)
  Rendered lots/show.html.slim within layouts/application (12.8ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for (@rate) do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341468919300'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341469351200'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:30:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.6ms)
  Rendered lots/show.html.slim within layouts/application (15.0ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for (@rate) do |form|
    2:   - if @rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341446923400'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341447029660'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:31:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (286.8ms)
  Rendered lots/show.html.slim within layouts/application (294.7ms)
Completed 500 Internal Server Error in 304ms (ActiveRecord: 5.3ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<#<Class:0x007ff349a9dd48>:0x007ff34c900b40>):
    1: = form_for Rate.new do |form|
    2:   - if rate.errors.any?
    3:     #error_explanation
    4:       h2 = pluralize(rate.errors.count, "error")
    5:         | prohibited this rate from being saved:
  
app/views/rates/_form.html.slim:2:in `block in _app_views_rates__form_html_slim__4379147064869420360_70341468717060'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4379147064869420360_70341468717060'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__854269912028939972_70341469145740'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:31:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.6ms)
  Rendered lots/show.html.slim within layouts/application (24.3ms)
Completed 200 OK in 49ms (Views: 44.1ms | ActiveRecord: 0.8ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:31:23 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WJrAZqYVfMzweNtnmsFNj9jrOhbpER503D3vw4gRlwlFnhxYy6iqnaMGGG8Rq83lOuPIpjYwuTKWvvgT0bQLgg==", "rate"=>{"users_rate"=>"21"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:32:07 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WJrAZqYVfMzweNtnmsFNj9jrOhbpER503D3vw4gRlwlFnhxYy6iqnaMGGG8Rq83lOuPIpjYwuTKWvvgT0bQLgg==", "rate"=>{"users_rate"=>"20"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 1.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:32:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WJrAZqYVfMzweNtnmsFNj9jrOhbpER503D3vw4gRlwlFnhxYy6iqnaMGGG8Rq83lOuPIpjYwuTKWvvgT0bQLgg==", "rate"=>{"users_rate"=>"20"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 38ms (ActiveRecord: 9.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:42:23 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:33: syntax error, unexpected '=', expecting ']'
ot = Lot.find(params[:lot_id = Lot.id])
                              ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:33: syntax error, unexpected ']', expecting keyword_end
.find(params[:lot_id = Lot.id])
                              ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:39: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/rates_controller.rb:33: syntax error, unexpected '=', expecting ']'
app/controllers/rates_controller.rb:33: syntax error, unexpected ']', expecting keyword_end
app/controllers/rates_controller.rb:39: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/" for 127.0.0.1 at 2017-11-11 23:42:36 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (25.7ms)
Completed 200 OK in 74ms (Views: 39.2ms | ActiveRecord: 9.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:42:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (20.3ms)
  Rendered lots/show.html.slim within layouts/application (32.0ms)
Completed 200 OK in 69ms (Views: 59.5ms | ActiveRecord: 5.0ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:42:43 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:33: syntax error, unexpected '=', expecting ']'
ot = Lot.find(params[:lot_id = Lot.id])
                              ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:33: syntax error, unexpected ']', expecting keyword_end
.find(params[:lot_id = Lot.id])
                              ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:39: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/rates_controller.rb:33: syntax error, unexpected '=', expecting ']'
app/controllers/rates_controller.rb:33: syntax error, unexpected ']', expecting keyword_end
app/controllers/rates_controller.rb:39: syntax error, unexpected end-of-input, expecting keyword_end
Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:42:56 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hdN2AJkzqUqNaqbY43BK5B2Jv/ciJ5khyo0XdQVvBHUucI4q8U8Z17Lwl2UdNsX6X3sT/L0nx+p5EEFSZr93Sg==", "rate"=>{"users_rate"=>"4"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 43ms (ActiveRecord: 4.7ms)


  
NoMethodError (undefined method `id' for #<Class:0x007ff34c412368>
Did you mean?  ids):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:44:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (18.4ms)
  Rendered lots/show.html.slim within layouts/application (28.0ms)
Completed 200 OK in 96ms (Views: 46.2ms | ActiveRecord: 11.7ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:44:11 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2bIRgZ5bK67CeGg8PQUtMgViw1OVk8x5QRafOPAV68/Ets2/8+b9/5EGqzS2b61Y52ox40qyaz8LlYjoqbB3RA==", "rate"=>{"users_rate"=>"44"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 1.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:45:38 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2bIRgZ5bK67CeGg8PQUtMgViw1OVk8x5QRafOPAV68/Ets2/8+b9/5EGqzS2b61Y52ox40qyaz8LlYjoqbB3RA==", "rate"=>{"users_rate"=>"44"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 36ms (ActiveRecord: 7.5ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:45:47 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2bIRgZ5bK67CeGg8PQUtMgViw1OVk8x5QRafOPAV68/Ets2/8+b9/5EGqzS2b61Y52ox40qyaz8LlYjoqbB3RA==", "rate"=>{"users_rate"=>"44"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 38ms (ActiveRecord: 8.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started GET "/rates" for 127.0.0.1 at 2017-11-11 23:46:09 +0300
Processing by RatesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 39ms (ActiveRecord: 0.7ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:46:13 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (15.8ms)
  Rendered lots/show.html.slim within layouts/application (24.0ms)
Completed 200 OK in 65ms (Views: 40.3ms | ActiveRecord: 5.5ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-11 23:46:16 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 27ms (Views: 21.1ms | ActiveRecord: 1.2ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-11 23:46:19 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 25ms (Views: 20.9ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-11 23:46:21 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (4.5ms)
  Rendered lots/show.html.slim within layouts/application (14.6ms)
Completed 200 OK in 39ms (Views: 34.7ms | ActiveRecord: 0.7ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-11 23:46:25 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CkqDqG26Wm/B/sFlWdqGGtXG8FeuZXXP6ToqqGQ5wrih6XuCBcbq8v5k8NinnAkElzRcXDFlKwRap3yPB+mxhw==", "rate"=>{"users_rate"=>"33"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started GET "/lots/" for 127.0.0.1 at 2017-11-13 12:49:32 +0300
  [1m[35m (46.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (73.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.erb within layouts/application
  [1m[36mLot Load (41.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.erb within layouts/application (64.7ms)
Completed 200 OK in 502ms (Views: 282.2ms | ActiveRecord: 186.5ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-13 12:50:42 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (19.2ms)
Completed 200 OK in 46ms (Views: 39.8ms | ActiveRecord: 1.3ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-13 12:50:49 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.2ms)
Completed 200 OK in 52ms (Views: 45.7ms | ActiveRecord: 1.5ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-13 12:54:07 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (358.8ms)
Completed 500 Internal Server Error in 367ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined local variable or method `my_lots' for #<#<Class:0x007f8684657220>:0x007f8685903400>
Did you mean?  my_lots_url):
    23: = link_to 'Sign out', destroy_user_session_path, method: :delete
    24: 
    25: h1
    26: =link_to 'my lots', my_lots
  
app/views/lots/index.html.slim:26:in `_app_views_lots_index_html_slim___706826236993777060_70107871583980'
Started GET "/lots/" for 127.0.0.1 at 2017-11-13 12:54:28 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.4ms)
Completed 200 OK in 46ms (Views: 40.6ms | ActiveRecord: 1.4ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 12:54:31 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (341.3ms)
Completed 500 Internal Server Error in 358ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined local variable or method `lots' for #<#<Class:0x007f8685970aa0>:0x007f868596ada8>
Did you mean?  @lots):
    23: = link_to 'Sign out', destroy_user_session_path, method: :delete
    24: 
    25: h1
    26: =link_to 'all lots', lots
  
app/views/my_lots/index.html.slim:26:in `_app_views_my_lots_index_html_slim___2407549541488305065_70107871807900'
Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 12:54:45 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (15.0ms)
Completed 200 OK in 41ms (Views: 35.7ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 12:54:49 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.7ms)
Completed 200 OK in 39ms (Views: 33.6ms | ActiveRecord: 1.2ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 12:54:50 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (14.3ms)
Completed 200 OK in 43ms (Views: 37.9ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 12:54:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (55.8ms)
  Rendered lots/show.html.slim within layouts/application (77.9ms)
Completed 200 OK in 114ms (Views: 101.7ms | ActiveRecord: 5.9ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 13:02:26 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (1.3ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.8ms)
Completed 200 OK in 46ms (Views: 38.9ms | ActiveRecord: 2.0ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 13:02:29 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (12.9ms)
Completed 200 OK in 43ms (Views: 37.9ms | ActiveRecord: 1.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:02:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.4ms)
  Rendered lots/show.html.slim within layouts/application (19.1ms)
Completed 200 OK in 48ms (Views: 42.1ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 13:02:34 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (1.2ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.2ms)
Completed 200 OK in 70ms (Views: 31.3ms | ActiveRecord: 1.6ms)


Started GET "/lots/9" for 127.0.0.1 at 2017-11-13 13:02:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.5ms)
  Rendered lots/show.html.slim within layouts/application (15.0ms)
Completed 200 OK in 45ms (Views: 39.3ms | ActiveRecord: 1.1ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:02:40 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A8MCdn1yz8KNJXvsf3VdvBJJyXZX9AEFjKUW3QdInmKoYPpcFQ5/X7K/SlGBM9KiULtlfcj0X84/OED6ZJjtXQ==", "rate"=>{"users_rate"=>"89"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started GET "/lots/" for 127.0.0.1 at 2017-11-13 13:06:03 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (31.4ms)
Completed 200 OK in 78ms (Views: 46.2ms | ActiveRecord: 8.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:06:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (31.7ms)
  Rendered lots/show.html.slim within layouts/application (42.9ms)
Completed 200 OK in 71ms (Views: 60.6ms | ActiveRecord: 5.8ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:06:09 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c6g7jM9J28FENNo1rrolQACcGPf4v0kzOezCxLzMSzzYC8OmpzVrXHuu64hQ/KpeQm60/Ge/F/iKcZTj3xw4Aw==", "rate"=>{"users_rate"=>"22"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 7ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started GET "/lots" for 127.0.0.1 at 2017-11-13 13:07:31 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (30.4ms)
Completed 200 OK in 78ms (Views: 43.8ms | ActiveRecord: 10.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:07:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (193.2ms)
  Rendered lots/show.html.slim within layouts/application (203.5ms)
Completed 500 Internal Server Error in 212ms (ActiveRecord: 4.5ms)


  
ActionView::Template::Error (undefined method `lot_rates_path' for #<#<Class:0x007f86782a7410>:0x007f8678006a80>
Did you mean?  edit_rate_path):
    1: = form_for [lot, rate], remote: true do |form|
    2:   / - if rate.errors.any?
    3:   /   #error_explanation
    4:   /     h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107870255720'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107757820760'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:15:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.5ms)
  Rendered lots/show.html.slim within layouts/application (21.8ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for [@lot, @rate], remote: true do |form|
    2:   / - if rate.errors.any?
    3:   /   #error_explanation
    4:   /     h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107869504560'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107870900700'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:15:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (162.9ms)
  Rendered lots/show.html.slim within layouts/application (175.9ms)
Completed 500 Internal Server Error in 186ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `lot_rates_path' for #<#<Class:0x007f86782a7410>:0x007f86783cd808>
Did you mean?  edit_rate_path):
    1: = form_for [lot, rate], remote: true do |form|
    2:   / - if rate.errors.any?
    3:   /   #error_explanation
    4:   /     h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107871394780'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107759800820'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:16:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.4ms)
  Rendered lots/show.html.slim within layouts/application (25.6ms)
Completed 200 OK in 193ms (Views: 187.2ms | ActiveRecord: 1.0ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:17:05 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZO4GW/DZBsh+Zr5LVgGVyi4DCuAVfLUMuGwPJjlKMTd56tplnWTQmS0YfUPdaxWgzAv4UMpdEkry7xj2YO+tvA==", "rate"=>{"users_rate"=>"1"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:21:39 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZO4GW/DZBsh+Zr5LVgGVyi4DCuAVfLUMuGwPJjlKMTd56tplnWTQmS0YfUPdaxWgzAv4UMpdEkry7xj2YO+tvA==", "rate"=>{"users_rate"=>"1"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:23:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.0ms)
  Rendered lots/show.html.slim within layouts/application (14.7ms)
Completed 200 OK in 38ms (Views: 33.3ms | ActiveRecord: 1.0ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:23:13 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2vr/2QJsXIGfIwMGwfoKY1CLc4vq7VJFDzSaUz+mtfTH/iPnb9GK0MxdwA5KkIoJsoOBOzXM9QNFt42DZgMpfw==", "rate"=>{"users_rate"=>"12"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:33:in `set_lot'
Started GET "/" for 127.0.0.1 at 2017-11-13 13:33:55 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (26.9ms)
Completed 200 OK in 73ms (Views: 43.8ms | ActiveRecord: 8.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:33:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (70.8ms)
  Rendered lots/show.html.slim within layouts/application (80.6ms)
Completed 200 OK in 105ms (Views: 93.3ms | ActiveRecord: 7.0ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:34:01 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iBOsjuEi68StPt9OHi+Y2aAfFP4mhT6jB+L00Sp6neQjsFSkiV5bWZKk7vPgaRfH4u249bmFYGi0f6L2Saru2w==", "rate"=>{"users_rate"=>"32"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 1.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:19:in `create'
  [1m[36mRate Load (51.7ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:51:57 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iBOsjuEi68StPt9OHi+Y2aAfFP4mhT6jB+L00Sp6neQjsFSkiV5bWZKk7vPgaRfH4u249bmFYGi0f6L2Saru2w==", "rate"=>{"users_rate"=>"32"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 40ms (ActiveRecord: 10.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:35:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 13:57:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (18.6ms)
  Rendered lots/show.html.slim within layouts/application (28.2ms)
Completed 200 OK in 127ms (Views: 73.0ms | ActiveRecord: 16.3ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 13:59:13 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NmXX1BMPtnJm84qJrFz+sJjwZUPHsrB4xgX47hDxydorYQvqfrJgIzWNSYEnNn7aeviX8xiTFz6Mhu8+SVRVUQ==", "rate"=>{"users_rate"=>"65"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 7ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:11:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (99.8ms)
  Rendered lots/show.html.slim within layouts/application (134.3ms)
Completed 200 OK in 468ms (Views: 335.2ms | ActiveRecord: 55.1ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:11:38 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tsK3Ishsa7FlvEsePcmZ3PrBixFxk6tsiEsx/QQ/fTSrxmscpdG94DbCiBa2oxm2GMl5oa6yDCrCyCYtXZrhvw==", "rate"=>{"users_rate"=>"12"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 148ms (ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:11:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.3ms)
  Rendered lots/show.html.slim within layouts/application (14.7ms)
Completed 200 OK in 51ms (Views: 45.8ms | ActiveRecord: 0.8ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:11:48 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TOXYDWsKvd8Vqb2gf4bxgLr5efdEgXZYb1mer5tkSmlR4QQzBrdrjkbXfqj07HHqWPGLR5ug0R4l2ol/wsHW4g==", "rate"=>{"users_rate"=>"121"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 50ms (ActiveRecord: 1.1ms)


  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:12:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (4.8ms)
  Rendered lots/show.html.slim within layouts/application (13.4ms)
Completed 200 OK in 39ms (Views: 33.5ms | ActiveRecord: 1.1ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:12:15 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BqqapA4YQ64OokJg6ch6lRoKW0+5tsbIl+pXZ5ewCRsbrkaaY6WV/13cgWhiovr/+AKp/2aXYY7daUC3zhWVkA==", "rate"=>{"users_rate"=>"12"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 1.2ms)


  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/" for 127.0.0.1 at 2017-11-13 14:13:08 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.6ms)
Completed 200 OK in 66ms (Views: 36.0ms | ActiveRecord: 1.4ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-13 14:13:10 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (97.5ms)
  Rendered lots/new.html.erb within layouts/application (114.9ms)
Completed 200 OK in 151ms (Views: 132.9ms | ActiveRecord: 0.6ms)


Started GET "/lots/3" for 127.0.0.1 at 2017-11-13 14:13:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (11.5ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    16:   strong End datetime:
    17:   = @lot.end_datetime
    18: p
    19:   = image_tag @lot.photo.url(:medium)
    20: p
    21:   strong Max rate
    22:   = @lot.max_rate
  
app/views/lots/show.html.slim:19:in `_app_views_lots_show_html_slim__2446900868465868261_70107871257760'
Started GET "/lots/" for 127.0.0.1 at 2017-11-13 14:14:01 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (9.7ms)
Completed 200 OK in 37ms (Views: 32.8ms | ActiveRecord: 1.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:14:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.6ms)
  Rendered lots/show.html.slim within layouts/application (22.6ms)
Completed 200 OK in 55ms (Views: 49.7ms | ActiveRecord: 0.8ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:14:36 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"67+a6vAZiGk33WDSWiL4Z46IGHmk1Gt9v2IZf916ASlAHGLAmGU49AhHUW+kZHd5zHq0cjvUNbYM/09YvqpyFg==", "rate"=>{"users_rate"=>"32"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 37ms (ActiveRecord: 9.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:15:57 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (180.9ms)
  Rendered lots/show.html.slim within layouts/application (189.7ms)
Completed 500 Internal Server Error in 240ms (ActiveRecord: 14.7ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f8678211488>:0x007f867820a278>
Did you mean?  asset_path):
    1: = form_for Rate.new do |form|
    2:   / - if rate.errors.any?
    3:   /   #error_explanation
    4:   /     h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107758242140'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107758890880'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:16:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (173.8ms)
  Rendered lots/show.html.slim within layouts/application (182.4ms)
Completed 500 Internal Server Error in 235ms (ActiveRecord: 13.6ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f86864dd5f0>:0x007f86864c7598>
Did you mean?  asset_path):
    1: = form_for Rate.new do |form|
    2:   / - if rate.errors.any?
    3:   /   #error_explanation
    4:   /     h2 = pluralize(rate.errors.count, "error")
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107874780260'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107877797840'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:18:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (227.0ms)
  Rendered lots/show.html.slim within layouts/application (249.6ms)
Completed 500 Internal Server Error in 260ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f86864dd5f0>:0x007f868562dc30>
Did you mean?  asset_path):
    1: = form_for(rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   / - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107757963460'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107870099000'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:18:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.8ms)
  Rendered lots/show.html.slim within layouts/application (20.5ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   / - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107867633800'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107869505840'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:19:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (63.4ms)
  Rendered lots/show.html.slim within layouts/application (75.9ms)
Completed 200 OK in 183ms (Views: 94.9ms | ActiveRecord: 16.5ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:19:06 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NdsL/Y1FDlyXZ7TsjsyuckSjct8c9hsh3nG+DlODuFAo39fD4PjYDcQZd+QFpi4YpquAb8PXvGeU8qneCiYk2w==", "rate"=>{"lot_id"=>"8", "users_rate"=>"21"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 1.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started GET "/rates" for 127.0.0.1 at 2017-11-13 14:34:56 +0300
Processing by RatesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 65ms (ActiveRecord: 5.4ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-11-13 14:35:03 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (30.5ms)
Completed 200 OK in 57ms (Views: 47.1ms | ActiveRecord: 6.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:35:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (25.4ms)
  Rendered lots/show.html.slim within layouts/application (35.9ms)
Completed 200 OK in 59ms (Views: 47.7ms | ActiveRecord: 7.1ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:35:10 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0Bt0Tzy9Rjy/b5fK+skauXSMw1OYO0rfPvFFxqrMH/d7uIxlVMH2oYD1pncEj5WnNn5vWAc7FBSNbBPhyRxsyA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"3902"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started POST "/__web_console/repl_sessions/6b778f0e907f14d0b05a4421dc68cb12/trace" for 127.0.0.1 at 2017-11-13 14:42:02 +0300
Started POST "/__web_console/repl_sessions/6b778f0e907f14d0b05a4421dc68cb12/trace" for 127.0.0.1 at 2017-11-13 14:42:07 +0300
Started POST "/__web_console/repl_sessions/6b778f0e907f14d0b05a4421dc68cb12/trace" for 127.0.0.1 at 2017-11-13 14:42:07 +0300
Started POST "/__web_console/repl_sessions/6b778f0e907f14d0b05a4421dc68cb12/trace" for 127.0.0.1 at 2017-11-13 14:42:07 +0300
Started POST "/__web_console/repl_sessions/6b778f0e907f14d0b05a4421dc68cb12/trace" for 127.0.0.1 at 2017-11-13 14:42:07 +0300
Started POST "/__web_console/repl_sessions/6b778f0e907f14d0b05a4421dc68cb12/trace" for 127.0.0.1 at 2017-11-13 14:42:07 +0300
Started POST "/__web_console/repl_sessions/6b778f0e907f14d0b05a4421dc68cb12/trace" for 127.0.0.1 at 2017-11-13 14:42:08 +0300
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:44:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (19.7ms)
  Rendered lots/show.html.slim within layouts/application (28.4ms)
Completed 200 OK in 95ms (Views: 43.1ms | ActiveRecord: 13.4ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:44:42 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JtpYgc8X+ha9xk2jZIRo6iUIVn/nuMf+1RltoAbFX8I73oS/oqosR+64jqvv7uiAxwCkzziZYLifmnpwX2DDSQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"23"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 7ms (ActiveRecord: 2.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 14:47:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (17.8ms)
  Rendered lots/show.html.slim within layouts/application (37.2ms)
Completed 200 OK in 107ms (Views: 53.5ms | ActiveRecord: 14.3ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 14:47:31 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"95uBXBbS1BfBpgp02lnUj90DDrXI/16KQoxJ9o8POprqn11ie28CRpLYyXxRM1TlPwv8BRfe+cwID14m1qqmEQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"231"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 0.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-13 15:15:04 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"95uBXBbS1BfBpgp02lnUj90DDrXI/16KQoxJ9o8POprqn11ie28CRpLYyXxRM1TlPwv8BRfe+cwID14m1qqmEQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"231"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 35ms (ActiveRecord: 8.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started POST "/rates" for 127.0.0.1 at 2017-11-13 15:17:49 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"95uBXBbS1BfBpgp02lnUj90DDrXI/16KQoxJ9o8POprqn11ie28CRpLYyXxRM1TlPwv8BRfe+cwID14m1qqmEQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"231"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 1.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started GET "/rates" for 127.0.0.1 at 2017-11-13 15:17:52 +0300
Processing by RatesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 36ms (ActiveRecord: 0.6ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-11-13 15:17:54 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (58.8ms)
Completed 200 OK in 141ms (Views: 103.3ms | ActiveRecord: 2.4ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 15:17:57 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (15.6ms)
Completed 200 OK in 67ms (Views: 41.3ms | ActiveRecord: 1.4ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 15:17:58 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (15.1ms)
Completed 200 OK in 49ms (Views: 44.6ms | ActiveRecord: 1.3ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 15:18:00 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (18.9ms)
Completed 200 OK in 49ms (Views: 41.5ms | ActiveRecord: 1.3ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 15:18:01 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.7ms)
Completed 200 OK in 43ms (Views: 38.0ms | ActiveRecord: 1.5ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 15:18:02 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (26.6ms)
Completed 200 OK in 53ms (Views: 47.8ms | ActiveRecord: 1.2ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 15:18:03 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (14.3ms)
Completed 200 OK in 49ms (Views: 44.1ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 15:23:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (18.3ms)
  Rendered lots/show.html.slim within layouts/application (27.1ms)
Completed 200 OK in 93ms (Views: 41.2ms | ActiveRecord: 12.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 15:36:27 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (15.5ms)
Completed 200 OK in 117ms (Views: 111.1ms | ActiveRecord: 1.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 15:36:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.9ms)
  Rendered lots/show.html.slim within layouts/application (16.2ms)
Completed 200 OK in 47ms (Views: 39.9ms | ActiveRecord: 1.5ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 15:36:32 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GoploDzRTojawWCrfWzTaFKI9YSr3kR8kY1aKAWV6OyxKZ2KVK3+FeVbURaDKlx2EHpZjzTeGrciEAwPZkWb0w==", "rate"=>{"lot_id"=>"8", "users_rate"=>"44"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mRate Load (34.7ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:06:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (335.4ms)
  Rendered lots/show.html.slim within layouts/application (360.2ms)
Completed 500 Internal Server Error in 654ms (ActiveRecord: 216.4ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f8678136b58>:0x007f8678134038>
Did you mean?  asset_path):
    1: = form_for Rate.new do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   / - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107869346120'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107758443820'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:07:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (154.3ms)
  Rendered lots/show.html.slim within layouts/application (162.7ms)
Completed 500 Internal Server Error in 173ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f8678136b58>:0x007f8670545dc8>
Did you mean?  asset_path):
    1: = form_for (rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   / - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107691305100'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107693462480'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:07:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (174.2ms)
  Rendered lots/show.html.slim within layouts/application (183.4ms)
Completed 500 Internal Server Error in 191ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f8678136b58>:0x007f86852b6110>
Did you mean?  asset_path):
    1: = form_for (rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107870981060'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107868250920'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:07:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (17.1ms)
  Rendered lots/show.html.slim within layouts/application (32.8ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: = form_for (@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107757878920'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107859654560'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:08:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (170.1ms)
  Rendered lots/show.html.slim within layouts/application (185.6ms)
Completed 500 Internal Server Error in 196ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f8678136b58>:0x007f86722abe30>
Did you mean?  asset_path):
    1: = form_for (rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107709965660'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107708916780'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:08:43 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (168.2ms)
  Rendered lots/show.html.slim within layouts/application (176.9ms)
Completed 500 Internal Server Error in 227ms (ActiveRecord: 12.9ms)


  
ActionView::Template::Error (undefined method `rates_path' for #<#<Class:0x007f865d171f70>:0x007f865d168628>
Did you mean?  asset_path):
    1: = form_for (rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107873201400'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107532073700'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:10:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (151.7ms)
  Rendered lots/show.html.slim within layouts/application (163.8ms)
Completed 500 Internal Server Error in 172ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f865d171f70>:0x007f8680702ae8>
Did you mean?  root_path):
    1: = form_for (rate), url: rate_path(@rate), html: { method: :put } do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107825624720'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107828591200'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:10:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (157.0ms)
  Rendered lots/show.html.slim within layouts/application (166.2ms)
Completed 500 Internal Server Error in 173ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f865d171f70>:0x007f8680ee2588>
Did you mean?  root_path):
    1: = form_for (rate), url: rate_path(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107829325400'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107830608240'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:10:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (142.6ms)
  Rendered lots/show.html.slim within layouts/application (153.1ms)
Completed 500 Internal Server Error in 159ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f865d171f70>:0x007f8681f497a0>
Did you mean?  root_path):
    1: = form_for (@rate), url: rate_path(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107532583860'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107841319200'
  [1m[35m (48.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (34.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (72.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:12:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (138.3ms)
  Rendered lots/show.html.slim within layouts/application (145.8ms)
Completed 500 Internal Server Error in 196ms (ActiveRecord: 10.4ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f86701f6348>:0x007f86701f4688>
Did you mean?  root_path):
    1: = form_for (@rate), url: rate_path(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107827122920'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107691726320'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:12:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (174.0ms)
  Rendered lots/show.html.slim within layouts/application (184.3ms)
Completed 500 Internal Server Error in 192ms (ActiveRecord: 5.8ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f86701f6348>:0x007f86800186d8>
Did you mean?  root_path):
    1: = form_for (rate), url: rate_path(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107869099160'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107824966080'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:15:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (136.3ms)
  Rendered lots/show.html.slim within layouts/application (144.7ms)
Completed 500 Internal Server Error in 153ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f86701f6348>:0x007f8681e4e7d8>
Did you mean?  root_path):
    1: = form_for (rate), url: rate_path(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107831332600'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107840805280'
Started GET "/lots/" for 127.0.0.1 at 2017-11-13 16:15:22 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.4ms)
Completed 200 OK in 129ms (Views: 102.7ms | ActiveRecord: 1.2ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 16:15:25 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (11.5ms)
Completed 200 OK in 54ms (Views: 30.4ms | ActiveRecord: 1.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:15:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (158.2ms)
  Rendered lots/show.html.slim within layouts/application (171.7ms)
Completed 500 Internal Server Error in 185ms (ActiveRecord: 2.1ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f86701f6348>:0x007f867014c4d8>
Did you mean?  root_path):
    1: = form_for (rate), url: rate_path(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107841599560'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107691378680'
Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 16:30:32 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (11.6ms)
Completed 200 OK in 51ms (Views: 46.6ms | ActiveRecord: 1.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-11-13 16:30:37 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"qMt2VGjHEM/pWGh1ya+oODBIin4LAhVsgOhHTp2QHCC1z6pqBXrGnromq31CxShS0kB4ztQjsirKa1CexDWAqw=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 51ms (ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-11-13 16:30:38 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-11-13 16:30:38 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.8ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (41.3ms)
Completed 200 OK in 168ms (Views: 101.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-11-13 16:30:55 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wV1EIXkBYskg98Kdhy6d4wfYDLZnZpi1+dKsW7FA9z8PmF1Avi7yVVkPLtdqRe7SJWouF+kfft3XyRqSx/giUw==", "user"=>{"email"=>"my@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (35.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "my@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (70.8ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-11-13 13:30:56.461288"], ["sign_in_count", 2], ["updated_at", "2017-11-13 13:30:56.462685"], ["id", 2]]
  [1m[35m (164.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 760ms (ActiveRecord: 271.6ms)


Started GET "/" for 127.0.0.1 at 2017-11-13 16:30:56 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.6ms)
Completed 200 OK in 31ms (Views: 26.9ms | ActiveRecord: 0.9ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 16:31:01 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (16.0ms)
Completed 200 OK in 45ms (Views: 39.3ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 16:31:05 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (9.9ms)
Completed 200 OK in 33ms (Views: 29.1ms | ActiveRecord: 1.3ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 16:31:52 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (15.0ms)
Completed 200 OK in 55ms (Views: 49.8ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 16:40:06 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.4ms)
Completed 200 OK in 35ms (Views: 30.2ms | ActiveRecord: 1.4ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 16:40:18 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.6ms)
Completed 200 OK in 41ms (Views: 36.8ms | ActiveRecord: 1.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 16:40:28 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  Rendered lots/index.html.slim within layouts/application (11.3ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.6ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/index.html.slim:26: syntax error, unexpected ')'
_to 'My lots ', my_lots_url |))).to_s)); 
                              ^
/home/pavlov/fs/auction/app/views/lots/index.html.slim:29: syntax error, unexpected keyword_ensure, expecting ')'
          ensure
                ^
/home/pavlov/fs/auction/app/views/lots/index.html.slim:31: syntax error, unexpected keyword_end, expecting ')'
          end
             ^):
  
app/views/lots/index.html.slim:26: syntax error, unexpected ')'
app/views/lots/index.html.slim:29: syntax error, unexpected keyword_ensure, expecting ')'
app/views/lots/index.html.slim:31: syntax error, unexpected keyword_end, expecting ')'
Started GET "/lots" for 127.0.0.1 at 2017-11-13 16:40:32 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (14.2ms)
Completed 200 OK in 45ms (Views: 41.0ms | ActiveRecord: 1.0ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 16:40:36 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (10.4ms)
Completed 200 OK in 35ms (Views: 30.4ms | ActiveRecord: 1.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-11-13 16:40:38 +0300
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 40ms (Views: 36.4ms | ActiveRecord: 0.5ms)


Started PUT "/users" for 127.0.0.1 at 2017-11-13 16:40:54 +0300
Processing by Devise::RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZMBCgQ5iLmg9T1rPw8FdIjiUrVacsrPKoCSG4IxQyNkNkBAY1LC2fzUjPS1qWpZTCM6pp5HF7vrT9BFaMoWGoA==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["email", "egor@mail.ru"], ["id", 2], ["LIMIT", 1]]
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 539ms (Views: 27.8ms | ActiveRecord: 2.1ms)


Started PUT "/users" for 127.0.0.1 at 2017-11-13 16:41:13 +0300
Processing by Devise::RegistrationsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nJiHTvK9L668VfrG4krGmb1k0IqMIVHBByjwrlCGTNMcaadJl/Ys7KG9B2IjvNZLgHnpjjvVRuWN7/pYPBNrjg==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["email", "egor@mail.ru"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (37.6ms)[0m  [1m[33mUPDATE "users" SET "email" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["email", "egor@mail.ru"], ["updated_at", "2017-11-13 13:41:13.516636"], ["id", 2]]
  [1m[35m (34.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 330ms (ActiveRecord: 73.5ms)


Started GET "/" for 127.0.0.1 at 2017-11-13 16:41:13 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (1.1ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.2ms)
Completed 200 OK in 36ms (Views: 31.3ms | ActiveRecord: 1.7ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 16:44:09 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (11.6ms)
Completed 200 OK in 37ms (Views: 33.1ms | ActiveRecord: 0.9ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 16:44:11 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.4ms)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:49:57 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (205.0ms)
  Rendered lots/show.html.slim within layouts/application (225.4ms)
Completed 500 Internal Server Error in 236ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (undefined method `rate_path' for #<#<Class:0x007f86701f6348>:0x007f8678458e30>
Did you mean?  root_path):
    1: = form_for (rate), url: rate_path(@rate) do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107871401680'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107760087120'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 16:50:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (31.5ms)
  Rendered lots/show.html.slim within layouts/application (39.8ms)
Completed 200 OK in 207ms (Views: 54.2ms | ActiveRecord: 94.9ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 16:50:57 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LU4epN5p8O9JA3Fpcf1offM9W5nO1z7Y3JKVgHNiZAmtvz6juyLzrVTrjM2wC3ivziBinXkjKfxWVZ92H/dDVA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"345678"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 8ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:02:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (19.7ms)
  Rendered lots/show.html.slim within layouts/application (31.6ms)
Completed 200 OK in 108ms (Views: 49.2ms | ActiveRecord: 14.6ms)


Started POST "/rates" for 127.0.0.1 at 2017-11-13 17:02:26 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"l1vJl7GzRWr34yP1M8cfBoulkJPOPTfkdFMsOFiq8XQXqumQ1PhGKOoL3lHyMQ/Utripl3nJIMD+lCbOND/WKQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"34"}, "commit"=>"Create Rate"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 1.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=):
  
app/controllers/rates_controller.rb:37:in `set_lot'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:03:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (155.7ms)
  Rendered lots/show.html.slim within layouts/application (166.2ms)
Completed 500 Internal Server Error in 173ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (undefined method `lot_rates_path' for #<#<Class:0x007f8671727550>:0x007f86861b8208>
Did you mean?  edit_rate_path):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   / - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2757702678168868675_70107881354220'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__2446900868465868261_70107876151200'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:04:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (24.5ms)
  Rendered lots/show.html.slim within layouts/application (32.6ms)
Completed 200 OK in 100ms (Views: 48.9ms | ActiveRecord: 14.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:04:10 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"I4PDUGcPPSLGGtCTMgZyszXfW0Yo1z8xgj47aU+eH/mjcuNXAkQ+YNvyLTfz8GJhCMJiQp8jKBUI+TGfIws4pA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 13ms (ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:04:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (3.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (5.8ms)
  Rendered lots/show.html.slim within layouts/application (14.7ms)
Completed 200 OK in 45ms (Views: 34.1ms | ActiveRecord: 5.1ms)


  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:06:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (33.4ms)
  Rendered lots/show.html.slim within layouts/application (44.2ms)
Completed 200 OK in 117ms (Views: 62.0ms | ActiveRecord: 16.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:06:51 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rOcYIj+9IYbchzy5gMtJlxKvnVOvlBR+BAEptKB5GrssFjglWvYixMFvwR1BPVlFL7KkVxhgA1qOxiNCzOw95g==", "rate"=>{"lot_id"=>"8", "users_rate"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 14ms (ActiveRecord: 1.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:06:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.5ms)
  Rendered lots/show.html.slim within layouts/application (15.7ms)
Completed 200 OK in 43ms (Views: 38.8ms | ActiveRecord: 1.0ms)


  [1m[36mRate Load (0.7ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:07:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.3ms)
  Rendered lots/show.html.slim within layouts/application (15.4ms)
Completed 200 OK in 44ms (Views: 38.9ms | ActiveRecord: 0.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:07:57 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XSHcJNNPV19ZVHAg0WP+R8KkJMiPByAucXjKkYoTXlLd0PwjtgRUHUS8jYQQle6V/7kdzDjzNwr7v8Bn5oZ5Dw==", "rate"=>{"lot_id"=>"8", "users_rate"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 12ms (ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:07:57 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  Rendered lots/show.html.slim within layouts/application (18.8ms)
Completed 200 OK in 42ms (Views: 36.7ms | ActiveRecord: 0.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:08:20 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0U3sXU1VLlbTkVGyImAwnIjeTExrcuXG9YVnJmzcm21RvMxaKB4tFM55rBbjliBOtcN1SNyG8uJ/Qm3QAEm8MA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:08:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.3ms)
  Rendered lots/show.html.slim within layouts/application (23.7ms)
Completed 200 OK in 53ms (Views: 47.6ms | ActiveRecord: 1.0ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-13 17:13:07 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.1ms)
Completed 200 OK in 40ms (Views: 36.1ms | ActiveRecord: 1.2ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 17:13:11 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (15.9ms)
Completed 200 OK in 47ms (Views: 40.7ms | ActiveRecord: 1.6ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 17:13:14 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.7ms)
Completed 200 OK in 43ms (Views: 38.8ms | ActiveRecord: 1.1ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-11-13 17:16:12 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (30.7ms)
Completed 200 OK in 56ms (Views: 50.9ms | ActiveRecord: 1.4ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-13 17:16:14 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.2ms)
Completed 200 OK in 43ms (Views: 37.0ms | ActiveRecord: 1.4ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-13 17:16:15 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (12.4ms)
  Rendered lots/new.html.erb within layouts/application (51.1ms)
Completed 200 OK in 78ms (Views: 74.0ms | ActiveRecord: 0.7ms)


Started GET "/lots/3" for 127.0.0.1 at 2017-11-13 17:16:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (10.0ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    16:   strong End datetime:
    17:   = @lot.end_datetime
    18: p
    19:   = image_tag @lot.photo.url(:medium)
    20: p
    21:   strong Max rate
    22:   = @lot.max_rate
  
app/views/lots/show.html.slim:19:in `_app_views_lots_show_html_slim__2446900868465868261_70107702248360'
Started GET "/lots" for 127.0.0.1 at 2017-11-13 17:16:27 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (16.5ms)
Completed 200 OK in 51ms (Views: 44.9ms | ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:16:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.1ms)
  Rendered lots/show.html.slim within layouts/application (20.8ms)
Completed 200 OK in 49ms (Views: 43.3ms | ActiveRecord: 0.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:30:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DqpOv6E3mSB/O2enrBjju8WiVrJaT18hnSPXeVTfSeW3ykDN/+8uY8/lFsxo2prbdZj7N56n3SBLMMNlcleb2Q==", "rate"=>{"lot_id"=>"8", "users_rate"=>"456"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:30:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.3ms)
  Rendered lots/show.html.slim within layouts/application (31.8ms)
Completed 200 OK in 58ms (Views: 51.9ms | ActiveRecord: 1.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:38:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  Rendered lots/show.html.slim within layouts/application (16.2ms)
Completed 200 OK in 41ms (Views: 36.5ms | ActiveRecord: 0.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:38:04 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aAgaM2OBMDsMGfZWIXQtpodxm75/4xc0Mm4wTvgAdtLo+To0BsozeRHxC/Lggj10umyiusgXABC4qTq4lJVRjw==", "rate"=>{"lot_id"=>"8", "users_rate"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:38:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  Rendered lots/show.html.slim within layouts/application (20.4ms)
Completed 200 OK in 45ms (Views: 40.8ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:38:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.6ms)
  Rendered lots/show.html.slim within layouts/application (32.0ms)
Completed 200 OK in 107ms (Views: 53.8ms | ActiveRecord: 12.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:38:47 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BJGxY+ahvDzcQ7izxnnw0NWEBjNy+j5MbPVSaWA5Mh+EYJFkg+q/fsGrRRcHj+AC6Jk/N8UOKWjmMlifDKwVQg==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 47ms (ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:40:11 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.2ms)
  Rendered lots/show.html.slim within layouts/application (29.8ms)
Completed 200 OK in 119ms (Views: 47.5ms | ActiveRecord: 14.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:40:14 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tIh8oiqiW0aUudaKENw5PnCd96v3wIMQqmiscJOQOa00eVylT+lYBIlRKy7RKinsTYDOr0A0lDQgr6aG/wUe8A==", "rate"=>{"lot_id"=>"8", "users_rate"=>"22"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 44ms (ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:40:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.7ms)
  Rendered lots/show.html.slim within layouts/application (31.6ms)
Completed 200 OK in 96ms (Views: 44.7ms | ActiveRecord: 12.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:40:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kRVSebvzWHNz3v22D61HoYAq1QwpVCajVbufI+yal84R5HJ+3rhbMW42ABLOW1dzvTfsCJ6gMYfffJXVgA+wkw==", "rate"=>{"lot_id"=>"8", "users_rate"=>"221"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 62ms (ActiveRecord: 1.3ms)


  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 17:57:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.8ms)
  Rendered lots/show.html.slim within layouts/application (35.9ms)
Completed 200 OK in 117ms (Views: 56.8ms | ActiveRecord: 17.6ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:57:48 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mlGlN5UQbKyv9UAknjV+G8ClamKXCy+rewjcmLplgTcaoIUw8Ftv7rIdvYBfw27J/bhTZiD/OI/xz9Zu1vCmag==", "rate"=>{"lot_id"=>"8", "users_rate"=>"213"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.2ms)


  
NoMethodError (undefined method `valid' for #<Rate:0x007f868010d570>
Did you mean?  valid?):
  
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:57:56 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mlGlN5UQbKyv9UAknjV+G8ClamKXCy+rewjcmLplgTcaoIUw8Ftv7rIdvYBfw27J/bhTZiD/OI/xz9Zu1vCmag==", "rate"=>{"lot_id"=>"8", "users_rate"=>"213"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 197ms (ActiveRecord: 15.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 17:58:04 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mlGlN5UQbKyv9UAknjV+G8ClamKXCy+rewjcmLplgTcaoIUw8Ftv7rIdvYBfw27J/bhTZiD/OI/xz9Zu1vCmag==", "rate"=>{"lot_id"=>"8", "users_rate"=>"2132"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-13 18:01:33 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.1ms)
  Rendered lots/show.html.slim within layouts/application (32.1ms)
Completed 200 OK in 104ms (Views: 49.0ms | ActiveRecord: 13.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-13 18:01:36 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZfZKdYR3S1Nf5MD/AsPE5zO4/7hJA40vFQRDEFk13jTlB2py4TxIEUIMPVvDNdQ1DqXGvP73mgufw0nmNaD5aQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"21321"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 45ms (ActiveRecord: 1.9ms)


  [1m[36mRate Load (0.7ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/" for 127.0.0.1 at 2017-11-15 16:13:10 +0300
  [1m[35m (46.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (101.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (37.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (99.2ms)
Completed 200 OK in 737ms (Views: 463.1ms | ActiveRecord: 199.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-11-15 16:16:21 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (114.0ms)
  Rendered lots/new.html.erb within layouts/application (160.0ms)
Completed 200 OK in 182ms (Views: 176.8ms | ActiveRecord: 0.7ms)


Started GET "/lots/3" for 127.0.0.1 at 2017-11-15 16:16:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (32.1ms)
Completed 500 Internal Server Error in 89ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    16:   strong End datetime:
    17:   = @lot.end_datetime
    18: p
    19:   = image_tag @lot.photo.url(:medium)
    20: p
    21:   strong Max rate
    22:   = @lot.max_rate
  
app/views/lots/show.html.slim:19:in `_app_views_lots_show_html_slim__3109593084671103833_69970319190400'
Started GET "/lots/" for 127.0.0.1 at 2017-11-15 16:16:29 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.5ms)
Completed 200 OK in 35ms (Views: 30.0ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 16:16:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (298.6ms)
  Rendered lots/show.html.slim within layouts/application (309.8ms)
Completed 200 OK in 332ms (Views: 323.2ms | ActiveRecord: 4.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-15 16:16:34 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OAvTnhkvplbsfkejL9OZnQK2wt2JYzEJVsv+qNcGJKCBa93sR/cRFVygNsjrEeD9soxvWE2LswiA2Oq08Y72nA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"23"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 80ms (ActiveRecord: 2.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 16:27:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.2ms)
  Rendered lots/show.html.slim within layouts/application (17.8ms)
Completed 200 OK in 44ms (Views: 36.9ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 16:28:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.4ms)
  Rendered lots/show.html.slim within layouts/application (34.2ms)
Completed 200 OK in 111ms (Views: 54.5ms | ActiveRecord: 13.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-15 16:28:14 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wh+K0w8/9PIdzxmGejrpdyAmGMT/7TTTpfqzeeLwXLtC7qrUanT3sAAn5CK7zPmlHTshwEgZI/cvPbmPjmV75g==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 15ms (ActiveRecord: 1.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 16:28:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  Rendered lots/show.html.slim within layouts/application (31.1ms)
Completed 200 OK in 55ms (Views: 50.6ms | ActiveRecord: 0.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 16:29:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.4ms)
  Rendered lots/show.html.slim within layouts/application (32.2ms)
Completed 200 OK in 104ms (Views: 47.9ms | ActiveRecord: 14.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-15 16:29:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1JIhn7lhLMb89ecUzu3RjHDL5j0GR7mWykPlIl3nGPpUYwGY3CovhOEdGrAPG8FeTdbfObGzrrJAhO/UMXI/pw==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 44ms (ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 16:49:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (12.5ms)
  Rendered lots/show.html.slim within layouts/application (59.0ms)
Completed 200 OK in 165ms (Views: 120.4ms | ActiveRecord: 1.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-15 16:49:57 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1WN9y7LGiWxrys2r3TFAX7FypFfQLv5CTYsrDhAhYZ9Vkl3M142KLnYiMA8cx1CNjG+dU2fa6WbHTCH4fLRGwg==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 105ms (ActiveRecord: 1.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 18:18:39 +0300
  [1m[35m (45.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (93.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (24.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (198.5ms)
  Rendered lots/show.html.slim within layouts/application (234.8ms)
Completed 200 OK in 1021ms (Views: 669.1ms | ActiveRecord: 216.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-15 18:18:46 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cRkwLhVxA2gcH/vneEsgIYUnpgNJnjnVnnxV/Up4D0vx6BApcDoAKgH3BkO5vTDzuDqfB/5qLvEUu18LJu0oFg==", "rate"=>{"lot_id"=>"8", "users_rate"=>"54"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 171ms (ActiveRecord: 1.5ms)


  [1m[36mRate Load (43.0ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-15 18:24:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.2ms)
  Rendered lots/show.html.slim within layouts/application (15.3ms)
Completed 200 OK in 39ms (Views: 34.2ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-11-23 19:39:03 +0300
  [1m[35m (45.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (117.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (40.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (96.8ms)
Completed 200 OK in 862ms (Views: 483.8ms | ActiveRecord: 316.0ms)


Started GET "/lots/3" for 127.0.0.1 at 2017-11-23 19:39:13 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (14.5ms)
Completed 500 Internal Server Error in 79ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    16:   strong End datetime:
    17:   = @lot.end_datetime
    18: p
    19:   = image_tag @lot.photo.url(:medium)
    20: p
    21:   strong Max rate
    22:   = @lot.max_rate
  
app/views/lots/show.html.slim:19:in `_app_views_lots_show_html_slim___2308841027841920541_69899049575780'
Started GET "/" for 127.0.0.1 at 2017-11-23 19:39:15 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (9.8ms)
Completed 200 OK in 33ms (Views: 27.7ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-23 19:39:18 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (127.6ms)
  Rendered lots/show.html.slim within layouts/application (250.7ms)
Completed 200 OK in 272ms (Views: 262.4ms | ActiveRecord: 5.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-23 19:39:23 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"loXfy09rg/3mJJqsTP+Kge/qYD94Q99PsCVVDjSwMU8v5dG5EbM0vlb668eIPfPhX9DNuryrXU5mNkESEjjjcw==", "rate"=>{"lot_id"=>"8", "users_rate"=>"45"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 55ms (ActiveRecord: 1.7ms)


Started GET "/lots/" for 127.0.0.1 at 2017-11-27 12:23:01 +0300
  [1m[35m (45.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (62.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (31.3ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (93.7ms)
Completed 200 OK in 594ms (Views: 380.1ms | ActiveRecord: 148.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:23:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (195.5ms)
  Rendered lots/show.html.slim within layouts/application (204.6ms)
Completed 200 OK in 260ms (Views: 216.6ms | ActiveRecord: 5.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:23:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LpOrKN/B/nGgAhw8JLF5afmFH0O7kFAkvNPjOQzvjAWX86VagRlJMhDcbVfgcwAJSb+yxn940iVqwPclKmdeOQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 80ms (ActiveRecord: 1.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:23:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.2ms)
  Rendered lots/show.html.slim within layouts/application (15.5ms)
Completed 200 OK in 40ms (Views: 33.2ms | ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:38:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (34.5ms)
  Rendered lots/show.html.slim within layouts/application (42.4ms)
Completed 200 OK in 109ms (Views: 55.1ms | ActiveRecord: 13.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:38:49 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yjw/Nc1v7Lk5tVDnXX3a2fefnTO/Fc6jJslsroCE8ehKzR8yqCTv+yRdrUOci8oLyoKkNwjh2YesDmZY7BHWtQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (39.6ms)[0m  [1m[32mINSERT INTO "rates" ("lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["lot_id", 8], ["users_rate", 12], ["created_at", "2017-11-27 09:38:49.837533"], ["updated_at", "2017-11-27 09:38:49.837533"]]
  [1m[35m (25.1ms)[0m  [1m[35mCOMMIT[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 111ms (ActiveRecord: 65.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:39:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.8ms)
  Rendered lots/show.html.slim within layouts/application (29.0ms)
Completed 200 OK in 97ms (Views: 42.8ms | ActiveRecord: 13.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:39:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"81bsDFo2PjWuBUMS40cLp9VyIsfO1759oHkpYMCRo9Bzp8wLP309d7PtvrYisRt16G8bw3kjqVkqviOWrASEjQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 43ms (ActiveRecord: 1.3ms)


  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:40:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.6ms)
  Rendered lots/show.html.slim within layouts/application (30.8ms)
Completed 200 OK in 112ms (Views: 57.2ms | ActiveRecord: 13.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:40:44 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qlvW00aatjWmEZyfdWtXX9poH2/Ep8SJaeqX0cWJi2UqqvbUI9G1d7v5YTu0nUeN53Uma3NT063jLZ0nqRysOA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"132"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["lot_id", 8], ["users_rate", 132], ["created_at", "2017-11-27 09:40:44.619481"], ["updated_at", "2017-11-27 09:40:44.619481"]]
  [1m[35m (25.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 38ms (ActiveRecord: 27.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:40:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.0ms)
  Rendered lots/show.html.slim within layouts/application (21.1ms)
Completed 200 OK in 48ms (Views: 43.4ms | ActiveRecord: 0.7ms)


  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:41:47 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:41: syntax error, unexpected ':', expecting ')'
te).permit(:lot_id, :user_id :users_rate)
                              ^):
  
app/controllers/rates_controller.rb:41: syntax error, unexpected ':', expecting ')'
Started GET "/lots" for 127.0.0.1 at 2017-11-27 12:42:03 +0300
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (39.4ms)
Completed 200 OK in 344ms (Views: 289.4ms | ActiveRecord: 11.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-11-27 12:42:09 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.8ms)
Completed 200 OK in 35ms (Views: 29.4ms | ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:42:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (42.8ms)
  Rendered lots/show.html.slim within layouts/application (51.3ms)
Completed 200 OK in 79ms (Views: 67.0ms | ActiveRecord: 5.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:42:16 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:41: syntax error, unexpected ':', expecting ')'
te).permit(:lot_id, :user_id :users_rate)
                              ^):
  
app/controllers/rates_controller.rb:41: syntax error, unexpected ':', expecting ')'
Started GET "/lots/" for 127.0.0.1 at 2017-11-27 12:43:46 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (31.4ms)
Completed 200 OK in 80ms (Views: 46.2ms | ActiveRecord: 9.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:43:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.3ms)
  Rendered lots/show.html.slim within layouts/application (31.9ms)
Completed 200 OK in 57ms (Views: 46.5ms | ActiveRecord: 5.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:43:51 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AkHTD2uWCRUcgPl+tjdkrUValDL0RjyzvDpDEUbOSvm7Id19NU6+VqxeiBVy9R3N9WA5tzCuvrJqKVcNYEaYxQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"11"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "rates" ("lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["lot_id", 8], ["users_rate", 11], ["created_at", "2017-11-27 09:43:51.621101"], ["updated_at", "2017-11-27 09:43:51.621101"]]
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 58ms (ActiveRecord: 34.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:43:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.5ms)
  Rendered lots/show.html.slim within layouts/application (19.1ms)
Completed 200 OK in 41ms (Views: 36.1ms | ActiveRecord: 0.9ms)


  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:45:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.9ms)
  Rendered lots/show.html.slim within layouts/application (17.8ms)
Completed 200 OK in 42ms (Views: 36.8ms | ActiveRecord: 1.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:46:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.5ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.9ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:31: syntax error, unexpected tIVAR, expecting '('
_html_safe((render @lot.@rates))).to_s)); 
                              ^):
  
app/views/lots/show.html.slim:31: syntax error, unexpected tIVAR, expecting '('
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:46:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.1ms)
  Rendered lots/show.html.slim within layouts/application (29.6ms)
Completed 200 OK in 95ms (Views: 43.2ms | ActiveRecord: 13.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:46:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.6ms)
  Rendered lots/show.html.slim within layouts/application (31.8ms)
Completed 200 OK in 106ms (Views: 47.8ms | ActiveRecord: 15.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:49:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  Rendered lots/show.html.slim within layouts/application (19.4ms)
Completed 200 OK in 45ms (Views: 39.6ms | ActiveRecord: 1.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:49:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.4ms)
  Rendered lots/show.html.slim within layouts/application (28.4ms)
Completed 200 OK in 52ms (Views: 47.4ms | ActiveRecord: 0.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:49:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  Rendered lots/show.html.slim within layouts/application (17.8ms)
Completed 200 OK in 45ms (Views: 39.6ms | ActiveRecord: 0.9ms)


  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 12:55:44 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AV/C7njK+Md49c0tI7p4fyrTIZsdU2/AoSsVca+j8OiBruLpHYH7hWUdMIniTGitF84Yn6qneOQr7B+HwzbXtQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"10"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["lot_id", 8], ["users_rate", 10], ["created_at", "2017-11-27 09:55:44.552028"], ["updated_at", "2017-11-27 09:55:44.552028"]]
  [1m[35m (20.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 91ms (ActiveRecord: 35.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 12:55:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.9ms)
  Rendered lots/show.html.slim within layouts/application (16.9ms)
Completed 200 OK in 41ms (Views: 36.1ms | ActiveRecord: 0.8ms)


  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 13:02:38 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"htjzMA40y30S0JX40c69ACMi4Vv00Lgal55BxI8hB1kGKdM3a3/IPw84aFwQOK3SHj/YX0Mkrz4dWUsy47QgBA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"1011"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 1011], ["created_at", "2017-11-27 10:02:38.886884"], ["updated_at", "2017-11-27 10:02:38.886884"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 87ms (ActiveRecord: 33.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:02:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.6ms)
  Rendered lots/show.html.slim within layouts/application (17.7ms)
Completed 200 OK in 42ms (Views: 37.0ms | ActiveRecord: 1.1ms)


  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:13:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.8ms)
  Rendered lots/show.html.slim within layouts/application (23.5ms)
Completed 200 OK in 46ms (Views: 40.0ms | ActiveRecord: 1.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 13:13:35 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HMSuBeJM3D/jP/TSd1IHdCAiO7sWUPQc6c47KC64CJycNY4Chwffff7XCXa2pBemHT8Cv6Gk4zhjCTHeQi0vwQ==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 12], ["created_at", "2017-11-27 10:13:35.285495"], ["updated_at", "2017-11-27 10:13:35.285495"]]
  [1m[35m (15.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 29ms (ActiveRecord: 17.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:13:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (12.7ms)
  Rendered lots/show.html.slim within layouts/application (28.0ms)
Completed 200 OK in 72ms (Views: 66.0ms | ActiveRecord: 0.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 13:13:56 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qS+0C2QAwahn5rthMC7f79W7aR1pnSfyQdIS5pV9T9Ip3pQMAUvC6noORsXx2M896KZQGd5pMNbLFRgQ+ehojw==", "rate"=>{"lot_id"=>"8", "users_rate"=>""}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["created_at", "2017-11-27 10:13:56.346669"], ["updated_at", "2017-11-27 10:13:56.346669"]]
  [1m[35m (11.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 20ms (ActiveRecord: 12.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:13:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  Rendered lots/show.html.slim within layouts/application (19.8ms)
Completed 200 OK in 48ms (Views: 42.9ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:15:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (16.5ms)
  Rendered lots/show.html.slim within layouts/application (26.8ms)
Completed 200 OK in 49ms (Views: 43.5ms | ActiveRecord: 1.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:15:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.5ms)
  Rendered lots/show.html.slim within layouts/application (16.3ms)
Completed 200 OK in 37ms (Views: 32.2ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:15:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.4ms)
  Rendered lots/show.html.slim within layouts/application (16.1ms)
Completed 200 OK in 41ms (Views: 36.2ms | ActiveRecord: 0.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 13:16:01 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"upUTZhr1b6rXe+o+rms6hP7s2qIFle0843mQ3wGcNhc6ZDNhf75s6MqTF5pvnSpWw/HjprJh+hhpvpopbQkRSg==", "rate"=>{"lot_id"=>"8", "users_rate"=>"1001"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 1001], ["created_at", "2017-11-27 10:16:01.725104"], ["updated_at", "2017-11-27 10:16:01.725104"]]
  [1m[35m (24.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 33ms (ActiveRecord: 26.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:16:01 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.0ms)
  Rendered lots/show.html.slim within layouts/application (16.8ms)
Completed 200 OK in 40ms (Views: 33.8ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:18:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.4ms)
  Rendered lots/show.html.slim within layouts/application (15.1ms)
Completed 200 OK in 37ms (Views: 32.4ms | ActiveRecord: 1.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 13:22:18 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Pp2hIL6WXz+qXNB6NDQpcrYJ2TcPDwTlSefpCFfythK+bIEn291cfbe0Ld71wjmgixTgM7j7E8HDIOP+O2eRTw==", "rate"=>{"lot_id"=>"8", "users_rate"=>"23"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 23], ["created_at", "2017-11-27 10:22:18.620288"], ["updated_at", "2017-11-27 10:22:18.620288"]]
  [1m[35m (24.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 33ms (ActiveRecord: 26.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:22:18 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.5ms)
  Rendered lots/show.html.slim within layouts/application (16.9ms)
Completed 200 OK in 39ms (Views: 33.7ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:23:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  Rendered lots/show.html.slim within layouts/application (33.9ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007fbdcc9aff88>
Did you mean?  rate_ids):
    27: = link_to 'Back', lots_path
    28: 
    29: = render "rates/form"
    30: - if @lot.rates_exists?
    31:   = render @lot.rates
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1350656048499272920_70226579125280'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:25:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  Rendered lots/show.html.slim within layouts/application (17.4ms)
Completed 200 OK in 51ms (Views: 46.6ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:39:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (28.5ms)
  Rendered lots/show.html.slim within layouts/application (71.5ms)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 16.8ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007fbdd02aadb0>
Did you mean?  rate_ids):
    27: = link_to 'Back', lots_path
    28: 
    29: = render "rates/form"
    30: - if @lot.rates_exists?
    31:   = render @lot.rates
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1350656048499272920_70226608999200'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:39:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.8ms)
  Rendered lots/show.html.slim within layouts/application (17.8ms)
Completed 200 OK in 238ms (Views: 231.5ms | ActiveRecord: 2.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:40:18 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.3ms)
  Rendered lots/show.html.slim within layouts/application (14.7ms)
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 0.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:40:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.1ms)
  Rendered lots/show.html.slim within layouts/application (15.4ms)
Completed 200 OK in 40ms (Views: 36.0ms | ActiveRecord: 0.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:43:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  Rendered lots/show.html.slim within layouts/application (15.6ms)
Completed 200 OK in 51ms (Views: 45.2ms | ActiveRecord: 1.1ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 13:43:53 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8bDBrTWrZnRH9zMLVBpMlVeUvYMXVPhtyqRyHsMM0nZxQeGqUOBlNlofzq+V7FxHaomEh6Cg70lAY3jor5n1Kw==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 12], ["created_at", "2017-11-27 10:43:53.952820"], ["updated_at", "2017-11-27 10:43:53.952820"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 28ms (ActiveRecord: 18.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:43:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.5ms)
  Rendered lots/show.html.slim within layouts/application (18.1ms)
Completed 200 OK in 45ms (Views: 39.7ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:44:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  Rendered lots/show.html.slim within layouts/application (16.8ms)
Completed 200 OK in 41ms (Views: 36.4ms | ActiveRecord: 0.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:50:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.1ms)
  Rendered lots/show.html.slim within layouts/application (16.5ms)
Completed 200 OK in 78ms (Views: 71.9ms | ActiveRecord: 1.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 13:51:50 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"N8aMnEV8kRm4eBLAfjz6IlK20Q1AN6aB9rM9Tbk60ge3N6ybIDeSW6WQ72S/yurwb6voCffDsaV8dDe71a/1Wg==", "rate"=>{"lot_id"=>"8", "users_rate"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 12], ["created_at", "2017-11-27 10:51:50.926158"], ["updated_at", "2017-11-27 10:51:50.926158"]]
  [1m[35m (24.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 34ms (ActiveRecord: 26.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:51:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (19.0ms)
  Rendered lots/show.html.slim within layouts/application (28.6ms)
Completed 200 OK in 55ms (Views: 50.4ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:52:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  Rendered lots/show.html.slim within layouts/application (35.4ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007fbdd03d8408>
Did you mean?  rate_ids):
    27: = link_to 'Back', lots_path
    28: 
    29: = render "rates/form"
    30: - if @lot.rates_exists?
    31:   = render @lot.rates
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1350656048499272920_70226609608060'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:53:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.4ms)
  Rendered lots/show.html.slim within layouts/application (96198.6ms)
Completed 500 Internal Server Error in 96205ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007fbdd00dce20>
Did you mean?  rate_ids):
    28: 
    29: = render "rates/form"
    30: / - byebug
    31: - if lot.rates_exists?
    32:   = render lot.rates
  
app/views/lots/show.html.slim:31:in `_app_views_lots_show_html_slim__1350656048499272920_70226608044740'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:55:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (19.7ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (90.0ms)
Completed 500 Internal Server Error in 98ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (Missing partial rates/_rate with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :slim, :coffee, :jbuilder]}. Searched in:
  * "/home/pavlov/fs/auction/app/views"
  * "/home/pavlov/fs/auction/.bundle/ruby/2.4.0/gems/devise-4.3.0/app/views"
):
    29: = render "rates/form"
    30: / - byebug
    31: - if lot.rates_exists?
    32:   = render lot.rates
  
app/views/lots/show.html.slim:32:in `_app_views_lots_show_html_slim__1350656048499272920_70226718825180'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 13:56:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (18.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [12 times] (3.8ms)
  Rendered lots/show.html.slim within layouts/application (38.3ms)
Completed 200 OK in 72ms (Views: 62.4ms | ActiveRecord: 1.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 14:12:46 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JqPH/1+AjiyD75VmYl7P2qrVxPs0VsM9+39U0Uq+b6OmUuf4OsuNbp4HaMKjqN8Il8j9/4Oi1BlxuF4nJitI/g==", "rate"=>{"lot_id"=>"8", "users_rate"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 123], ["created_at", "2017-11-27 11:12:46.872327"], ["updated_at", "2017-11-27 11:12:46.872327"]]
  [1m[35m (11.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 85ms (ActiveRecord: 25.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 14:12:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [13 times] (3.3ms)
  Rendered lots/show.html.slim within layouts/application (32.2ms)
Completed 200 OK in 58ms (Views: 52.4ms | ActiveRecord: 1.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 14:13:21 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (35.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [13 times] (4.6ms)
  Rendered lots/show.html.slim within layouts/application (60.5ms)
Completed 200 OK in 135ms (Views: 76.1ms | ActiveRecord: 16.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 14:13:25 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FHiseK/vf2aDQ9Ak+ma8Kh7Dnd3Q59Vw/hLYGNu0xjGUiYx/yqR8JJ6rLYA7kKz4I96k2WcTwlR01dLutyHhbA==", "rate"=>{"lot_id"=>"8", "users_rate"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "users_rate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["users_rate", 21], ["created_at", "2017-11-27 11:13:25.471482"], ["updated_at", "2017-11-27 11:13:25.471482"]]
  [1m[35m (14.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 31ms (ActiveRecord: 18.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 14:13:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [14 times] (3.6ms)
  Rendered lots/show.html.slim within layouts/application (25.6ms)
Completed 200 OK in 53ms (Views: 46.7ms | ActiveRecord: 2.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 14:18:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [14 times] (5.5ms)
  Rendered lots/show.html.slim within layouts/application (29.7ms)
Completed 200 OK in 52ms (Views: 46.3ms | ActiveRecord: 2.0ms)


  [1m[35m (26.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (37.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveMaxRateFromLots (20171127113431)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (304.0ms)[0m  [1m[35mALTER TABLE "lots" DROP "max_rate"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171127113431"]]
  [1m[35m (34.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (61.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RenameUserRatesToValue (20171127115221)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.6ms)[0m  [1m[35mALTER TABLE "rates" RENAME COLUMN "users_rates" TO "value"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(951163835794286625)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RenameUserRatesToValue (20171127115221)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "rates" RENAME COLUMN "users_rate" TO "value"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171127115221"]]
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(951163835794286625)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:06:01 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (22.9ms)
Completed 500 Internal Server Error in 111ms (ActiveRecord: 14.2ms)


  
ActionView::Template::Error (undefined method `max_rate' for #<Lot:0x007fbdcc9c8b28>):
    19:   = image_tag @lot.photo.url(:medium)
    20: p
    21:   strong Max rate
    22:   = @lot.max_rate
    23: = link_to 'Edit', edit_lot_path(@lot)
    24: |  | 
    25: = link_to 'Destroy', lot_path, method: :delete, data: { confirm: 'Are you sure?' }
  
app/views/lots/show.html.slim:22:in `_app_views_lots_show_html_slim__1350656048499272920_70226579166960'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:06:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (40.3ms)
  Rendered lots/show.html.slim within layouts/application (50.7ms)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 8.7ms)


  
ActionView::Template::Error (undefined method `users_rate' for #<Rate:0x007fbdccbaa018>
Did you mean?  user_id):
    13: 
    14:   .field
    15:     = form.label :users_rate, "Your rate"
    16:     = form.number_field :users_rate, id: :rate_users_rate
    17:   
    18:   .actions
    19:     = form.submit
  
app/views/rates/_form.html.slim:16:in `block in _app_views_rates__form_html_slim__4465420053983257142_70226609298760'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__4465420053983257142_70226609298760'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__1350656048499272920_70226610022340'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:07:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.2ms)
  [1m[36mRate Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.7ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  [1m[36mRate Load (0.3ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [14 times] (3.5ms)
  Rendered lots/show.html.slim within layouts/application (36.0ms)
Completed 200 OK in 180ms (Views: 171.8ms | ActiveRecord: 4.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 15:07:28 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
lect(“max(rates.value) INNER JOIN rates ON lots.id = rates
                              ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:11: syntax error, unexpected ')', expecting keyword_end
 ON lots.id = rates.lot_id”).where(“lots.id = ?“, curr
                              ^):
  
app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
app/controllers/rates_controller.rb:11: syntax error, unexpected ')', expecting keyword_end
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 15:08:22 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
ect((“max(rates.value) INNER JOIN rates ON lots.id = rates
                              ^):
  
app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:08:33 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (28.1ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [14 times] (3.8ms)
  Rendered lots/show.html.slim within layouts/application (57.0ms)
Completed 200 OK in 139ms (Views: 67.5ms | ActiveRecord: 17.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 15:08:37 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
ect((“max(rates.value) INNER JOIN rates ON lots.id = rates
                              ^):
  
app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 15:09:02 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
lect(“max(rates.value) INNER JOIN rates ON lots.id = rates
                              ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:11: syntax error, unexpected ')', expecting keyword_end
 ON lots.id = rates.lot_id”).where(“lots.id = ?“, curr
                              ^):
  
app/controllers/rates_controller.rb:11: syntax error, unexpected tCONSTANT, expecting ')'
app/controllers/rates_controller.rb:11: syntax error, unexpected ')', expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:24:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [14 times] (5.1ms)
  Rendered lots/show.html.slim within layouts/application (50.2ms)
Completed 200 OK in 165ms (Views: 93.7ms | ActiveRecord: 13.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-11-27 15:24:34 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UEfwrZVKF3V2vcCU3WMelUHEVjmwcmZnIMAyYGzWGHTQttCq8AEUN2tVPTAclQ5HfNlvPQeGcUOqBziWAEM/KQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (43.6ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["created_at", "2017-11-27 12:24:34.358640"], ["updated_at", "2017-11-27 12:24:34.358640"]]
  [1m[35m (98.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 162ms (ActiveRecord: 143.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:24:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (15.4ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (1.2ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (7.4ms)
  Rendered lots/show.html.slim within layouts/application (67.0ms)
Completed 200 OK in 104ms (Views: 96.5ms | ActiveRecord: 2.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:24:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (3.6ms)
  Rendered lots/show.html.slim within layouts/application (55.1ms)
Completed 200 OK in 127ms (Views: 67.9ms | ActiveRecord: 16.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:25:57 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 253ms (ActiveRecord: 13.3ms)


  
NameError (undefined local variable or method `current_lot' for #<LotsController:0x007fbdd400c7d0>
Did you mean?  current_user):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:38:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (23.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (4.3ms)
  Rendered lots/show.html.slim within layouts/application (47.9ms)
Completed 200 OK in 213ms (Views: 123.6ms | ActiveRecord: 14.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:40:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (1.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (3.8ms)
  Rendered lots/show.html.slim within layouts/application (54.5ms)
Completed 200 OK in 129ms (Views: 68.4ms | ActiveRecord: 18.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 15:41:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.6ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id FROM "lots" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (20.0ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (PG::SyntaxError: ERROR:  syntax error at or near "INNER"
LINE 1: SELECT max(rates.value) INNER JOIN rates ON lots.id = rates....
                                ^
: SELECT max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id FROM "lots" WHERE (lots.id = 8)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226609115000'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:04:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (22.3ms)[0m  [1m[34mSELECT max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id FROM "lots" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (57.9ms)
Completed 500 Internal Server Error in 115ms (ActiveRecord: 36.4ms)


  
ActionView::Template::Error (PG::SyntaxError: ERROR:  syntax error at or near "INNER"
LINE 1: SELECT max(rates.value) INNER JOIN rates ON lots.id = rates....
                                ^
: SELECT max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id FROM "lots" WHERE (lots.id = 8)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226540569020'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:20:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (1.2ms)[0m  [1m[34mSELECT "lots".* FROM "lots" max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (74.5ms)
Completed 500 Internal Server Error in 127ms (ActiveRecord: 18.2ms)


  
ActionView::Template::Error (PG::SyntaxError: ERROR:  syntax error at or near "."
LINE 1: SELECT "lots".* FROM "lots" max(rates.value) INNER JOIN rate...
                                             ^
: SELECT "lots".* FROM "lots" max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id WHERE (lots.id = 8)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226577686420'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:20:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id FROM "lots" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (37.0ms)
Completed 500 Internal Server Error in 120ms (ActiveRecord: 13.7ms)


  
ActionView::Template::Error (PG::SyntaxError: ERROR:  syntax error at or near "INNER"
LINE 1: SELECT max(rates.value) INNER JOIN rates ON lots.id = rates....
                                ^
: SELECT max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id FROM "lots" WHERE (lots.id = 8)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226609313060'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:22:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.8ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (59.0ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (113.5ms)
Completed 500 Internal Server Error in 170ms (ActiveRecord: 77.3ms)


  
ActionView::Template::Error (Rate(#70226710794920) expected, got #<Lot id: nil> which is an instance of Lot(#70226641347960)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226720146780'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:23:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (36.7ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 14.7ms)


  
ActionView::Template::Error (Rate(#70226576708260) expected, got #<Lot id: nil> which is an instance of Lot(#70226577531580)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226608818500'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:23:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (36.9ms)
Completed 500 Internal Server Error in 101ms (ActiveRecord: 13.2ms)


  
ActionView::Template::Error (Rate(#70226617303140) expected, got #<Lot id: nil> which is an instance of Lot(#70226718961340)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226723733940'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:30:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.7ms)
  [1m[36mRate Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (1.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (38.5ms)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 19.5ms)


  
ActionView::Template::Error (Rate(#70226574439100) expected, got #<Lot id: nil> which is an instance of Lot(#70226586363800)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226586171580'
Started GET "/lots/" for 127.0.0.1 at 2017-11-27 16:30:50 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.6ms)
Completed 200 OK in 198ms (Views: 175.5ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:30:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (20.8ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (Rate(#70226574439100) expected, got #<Lot id: nil> which is an instance of Lot(#70226586363800)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226616889840'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:32:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.5ms)
  [1m[36mRate Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (37.5ms)
Completed 500 Internal Server Error in 86ms (ActiveRecord: 15.5ms)


  
ActionView::Template::Error (Rate(#70226579905840) expected, got #<Lot id: nil> which is an instance of Lot(#70226586725560)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226610208240'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:35:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (36.8ms)
Completed 500 Internal Server Error in 92ms (ActiveRecord: 16.2ms)


  
ActionView::Template::Error (Rate(#70226613929960) expected, got #<Lot id: nil> which is an instance of Lot(#70226615675460)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226614319700'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:36:57 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (45.8ms)
Completed 500 Internal Server Error in 107ms (ActiveRecord: 15.7ms)


  
ActionView::Template::Error (Rate(#70226608376000) expected, got #<Lot id: nil> which is an instance of Lot(#70226577251940)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226574589220'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:37:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (37.0ms)
Completed 500 Internal Server Error in 91ms (ActiveRecord: 17.1ms)


  
ActionView::Template::Error (Rate(#70226594555220) expected, got #<Lot id: nil> which is an instance of Lot(#70226612644560)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226582384360'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:46:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (14.0ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (33.1ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (Rate(#70226594555220) expected, got #<Lot id: nil> which is an instance of Lot(#70226612644560)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226719276020'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:52:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (36.2ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 16.0ms)


  
ActionView::Template::Error (Rate(#70226576589660) expected, got #<Lot id: nil> which is an instance of Lot(#70226581150660)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226586051800'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:52:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (37.6ms)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 14.0ms)


  
ActionView::Template::Error (Rate(#70226614083060) expected, got #<Lot id: nil> which is an instance of Lot(#70226616238800)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226614695340'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:52:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (20.6ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (Rate(#70226614083060) expected, got #<Lot id: nil> which is an instance of Lot(#70226616238800)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226577998620'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-27 16:52:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (27.2ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (Rate(#70226614083060) expected, got #<Lot id: nil> which is an instance of Lot(#70226616238800)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim__1350656048499272920_70226613079400'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 11:57:37 +0300
  [1m[35m (46.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (62.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (35.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (265.9ms)
  [1m[36mRate Exists (41.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (14.3ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (452.3ms)
Completed 500 Internal Server Error in 904ms (ActiveRecord: 210.8ms)


  
ActionView::Template::Error (Rate(#69872478237320) expected, got #<Lot id: nil> which is an instance of Lot(#69872476352340)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1374711325151799654_69872476076160'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 13:01:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (99.2ms)
Completed 500 Internal Server Error in 136ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined method `rate' for #<LotDecorator:0x007f18e8078070>
Did you mean?  rates):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.rate
  
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1374711325151799654_69872475426400'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 13:01:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (4.5ms)
  Rendered lots/show.html.slim within layouts/application (97.0ms)
Completed 200 OK in 526ms (Views: 519.0ms | ActiveRecord: 2.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 13:01:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (3.4ms)
  Rendered lots/show.html.slim within layouts/application (34.5ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 2.2ms)


  
ActionView::Template::Error (undefined method `user_id' for #<Draper::CollectionDecorator:0x005614ef092270>):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render lot.rates
    30:   = render lot.rates.user_id
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___1374711325151799654_69872340227300'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 13:02:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (3.6ms)
  Rendered lots/show.html.slim within layouts/application (23.0ms)
Completed 200 OK in 44ms (Views: 38.1ms | ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 13:38:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.3ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (272.0ms)
  Rendered lots/show.html.slim within layouts/application (293.7ms)
Completed 500 Internal Server Error in 300ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (undefined local variable or method `object' for #<#<Class:0x007f18e83b62c8>:0x007f18d8bbc950>
Did you mean?  object_id):
    1: h6 Rate
    2: = Lot.select("max(rates.value)").joins(:rates).where("lots.id = ?", object.id)
    3: = rate.value
    4: = rate.user_id
  
app/views/rates/_rate.html.slim:2:in `_app_views_rates__rate_html_slim___785912408121172865_69872418143460'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1374711325151799654_69872346065400'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 13:38:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (14.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (9.7ms)
  Rendered lots/show.html.slim within layouts/application (49.9ms)
Completed 200 OK in 87ms (Views: 80.2ms | ActiveRecord: 1.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-28 13:38:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (3.5ms)
  Rendered lots/show.html.slim within layouts/application (24.2ms)
Completed 200 OK in 46ms (Views: 40.3ms | ActiveRecord: 1.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:26:44 +0300
  [1m[35m (46.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (63.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (22.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (220.6ms)
  [1m[36mRate Exists (42.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (646.2ms)
Completed 500 Internal Server Error in 913ms (ActiveRecord: 186.3ms)


  
ActionView::Template::Error (undefined local variable or method `rates' for #<#<Class:0x007fecc43b1fd8>:0x007fecc4764f40>
Did you mean?  rate
               rate=):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render rates
  
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_70327440611600'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:26:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (34.4ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (400.1ms)
Completed 500 Internal Server Error in 480ms (ActiveRecord: 21.3ms)


  
ActionView::Template::Error (undefined local variable or method `rates' for #<#<Class:0x005596ed45b210>:0x005596ed4368c0>
Did you mean?  rate
               rate=):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = render rates
  
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_47053357132860'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:27:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (12.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (4.2ms)
  Rendered lots/show.html.slim within layouts/application (84.9ms)
Completed 200 OK in 430ms (Views: 422.6ms | ActiveRecord: 2.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:28:27 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered collection of rates/_rate.html.slim [15 times] (4.0ms)
  Rendered lots/show.html.slim within layouts/application (52.2ms)
Completed 200 OK in 132ms (Views: 75.1ms | ActiveRecord: 15.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:29:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (24.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (39.1ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (107.1ms)
Completed 500 Internal Server Error in 182ms (ActiveRecord: 53.7ms)


  
ActionView::Template::Error (Rate(#70327282786780) expected, got #<Lot id: nil> which is an instance of Lot(#70327284559500)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_70327284775140'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:31:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (22.6ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (Rate(#70327282786780) expected, got #<Lot id: nil> which is an instance of Lot(#70327284559500)):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   byebug
    30:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___1131716396875257085_70327279249920'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:31:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (5.0ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (150825.8ms)
Completed 500 Internal Server Error in 150837ms (ActiveRecord: 6.9ms)


  
ActionView::Template::Error (Rate(#70327282786780) expected, got #<Lot id: nil> which is an instance of Lot(#70327284559500)):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   - byebug
    30:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___1131716396875257085_70327282789260'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:34:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.5ms)
  [1m[36mRate Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (26.1ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (Rate(#70327282786780) expected, got #<Lot id: nil> which is an instance of Lot(#70327284559500)):
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_70327473748160'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:38:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (1.3ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (109946.5ms)
Completed 500 Internal Server Error in 109954ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (Rate(#70327282786780) expected, got #<Lot id: nil> which is an instance of Lot(#70327284559500)):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   - byebug
    30:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___1131716396875257085_70327440833660'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:43:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (26.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT MAX((rates.value)) FROM "lots"[0m
  Rendered lots/show.html.slim within layouts/application (5757.2ms)
Completed 500 Internal Server Error in 5826ms (ActiveRecord: 20.6ms)


  
ActionView::Template::Error (PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "rates"
LINE 1: SELECT MAX((rates.value)) FROM "lots"
                    ^
: SELECT MAX((rates.value)) FROM "lots"):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   - byebug
    30:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___1131716396875257085_70327276162740'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:44:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mRate Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (23.2ms)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 12.1ms)


  
ActionView::Template::Error (Rate(#70327284559300) expected, got #<Lot id: nil> which is an instance of Lot(#70327374064520)):
    26: 
    27: / = render "rates/form"
    28: - if lot.rates_exists?
    29:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_70327472370320'
Started GET "/lots" for 127.0.0.1 at 2017-11-29 12:55:00 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.8ms)
Completed 200 OK in 52ms (Views: 30.9ms | ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:55:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendered lots/show.html.slim within layouts/application (16.1ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (Rate(#70327284559300) expected, got #<Lot id: nil> which is an instance of Lot(#70327374064520)):
    26: 
    27: / = render "rates/form"
    28: - if lot.rates_exists?
    29:   = lot.max_rate
  
app/decorators/lot_decorator.rb:6:in `max_rate'
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_70327476356280'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:58:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (330.1ms)
Completed 500 Internal Server Error in 382ms (ActiveRecord: 12.3ms)


  
ActionView::Template::Error (undefined local variable or method `max_rate' for #<#<Class:0x005596ee17a5e0>:0x005596ee163db8>):
    26: 
    27: / = render "rates/form"
    28: - if lot.rates_exists?
    29:   = max_rate
  
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_47053364019920'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:58:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (31.3ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined method `max_rate' for #<LotDecorator:0x007fecc4211bb0>):
    26: 
    27: / = render "rates/form"
    28: - if lot.rates_exists?
    29:   = lot.max_rate
  
app/views/lots/show.html.slim:29:in `_app_views_lots_show_html_slim___1131716396875257085_47053362872580'
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 12:59:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.7ms)
Completed 200 OK in 80ms (Views: 30.4ms | ActiveRecord: 11.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 13:00:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (14.8ms)
Completed 200 OK in 86ms (Views: 32.3ms | ActiveRecord: 15.5ms)


  [1m[36mLot Load (1.2ms)[0m  [1m[34mSELECT  max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (1.3ms)[0m  [1m[34mSELECT  max(rates.value) INNER JOIN rates ON lots.id = rates.lot_id FROM "lots" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (1.2ms)[0m  [1m[34mSELECT  max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-11-29 13:13:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (18.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.0ms)
Completed 200 OK in 110ms (Views: 100.5ms | ActiveRecord: 4.6ms)


  [1m[36mLot Load (1.8ms)[0m  [1m[34mSELECT  max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (2.0ms)[0m  [1m[34mSELECT  max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 15:35:08 +0300
  [1m[35m (35.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (61.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (33.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (213.5ms)
  [1m[36mRate Exists (33.9ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (331.3ms)
Completed 200 OK in 1099ms (Views: 738.2ms | ActiveRecord: 234.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 16:51:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (51.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (113.0ms)
Completed 500 Internal Server Error in 192ms (ActiveRecord: 42.3ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<LotDecorator:0x007faf70624518>
Did you mean?  current_user_max_rate):
    30:   / = render lot.max_rate
    31: 
    32:   h6 Your max rate
    33:   = render lot.current_user_max_rate
  
app/decorators/lot_decorator.rb:14:in `current_user_max_rate'
app/views/lots/show.html.slim:33:in `_app_views_lots_show_html_slim__4319530594924576040_70195740165100'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:03:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (3.6ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 8.8ms)


  
ActionView::Template::Error (Malformed indentation
  /home/pavlov/fs/auction/app/views/lots/show.html.slim, Line 30, Column 1
    / = render lot.max_rate
    ^
):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   = @max_rate
    30:  / = render lot.max_rate
    31: 
    32:   h6 Your max rate
    33:   = render lot.current_user_max_rate
  
app/views/lots/show.html.slim:30
Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:04:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (41.2ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (70.9ms)
Completed 500 Internal Server Error in 79ms (ActiveRecord: 6.9ms)


  
ActionView::Template::Error (undefined local variable or method `current_user' for #<LotDecorator:0x007faf78027d38>
Did you mean?  current_user_max_rate):
    30:   / = render lot.max_rate
    31: 
    32:   h6 Your max rate
    33:   = render lot.current_user_max_rate
  
app/decorators/lot_decorator.rb:14:in `current_user_max_rate'
app/views/lots/show.html.slim:33:in `_app_views_lots_show_html_slim__4319530594924576040_70195815091100'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:04:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.5ms)
Completed 200 OK in 41ms (Views: 32.0ms | ActiveRecord: 1.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:20:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (101.4ms)[0m  [1m[34mSELECT  max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (1.6ms)[0m  [1m[34mSELECT max(rates.value) FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (27.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (91.7ms)
Completed 200 OK in 429118ms (Views: 108.6ms | ActiveRecord: 119.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:28:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mLot Load (22.7ms)[0m  [1m[34mSELECT  max('rates.value') FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  max('rates.value') FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (2.0ms)[0m  [1m[34mSELECT max('rates.value') FROM "lots" INNER JOIN "rates" ON "rates"."lot_id" = "lots"."id" WHERE (lots.id = 8)[0m
  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT  max(rates.value) FROM "rates" WHERE (lot_id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Rate Load (0.0ms)[0m  [1m[34mSELECT  max(rates.value) FROM "rates" WHERE (lot_id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM "rates" WHERE (lot_id = 8)[0m
  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT  max(rates.value) AS result FROM "rates" WHERE (lot_id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCACHE Rate Load (0.0ms)[0m  [1m[34mSELECT  max(rates.value) AS result FROM "rates" WHERE (lot_id = 8) LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mRate Load (0.7ms)[0m  [1m[34mSELECT max(rates.value) AS result FROM "rates" WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 825145ms (ActiveRecord: 68.9ms)


  
NoMethodError (undefined method `max' for #<Class:0x007faf7008e9c8>):
  
app/controllers/lots_controller.rb:21:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:41:50 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
T max(rates.value) FROM "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
M "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:41:55 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
T max(rates.value) FROM "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
M "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-01 17:42:26 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
T max(rates.value) FROM "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
M "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 09:43:34 +0300
  [1m[35m (46.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
T max(rates.value) FROM "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
M "rates" WHERE (lot_id = 8)")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
app/controllers/lots_controller.rb:78: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 09:44:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (104.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (21.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 393ms (ActiveRecord: 306.5ms)


  
NameError (uninitialized constant ActiveRecord::Connection):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 09:49:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.1ms)


  
NameError (uninitialized constant ActiveRecord::Connection):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 09:49:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 51ms (ActiveRecord: 9.5ms)


  
NameError (uninitialized constant ActiveRecord::Connection):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 09:50:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 56ms (ActiveRecord: 14.7ms)


  
NameError (uninitialized constant ActiveRecord::Connection):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 09:51:30 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 53ms (ActiveRecord: 9.4ms)


  
NameError (uninitialized constant ActiveRecord::Connection):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 10:12:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (61.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (247.3ms)
  [1m[36mRate Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (331.6ms)
Completed 200 OK in 858ms (Views: 724.8ms | ActiveRecord: 81.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 10:14:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (52.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (65.7ms)
Completed 200 OK in 148ms (Views: 83.0ms | ActiveRecord: 15.4ms)


Started GET "/lots" for 127.0.0.1 at 2017-12-04 10:15:50 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.1ms)
Completed 200 OK in 80ms (Views: 34.1ms | ActiveRecord: 1.0ms)


Started GET "/lots" for 127.0.0.1 at 2017-12-04 10:16:35 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
    @ result.values
      ^):
  
app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots" for 127.0.0.1 at 2017-12-04 10:16:40 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
    @ result.getvalue(0,0) 
      ^):
  
app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots" for 127.0.0.1 at 2017-12-04 10:16:42 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
    @ result.getvalue(0,0) 
      ^):
  
app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots" for 127.0.0.1 at 2017-12-04 11:04:38 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
    @ result.getvalue(0,0) 
      ^):
  
app/controllers/lots_controller.rb:21: `@' without identifiers is not allowed as an instance variable name
app/controllers/lots_controller.rb:21: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots" for 127.0.0.1 at 2017-12-04 11:04:57 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (31.6ms)
Completed 200 OK in 111ms (Views: 44.7ms | ActiveRecord: 10.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:05:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.8ms)
Completed 200 OK in 58ms (Views: 48.1ms | ActiveRecord: 5.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:05:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (45.4ms)
Completed 200 OK in 114ms (Views: 59.7ms | ActiveRecord: 13.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:05:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.1ms)
Completed 200 OK in 42ms (Views: 34.9ms | ActiveRecord: 1.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:06:26 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected keyword_self, expecting ')'
OM rates WHERE (lot_id = "self.lot.id")")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
ERE (lot_id = "self.lot.id")")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:79: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:20: syntax error, unexpected keyword_self, expecting ')'
app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
app/controllers/lots_controller.rb:79: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:07:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (42.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 'self.lot.id')[0m
Completed 500 Internal Server Error in 92ms (ActiveRecord: 51.6ms)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "self.lot.id"
LINE 1: ...ELECT max(rates.value) FROM rates WHERE (lot_id = 'self.lot....
                                                             ^
: SELECT max(rates.value) FROM rates WHERE (lot_id = 'self.lot.id')):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:08:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 'conversations_id_seq')[0m
Completed 500 Internal Server Error in 48ms (ActiveRecord: 11.1ms)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "conversations_id_seq"
LINE 1: ...ELECT max(rates.value) FROM rates WHERE (lot_id = 'conversat...
                                                             ^
: SELECT max(rates.value) FROM rates WHERE (lot_id = 'conversations_id_seq')):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:29:56 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
s WHERE (lot_id = "current_lot.id")")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
 (lot_id = "current_lot.id")")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:79: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:20: syntax error, unexpected tIDENTIFIER, expecting ')'
app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
app/controllers/lots_controller.rb:79: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:30:30 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected tIVAR, expecting ')'
OM rates WHERE (lot_id = "@lot.id")")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
s WHERE (lot_id = "@lot.id")")
                              ^
/home/pavlov/fs/auction/app/controllers/lots_controller.rb:79: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/lots_controller.rb:20: syntax error, unexpected tIVAR, expecting ')'
app/controllers/lots_controller.rb:20: syntax error, unexpected ')', expecting keyword_end
app/controllers/lots_controller.rb:79: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:30:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '@lot.id')[0m
Completed 500 Internal Server Error in 46ms (ActiveRecord: 9.4ms)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input syntax for integer: "@lot.id"
LINE 1: ...ELECT max(rates.value) FROM rates WHERE (lot_id = '@lot.id')
                                                             ^
: SELECT max(rates.value) FROM rates WHERE (lot_id = '@lot.id')):
  
app/controllers/lots_controller.rb:20:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:31:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (34.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (57.0ms)
Completed 200 OK in 179ms (Views: 90.1ms | ActiveRecord: 14.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:34:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8, user_id = 2)[0m
Completed 500 Internal Server Error in 51ms (ActiveRecord: 10.5ms)


  
ActiveRecord::StatementInvalid (PG::DatatypeMismatch: ERROR:  argument of WHERE must be type boolean, not type record
LINE 1: SELECT max(rates.value) FROM rates WHERE (lot_id = 8, user_i...
                                                 ^
: SELECT max(rates.value) FROM rates WHERE (lot_id = 8, user_id = 2)):
  
app/controllers/lots_controller.rb:21:in `show'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:35:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.1ms)
  Rendered lots/show.html.slim within layouts/application (32.4ms)
Completed 500 Internal Server Error in 84ms (ActiveRecord: 14.0ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<LotDecorator:0x007fe4753f96f0>):
    25: = link_to 'Back', lots_path
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(0,0) 
    31:   h2 your max rate
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___2841732266732707972_70309600869780'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:35:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.7ms)
  Rendered lots/show.html.slim within layouts/application (25.0ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<LotDecorator:0x007fe475d4cbd0>):
    25: = link_to 'Back', lots_path
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(0,0) 
    31:   h2 your max rate
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___2841732266732707972_70309603388900'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:35:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  Rendered lots/show.html.slim within layouts/application (20.2ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<LotDecorator:0x007fe46404ea20>):
    25: = link_to 'Back', lots_path
    26: 
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(0,0) 
    31:   h2 your max rate
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___2841732266732707972_70309454473000'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:36:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.6ms)
Completed 200 OK in 108ms (Views: 50.6ms | ActiveRecord: 16.7ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-04 11:36:18 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (9.6ms)
Completed 200 OK in 37ms (Views: 32.0ms | ActiveRecord: 1.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-12-04 11:36:21 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"POYnHWpJfmlK95Z835vqr0pCc7nV/aIPQCnAa+OqKIG8FwcaDwJ9K1cfa9gebfp9d19KvWIJtSvK7sqdjz8P3A=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 31ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-12-04 11:36:22 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-04 11:36:22 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.0ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (42.2ms)
Completed 200 OK in 72ms (Views: 69.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-12-04 11:36:24 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 39ms (Views: 37.7ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-12-04 11:36:46 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7BS1sNBKJB3O41gH4dpH45OxkaZtsSwo1dkO6iCMjOI4G+wPPt7Mfv3Fg7yW6/xdY6HzWD+g+9F7w8DhqRc5Gg==", "user"=>{"email"=>"user1@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (54.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user1@mail.ru"], ["LIMIT", 1]]
  [1m[35mSQL (31.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "user1@mail.ru"], ["encrypted_password", "$2a$11$VPHGmdhX3FenK98SNREca.iiIpr.Oc5iG81OdWMYf/V7DraFvJo/K"], ["created_at", "2017-12-04 08:36:47.092490"], ["updated_at", "2017-12-04 08:36:47.092490"]]
  [1m[35m (59.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-12-04 08:36:47.187940"], ["last_sign_in_at", "2017-12-04 08:36:47.187940"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-12-04 08:36:47.189348"], ["id", 3]]
  [1m[35m (32.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 685ms (ActiveRecord: 180.7ms)


Started GET "/" for 127.0.0.1 at 2017-12-04 11:36:47 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (8.6ms)
Completed 200 OK in 33ms (Views: 26.0ms | ActiveRecord: 2.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:36:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.8ms)
Completed 200 OK in 44ms (Views: 37.5ms | ActiveRecord: 2.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-04 11:36:54 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CnrUxacl4Vhmp20gJSN4kkuquYUHa9WvZ8bKes4yeT5in8UCY11UQ+LQ52r1fjypmfBMoU7Ia20UVTFItTsupA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (39.2ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["lot_id", 8], ["created_at", "2017-12-04 08:36:54.160512"], ["updated_at", "2017-12-04 08:36:54.160512"]]
  [1m[35m (33.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 103ms (ActiveRecord: 74.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:36:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.6ms)
Completed 200 OK in 54ms (Views: 41.1ms | ActiveRecord: 3.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:37:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.6ms)
Completed 200 OK in 52ms (Views: 44.8ms | ActiveRecord: 3.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:37:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (39.6ms)
Completed 200 OK in 116ms (Views: 54.0ms | ActiveRecord: 16.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-04 11:37:47 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"C14gv15+Jz6SE7DEeNJ4YtrMtqCgAXi/w5R8WPqP8veYZJ4PMn7Pn8dfDyA3RkyGXT/B0jQTC0X70HYRVk5nZg==", "rate"=>{"lot_id"=>"8", "value"=>"1111"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 3], ["lot_id", 8], ["created_at", "2017-12-04 08:37:47.975382"], ["updated_at", "2017-12-04 08:37:47.975382"]]
  [1m[35m (46.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 126ms (ActiveRecord: 62.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:37:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.4ms)
Completed 200 OK in 47ms (Views: 40.7ms | ActiveRecord: 2.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 11:38:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.0ms)
Completed 200 OK in 48ms (Views: 39.5ms | ActiveRecord: 3.0ms)


  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:32:32 +0300
  [1m[35m (45.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
Completed 401 Unauthorized in 27ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-04 21:32:34 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.5ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (40.0ms)
Completed 200 OK in 640ms (Views: 435.9ms | ActiveRecord: 138.7ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-04 21:32:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Z2mV3XvFoxg+6WU/BUv/2W//v21PM2+EHvyEFJNAXy4L0b2VRsEiFpJTiStjnbrsKTR477iwEGkPhZAgcu4Vmg==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Z2mV3XvFoxg+6WU/BUv/2W//v21PM2+EHvyEFJNAXy4L0b2VRsEiFpJTiStjnbrsKTR477iwEGkPhZAgcu4Vmg==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.6ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 24ms (Views: 23.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-04 21:32:47 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"m8gA7slhQg03VTGNJfaLDXjJLbQGYMd2teQa73aV60z3cCim9GXDA5vv3ZlDIM44PgLqNvHjuJuknQ7blzuh+A==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (79.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "egor@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-12-04 18:32:47.628104"], ["last_sign_in_at", "2017-11-13 13:30:56.461288"], ["sign_in_count", 3], ["updated_at", "2017-12-04 18:32:47.629572"], ["id", 2]]
  [1m[35m (130.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 603ms (ActiveRecord: 211.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:32:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (35.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (74.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (128.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (228.0ms)
Completed 200 OK in 421ms (Views: 241.0ms | ActiveRecord: 132.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:33:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-04 21:33:17 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.1ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 28ms (Views: 26.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-04 21:33:31 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"udMvCeWCAMJHOD/C027c2GM0qMj0dUA2OnXdfzU2bThR1Z+QB6asWtt6JwwZPpQzC/BrY3WiG1eAC8Aou0sZIQ==", "user"=>{"email"=>"user1@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-12-04 18:33:31.974931"], ["sign_in_count", 2], ["updated_at", "2017-12-04 18:33:31.976039"], ["id", 3]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 277ms (ActiveRecord: 25.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:33:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.1ms)
Completed 200 OK in 52ms (Views: 39.3ms | ActiveRecord: 3.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:35:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.6ms)
  [1m[36mRate Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (322.6ms)
Completed 500 Internal Server Error in 378ms (ActiveRecord: 15.5ms)


  
ActionView::Template::Error (undefined local variable or method `result' for #<#<Class:0x007f52101f4d48>:0x007f52101f2f70>
Did you mean?  @result):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = result.getvalue(0,0) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   / = render lot.max_rate
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995217267440'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:35:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (367.4ms)
Completed 500 Internal Server Error in 377ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (undefined local variable or method `result' for #<#<Class:0x007f52101f4d48>:0x007f5218181930>
Did you mean?  @result):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = result
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   / = render lot.max_rate
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995284140540'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:36:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (32.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (52.2ms)
Completed 500 Internal Server Error in 122ms (ActiveRecord: 13.6ms)


  
ActionView::Template::Error (undefined method `result' for #<LotDecorator:0x007f5210058f98>):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = lot.result
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   / = render lot.max_rate
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995362008520'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:38:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (335.6ms)
Completed 500 Internal Server Error in 394ms (ActiveRecord: 19.7ms)


  
ActionView::Template::Error (undefined local variable or method `result' for #<#<Class:0x007f521825c7b0>:0x007f522409e9f8>
Did you mean?  @result_user):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = result.getvalue(0,0) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   / = render lot.max_rate
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995284588580'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:38:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.3ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (340.3ms)
Completed 500 Internal Server Error in 393ms (ActiveRecord: 13.8ms)


  
ActionView::Template::Error (undefined local variable or method `result' for #<#<Class:0x007f5221499308>:0x007f522148de40>
Did you mean?  @result):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = result.getvalue(0,0) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995361259260'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:39:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (16.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (27.2ms)
Completed 200 OK in 54ms (Views: 46.2ms | ActiveRecord: 2.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:39:11 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.2ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (24.3ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (wrong number of arguments (given 0, expected 2)):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   
  
app/views/lots/show.html.slim:30:in `getvalue'
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995284824600'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:39:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.4ms)
Completed 200 OK in 65ms (Views: 56.0ms | ActiveRecord: 2.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:39:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (50.4ms)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 3.2ms)


  
ActionView::Template::Error (invalid field number 1):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(0,1) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   
  
app/views/lots/show.html.slim:30:in `getvalue'
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995218672800'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:39:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (29.0ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (invalid tuple number 1):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(1,1) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   
  
app/views/lots/show.html.slim:30:in `getvalue'
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim__1828409388866489836_69995364283000'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 21:39:43 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.4ms)
Completed 200 OK in 50ms (Views: 39.4ms | ActiveRecord: 3.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 22:52:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.7ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (35.6ms)
Completed 200 OK in 247ms (Views: 117.7ms | ActiveRecord: 87.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 23:04:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (25.0ms)
Completed 200 OK in 64ms (Views: 56.1ms | ActiveRecord: 2.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-04 23:04:45 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Tq+1al0wQLrATfWmjQIBPFewmcSSDOPIzhdgNtrEQn++TAuFWlK9n5ZvmHVa0aITkhoFw/acWo8liNJlUdaKMA==", "rate"=>{"lot_id"=>"8", "value"=>"1212"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (62.8ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["created_at", "2017-12-04 20:04:46.342173"], ["updated_at", "2017-12-04 20:04:46.342173"]]
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 153ms (ActiveRecord: 97.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-04 23:04:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.6ms)
Completed 200 OK in 44ms (Views: 35.9ms | ActiveRecord: 2.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 09:42:36 +0300
  [1m[35m (46.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
Completed 401 Unauthorized in 17ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-05 09:42:38 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.5ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (42.9ms)
Completed 200 OK in 518ms (Views: 455.2ms | ActiveRecord: 33.3ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-05 09:42:43 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"z/lCHqBgrcnLzqPtdS7sxZWzwnL1b6pU41Fchvqfwsr7rtYCNDDEr+LhnuQtIvcTYPPah6hPwEVzI8+Mm1rweg==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (103.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "egor@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-12-05 06:42:44.419326"], ["last_sign_in_at", "2017-12-04 18:32:47.628104"], ["sign_in_count", 4], ["updated_at", "2017-12-05 06:42:44.420866"], ["id", 2]]
  [1m[35m (13.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 463ms (ActiveRecord: 117.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 09:42:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (35.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (48.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (95.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (202.9ms)
Completed 200 OK in 349ms (Views: 217.7ms | ActiveRecord: 94.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 09:43:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.0ms)
  Rendered lots/show.html.slim within layouts/application (16.6ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 10.4ms)


  
ActionView::Template::Error (You need to supply at least one validation):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:6:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___4054393281976029786_69866818435820'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim___703905222579094709_69866818045200'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 09:44:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.0ms)
Completed 200 OK in 98ms (Views: 46.8ms | ActiveRecord: 14.6ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 09:44:08 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yehRBGNEuN7Vlcd0swBH/fXXtxHp4qkvbqSASnanL1ic06NwJw5aaTWSNv6ACmZXbA08vgUz2+XIaHQ5Pv0xKA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `getvalue' for nil:NilClass):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:22:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:06:17 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yehRBGNEuN7Vlcd0swBH/fXXtxHp4qkvbqSASnanL1ic06NwJw5aaTWSNv6ACmZXbA08vgUz2+XIaHQ5Pv0xKA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 71ms (ActiveRecord: 14.9ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:22:in `create'
Started GET "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:16:28 +0300
Processing by RatesController#index as HTML
  Parameters: {"lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 58ms (ActiveRecord: 6.4ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 10:16:33 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (36.4ms)
Completed 200 OK in 82ms (Views: 47.9ms | ActiveRecord: 12.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:16:38 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FmztrAfAM/VJpHAg4UOBvChTD0SX1YIsb4TRiWTp3WVDVx/YQ4rRQqmjgarSSaAWsYmE63sE8ObJSCX6LLPDFQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.3ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:16:59 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FmztrAfAM/VJpHAg4UOBvChTD0SX1YIsb4TRiWTp3WVDVx/YQ4rRQqmjgarSSaAWsYmE63sE8ObJSCX6LLPDFQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 84ms (ActiveRecord: 16.7ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:17:08 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FmztrAfAM/VJpHAg4UOBvChTD0SX1YIsb4TRiWTp3WVDVx/YQ4rRQqmjgarSSaAWsYmE63sE8ObJSCX6LLPDFQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 65ms (ActiveRecord: 15.2ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:17:18 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FmztrAfAM/VJpHAg4UOBvChTD0SX1YIsb4TRiWTp3WVDVx/YQ4rRQqmjgarSSaAWsYmE63sE8ObJSCX6LLPDFQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 70ms (ActiveRecord: 14.5ms)


  
NoMethodError (undefined method `<' for #<PG::Result:0x007f1645b41b78>):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:17:42 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FmztrAfAM/VJpHAg4UOBvChTD0SX1YIsb4TRiWTp3WVDVx/YQ4rRQqmjgarSSaAWsYmE63sE8ObJSCX6LLPDFQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 83ms (ActiveRecord: 14.1ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 10:32:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.3ms)
Completed 200 OK in 105ms (Views: 47.5ms | ActiveRecord: 16.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:32:10 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (1.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 36940ms (ActiveRecord: 1.9ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:33:51 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (18458.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 154893ms (ActiveRecord: 18459.8ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 10:36:57 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 73ms (ActiveRecord: 15.2ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:05:50 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 46559ms (ActiveRecord: 13.2ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:06:46 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 73ms (ActiveRecord: 13.3ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:9:in `<'
app/models/rate.rb:9:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:06:59 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 21989ms (ActiveRecord: 20.1ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:10:in `<'
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:07:34 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 121303ms (ActiveRecord: 13.5ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:11:in `<'
app/models/rate.rb:11:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:10:00 +0300
  
ArgumentError (You need to supply at least one validation):
  
app/models/rate.rb:6:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/decorators/rate_decorator.rb:1:in `<top (required)>'
app/controllers/rates_controller.rb:7:in `<class:RatesController>'
app/controllers/rates_controller.rb:1:in `<top (required)>'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:10:49 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 11638ms (ActiveRecord: 12.5ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:11:in `<'
app/models/rate.rb:11:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:12:45 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gOTSMuF2PyQ1w/H252fw5V31zEzKEjSgVrYJ8tPpJhHV3yBGpTzdk9XEAHzUbdFPxC9H4ybDRmrwev2Bm7M4YQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 7275ms (ActiveRecord: 19.2ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:12:in `<='
app/models/rate.rb:12:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:13:49 +0300
Processing by RatesController#index as HTML
  Parameters: {"lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 61ms (ActiveRecord: 5.4ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:29:42 +0300
Processing by RatesController#index as HTML
  Parameters: {"lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 59ms (ActiveRecord: 4.5ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 11:29:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (32.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (46.4ms)
Completed 200 OK in 100ms (Views: 64.1ms | ActiveRecord: 9.5ms)


Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 11:29:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (47.7ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (73.5ms)
Completed 200 OK in 187ms (Views: 108.0ms | ActiveRecord: 16.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:30:02 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PjrEOMkLcA5GuqapWD8PCdDxtdikrSn1BRcsMNaHsQ1rATZMjUGSuaa9VyNrNS6jSSs+d0h8Wz+j29hDnt2vfQ==", "rate"=>{"lot_id"=>"8", "value"=>"3"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 23795ms (ActiveRecord: 1.5ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:12:in `<='
app/models/rate.rb:12:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 11:30:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (13.2ms)
  Rendered lots/show.html.slim within layouts/application (21.1ms)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 10.1ms)


  
ActionView::Template::Error (Unknown key: :uniqueness. Valid keys are: :on, :if, :unless, :prepend. Perhaps you meant to call `validates` instead of `validate`?):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:7:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___4054393281976029786_69866743752260'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim___703905222579094709_69866743593580'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 11:30:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.4ms)
Completed 200 OK in 103ms (Views: 48.0ms | ActiveRecord: 18.1ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:44:15 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iBOJjVd1NA+e+hQqlU7+sSOi6kZfxfaEjZrMTVTon3HdKHv5Ez/WuH795aCmRN8bunhh6bMUhE4rVjg+HLKBAQ==", "rate"=>{"lot_id"=>"8", "value"=>"33"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 2710ms (ActiveRecord: 2.4ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:12:in `<='
app/models/rate.rb:12:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 11:53:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (36.1ms)
Completed 200 OK in 100ms (Views: 47.2ms | ActiveRecord: 18.1ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:53:27 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9uSbLvmMWy3nQRQC7z3NohrOsRvLr7HwjtmrkVu/qImj32lavca5mgdG5YjcN+wIgxQ6tCd+wzooFV/iE+W2+Q==", "rate"=>{"lot_id"=>"8", "value"=>"22"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 21278ms (ActiveRecord: 1.4ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:12:in `<='
app/models/rate.rb:12:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 11:54:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.2ms)
Completed 200 OK in 105ms (Views: 49.0ms | ActiveRecord: 18.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:54:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sGzA/q9D7Q6eEReadBy7QlAwNHbZfPTo3OfR2uKuPxjlVzKK6wkPuX4W5hBHFproyeq/2TWthiJ6KyWpqvQhaA==", "rate"=>{"lot_id"=>"8", "value"=>"70"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 24404ms (ActiveRecord: 1.2ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:12:in `<='
app/models/rate.rb:12:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:55:28 +0300
Processing by RatesController#index as HTML
  Parameters: {"lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 61ms (ActiveRecord: 7.9ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 11:55:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.4ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (39.1ms)
Completed 200 OK in 111ms (Views: 70.4ms | ActiveRecord: 10.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:55:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RP1Ha7xdnBZdH68g813dWwYf90rhk0KeCWb0a/MEof0RxrUf+Bd+ob0YXqrAV/zxn8V85Q1CMFSvqgAYu16/jQ==", "rate"=>{"lot_id"=>"8", "value"=>"1"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 28016ms (ActiveRecord: 1.4ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:12:in `<='
app/models/rate.rb:12:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:56:04 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RP1Ha7xdnBZdH68g813dWwYf90rhk0KeCWb0a/MEof0RxrUf+Bd+ob0YXqrAV/zxn8V85Q1CMFSvqgAYu16/jQ==", "rate"=>{"lot_id"=>"8", "value"=>"1"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Unpermitted parameter: :value
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 72802ms (ActiveRecord: 14.4ms)


  
ArgumentError (comparison of Integer with nil failed):
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 11:57:17 +0300
  
app/models/rate.rb:12:in `<='
app/models/rate.rb:12:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.7ms)
Completed 200 OK in 48ms (Views: 41.6ms | ActiveRecord: 2.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:57:21 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"N2oCIeN+MG1VbfBiquTkDhsxRy5SLDNvWO0FzbCEUzhiUfBVpzTS2rVqAeiZ7sWkguvMgb79QaX+IfG++N5NSA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."value" = $1 LIMIT $2[0m  [["value", 12], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 16689ms (ActiveRecord: 15.0ms)


  
ArgumentError (wrong number of arguments (given 0, expected 2)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:25:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 11:58:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (24.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (36.2ms)
Completed 200 OK in 103ms (Views: 50.5ms | ActiveRecord: 14.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:58:40 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wlSbvE5NmaxvYRZQBlkmleFPKkiF8qfQsYcEYib+hDaXb2nICgd7G49m59o1Uwc/eJWh52kj1RoXS/ARbqSaRg==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.6ms)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 11:58:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (32.6ms)
Completed 200 OK in 94ms (Views: 42.5ms | ActiveRecord: 16.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:58:59 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OxwFAKEvmF4J5fu8xSI6rffZWFGIccVLn6LEi/QP1yNuJ/d05WV66eniCjb2KBsHbgPT/mSgt4E5bjD4vFXJUw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."value" = $1 LIMIT $2[0m  [["value", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 13723ms (ActiveRecord: 3.4ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:59:28 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OxwFAKEvmF4J5fu8xSI6rffZWFGIccVLn6LEi/QP1yNuJ/d05WV66eniCjb2KBsHbgPT/mSgt4E5bjD4vFXJUw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."value" = $1 LIMIT $2[0m  [["value", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 2675ms (ActiveRecord: 14.0ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 11:59:42 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OxwFAKEvmF4J5fu8xSI6rffZWFGIccVLn6LEi/QP1yNuJ/d05WV66eniCjb2KBsHbgPT/mSgt4E5bjD4vFXJUw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."value" = $1 LIMIT $2[0m  [["value", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 2891ms (ActiveRecord: 17.7ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 13:44:25 +0300
  [1m[35m (57.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (123.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (69.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (65.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (1089.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (1441.4ms)
Completed 200 OK in 3746ms (Views: 3220.7ms | ActiveRecord: 320.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:47:36 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7zEXr7qOo9KuHRdBDVvIpgDgBJdcrV4+R803HSPN7e+6CuXb/sRBZU4a5ss+UekMmTqPOLB8LPThAcNua5fznw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."value" = $1 LIMIT $2[0m  [["value", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 91291ms (ActiveRecord: 3.0ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:50:30 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7zEXr7qOo9KuHRdBDVvIpgDgBJdcrV4+R803HSPN7e+6CuXb/sRBZU4a5ss+UekMmTqPOLB8LPThAcNua5fznw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."value" = $1 LIMIT $2[0m  [["value", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 4071ms (ActiveRecord: 17.2ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:52:16 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7zEXr7qOo9KuHRdBDVvIpgDgBJdcrV4+R803HSPN7e+6CuXb/sRBZU4a5ss+UekMmTqPOLB8LPThAcNua5fznw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."value" = $1 LIMIT $2[0m  [["value", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 6204ms (ActiveRecord: 15.5ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:53:00 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7zEXr7qOo9KuHRdBDVvIpgDgBJdcrV4+R803HSPN7e+6CuXb/sRBZU4a5ss+UekMmTqPOLB8LPThAcNua5fznw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 3241ms (ActiveRecord: 13.7ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:10:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:53:21 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7zEXr7qOo9KuHRdBDVvIpgDgBJdcrV4+R803HSPN7e+6CuXb/sRBZU4a5ss+UekMmTqPOLB8LPThAcNua5fznw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 92ms (ActiveRecord: 14.2ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:9:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:53:31 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7zEXr7qOo9KuHRdBDVvIpgDgBJdcrV4+R803HSPN7e+6CuXb/sRBZU4a5ss+UekMmTqPOLB8LPThAcNua5fznw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 90ms (ActiveRecord: 14.6ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:9:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:53:55 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7zEXr7qOo9KuHRdBDVvIpgDgBJdcrV4+R803HSPN7e+6CuXb/sRBZU4a5ss+UekMmTqPOLB8LPThAcNua5fznw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 86ms (ActiveRecord: 15.8ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:8:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 13:57:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (24.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (52.7ms)
Completed 200 OK in 126ms (Views: 64.6ms | ActiveRecord: 17.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:57:37 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jJAakDoP8xIInyTtiNYXSxFCs1Hfm/UIEwUKHVliX3zZq+jkfkURpeiY1We73DbhiJg4/jNKh8K1yf5uEThBDA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 15ms (ActiveRecord: 2.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 13:57:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.7ms)
Completed 200 OK in 47ms (Views: 38.9ms | ActiveRecord: 2.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 13:58:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (39.7ms)
Completed 200 OK in 115ms (Views: 55.3ms | ActiveRecord: 16.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 13:58:16 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"D0t6k/mpdBXz2DOxmmCDtAAQsHvOV0VU0/TVB0mLpMBacIjnveOWohPfwjupaqIemco71CKGN551OCF0AdG6sA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 143887ms (ActiveRecord: 2.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:00:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.8ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.5ms)
Completed 200 OK in 51ms (Views: 44.3ms | ActiveRecord: 2.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:11:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (14140.3ms)
  Rendered lots/show.html.slim within layouts/application (14149.7ms)
Completed 500 Internal Server Error in 14204ms (ActiveRecord: 15.4ms)


  
ActionView::Template::Error (undefined local variable or method `lot_id' for #<Class:0x007f8424112f38>):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:10:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__568855290839698488_70102759235220'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__3104935074276271252_70102759916280'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:12:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.0ms)
  Rendered lots/show.html.slim within layouts/application (17.7ms)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 13.4ms)


  
ActionView::Template::Error (You need to supply at least one validation):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:6:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__568855290839698488_70102761681380'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__3104935074276271252_70102762299420'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:12:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (16425.2ms)
  Rendered lots/show.html.slim within layouts/application (16434.2ms)
Completed 500 Internal Server Error in 16499ms (ActiveRecord: 18.0ms)


  
ActionView::Template::Error (undefined local variable or method `lot_id' for #<Class:0x007f8424ae9200>):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:11:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__568855290839698488_70102764301440'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__3104935074276271252_70102764932600'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:13:33 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7105.8ms)
  Rendered lots/show.html.slim within layouts/application (7115.6ms)
Completed 500 Internal Server Error in 7178ms (ActiveRecord: 14.8ms)


  
ActionView::Template::Error (undefined local variable or method `lot_id' for #<Class:0x007f8424c3e650>):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:11:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__568855290839698488_70102765022580'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__3104935074276271252_70102765776940'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:14:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (14349.4ms)
  Rendered lots/show.html.slim within layouts/application (14357.8ms)
Completed 500 Internal Server Error in 14440ms (ActiveRecord: 13.1ms)


  
ActionView::Template::Error (undefined local variable or method `rate' for #<Class:0x007f8424b7efa8>):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:10:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__568855290839698488_70102764547980'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__3104935074276271252_70102765235760'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:15:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (24.3ms)
  Rendered lots/show.html.slim within layouts/application (33.9ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 16.6ms)


  
ActionView::Template::Error (undefined method `lot_id' for #<Class:0x007f843000db18>):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/models/rate.rb:10:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__568855290839698488_70102828452560'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__3104935074276271252_70102836875120'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:16:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (90326.6ms)
  Rendered lots/show.html.slim within layouts/application (90334.4ms)
Completed 500 Internal Server Error in 90392ms (ActiveRecord: 15.5ms)


  
ActionView::Template::Error (undefined method `lot_id' for #<Class:0x007f8420040668>):
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:18:18 +0300
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
Processing by LotsController#show as HTML
  
  Parameters: {"id"=>"8"}
app/models/rate.rb:10:in `<class:Rate>'
app/models/rate.rb:1:in `<top (required)>'
app/controllers/lots_controller.rb:6:in `block in <class:LotsController>'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__568855290839698488_70102758354240'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__3104935074276271252_70102759308660'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (148.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (173.4ms)
Completed 200 OK in 387ms (Views: 182.5ms | ActiveRecord: 20.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:18:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (11.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (26.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (39.3ms)
Completed 200 OK in 131ms (Views: 59.0ms | ActiveRecord: 28.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:18:25 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JjAb0xyYikskB+enAj0HuLNij3FSZRU2DgXeLoKqp/RzC+mnWNJo/MQAFi0xNyYSKrgE3r60Z/yoySpdyvC5hA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.4ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/rate.rb:8:in `check_entered_rate'
app/controllers/rates_controller.rb:24:in `create'
Started GET "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:20:37 +0300
Processing by RatesController#index as HTML
  Parameters: {"lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 61ms (ActiveRecord: 8.0ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:27:56 +0300
Processing by RatesController#index as HTML
  Parameters: {"lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 54ms (ActiveRecord: 0.5ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 14:28:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.1ms)
Completed 200 OK in 90ms (Views: 44.7ms | ActiveRecord: 11.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:28:20 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mJUbztKjhcoIhhoBp+x/6Juj2wZD6lM+TigrOmnx/n7Nrum6lulnfeiB64uU5l5CAnlQqa87IfTo5N9JIavgDg==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.5ms)


  
NoMethodError (undefined method `check_entered_rate' for #<Rate:0x007f842438b120>):
  
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 14:28:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (19.2ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (42.8ms)
Completed 200 OK in 109ms (Views: 55.2ms | ActiveRecord: 13.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:28:47 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8XwHMcmWGxqX1YjxEjjNOtPOJWZ+TOROe/HUw1E7fWWkR/VFjdz5rXfSeXshMuyQShSuyZKdloTdPSCwGWFjFQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.3ms)


  
NoMethodError (undefined method `self' for #<Rate:0x007f841c43ffb0>
Did you mean?  itself):
  
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 14:28:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.7ms)
Completed 200 OK in 98ms (Views: 47.5ms | ActiveRecord: 13.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:29:04 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Hxl0OY9Ly2OhGLAaMG1IcIf8A46Max4qO56br28iPnpKIoZNywEp1EEfQZADZ2naHiaIIWC6bOCdUm/cJ3ggCg==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (32.9ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 12], ["created_at", "2017-12-05 11:29:04.846025"], ["updated_at", "2017-12-05 11:29:04.846025"]]
  [1m[35m (29.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 78ms (ActiveRecord: 65.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:29:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.1ms)
Completed 200 OK in 41ms (Views: 35.4ms | ActiveRecord: 1.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:29:11 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A1xMfLasuxKjTghkjTLF/cGE5lQgBBAp2tkO83RZWWFWZ74I8uZZpUNJ+e6+OORXWF5t+8zVYuN8FfqAPANHEQ==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 12], ["created_at", "2017-12-05 11:29:11.694004"], ["updated_at", "2017-12-05 11:29:11.694004"]]
  [1m[35m (44.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 57ms (ActiveRecord: 47.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:29:11 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.1ms)
Completed 200 OK in 44ms (Views: 35.5ms | ActiveRecord: 3.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:29:46 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"R+b8p0LmINoTDNyIDXIwj7wPWYwtNEb/SBovLUdQG5sS3Q7TBqzCbfMLLQI+eBElJdXSI8HlNDXu1tteDwoF6w==", "rate"=>{"lot_id"=>"8", "value"=>"1111"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 1111], ["created_at", "2017-12-05 11:29:46.698916"], ["updated_at", "2017-12-05 11:29:46.698916"]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 33ms (ActiveRecord: 23.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:29:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.4ms)
Completed 200 OK in 47ms (Views: 37.6ms | ActiveRecord: 3.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:30:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BeW25uGsh1d3xsA32nFvmxEjW49c7+QYlGH27b4StOhQ3kSSpeZl4JfBMb3pe04xiPnQILA+ltIyrQKe9kiqmA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 12], ["created_at", "2017-12-05 11:30:33.980188"], ["updated_at", "2017-12-05 11:30:33.980188"]]
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 56ms (ActiveRecord: 44.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:30:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.2ms)
Completed 200 OK in 62ms (Views: 53.7ms | ActiveRecord: 2.6ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:34:41 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"T8ccApcGL5IH212xGjP8e86bimxkOquFnO8LdTnA2DUa/O5200zNJefcrDspOd3RV0EBw4jr2U86I/8GcZrGRQ==", "rate"=>{"lot_id"=>"8", "value"=>"0"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 0], ["created_at", "2017-12-05 11:36:21.807403"], ["updated_at", "2017-12-05 11:36:21.807403"]]
  [1m[35m (60.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 100205ms (ActiveRecord: 65.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:36:21 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (18.8ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (30.0ms)
Completed 200 OK in 91ms (Views: 47.2ms | ActiveRecord: 2.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:36:32 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jTXMofgLOuCURRnmbGQciUJ69+NWzWl1mHxKiPZfOMPYDj7VvEHYV3RC6Gxfbj0j26B8TLocG78+sL77vgUmsw==", "rate"=>{"lot_id"=>"8", "value"=>"1"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 1], ["created_at", "2017-12-05 11:36:49.030779"], ["updated_at", "2017-12-05 11:36:49.030779"]]
  [1m[35m (68.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 16893ms (ActiveRecord: 72.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:36:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.3ms)
Completed 200 OK in 43ms (Views: 35.3ms | ActiveRecord: 2.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:37:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-05 14:37:31 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (3.0ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 73ms (Views: 69.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-05 14:37:42 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"17I82CLvxGMh+baSkpYlG4S25JAgE59Rr7Yex5TL4c7+4PQrwnH8eKO8g6IHyxNUVOhtKsKO7vm862T0SJPJ2w==", "user"=>{"email"=>"user1@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@mail.ru"], ["LIMIT", 1]]
Completed 401 Unauthorized in 548ms (ActiveRecord: 1.8ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"17I82CLvxGMh+baSkpYlG4S25JAgE59Rr7Yex5TL4c7+4PQrwnH8eKO8g6IHyxNUVOhtKsKO7vm862T0SJPJ2w==", "user"=>{"email"=>"user1@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.2ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 265ms (Views: 24.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-05 14:37:50 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KOUCtxntHmGd8vc1wUhZlXiXnQSvl/PB2m9xGMI+f7oBt8pE+XMmeh+3wgVUFW/aqMkUvk0KgmnJMgsrHmZXrw==", "user"=>{"email"=>"user1@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-12-05 11:37:50.318994"], ["last_sign_in_at", "2017-12-04 18:33:31.974931"], ["sign_in_count", 3], ["updated_at", "2017-12-05 11:37:50.320032"], ["id", 3]]
  [1m[35m (19.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 277ms (ActiveRecord: 21.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:37:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.8ms)
Completed 200 OK in 46ms (Views: 41.1ms | ActiveRecord: 1.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:37:56 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CS4d8aUIGg/3LWM5osfcnVdZ1cquYut1Rgp4q5rv/4klz06ar3m6idevUEMfWXRZAVxyyrtIMslEvZItuck+4g==", "rate"=>{"lot_id"=>"8", "value"=>"23"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["lot_id", 8], ["value", 23], ["created_at", "2017-12-05 11:38:03.082078"], ["updated_at", "2017-12-05 11:38:03.082078"]]
  [1m[35m (66.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 6192ms (ActiveRecord: 71.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:38:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 3)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.0ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.9ms)
Completed 200 OK in 48ms (Views: 40.9ms | ActiveRecord: 2.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:42:58 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6trLj+Lvpkle+7TkPy+Ha1Wpb219lnTiR0dd8NWx1wu/4Tn7pqVE/r78RW4MJabBzHPkwpFHBijhi6mDnevJew==", "rate"=>{"lot_id"=>"8", "value"=>"13"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 13], ["created_at", "2017-12-05 11:42:59.020725"], ["updated_at", "2017-12-05 11:42:59.020725"]]
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 94ms (ActiveRecord: 35.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:42:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.2ms)
Completed 200 OK in 52ms (Views: 43.8ms | ActiveRecord: 2.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:43:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.1ms)
  [1m[36mRate Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (43.8ms)
Completed 200 OK in 121ms (Views: 57.4ms | ActiveRecord: 19.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:43:27 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AOYr2ZeBy4yf744LVpt2sRmMZEflL6YDaHHCrLv6BPVV3dmt08spO3/of4FlkVcbgFbv6An+1MnOvTbf86AahQ==", "rate"=>{"lot_id"=>"8", "value"=>"14"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (3.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 14], ["created_at", "2017-12-05 11:45:17.379138"], ["updated_at", "2017-12-05 11:45:17.379138"]]
  [1m[35m (70.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 110051ms (ActiveRecord: 75.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:45:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (25.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (37.9ms)
Completed 200 OK in 124ms (Views: 50.7ms | ActiveRecord: 14.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:45:37 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XSgkAQISm3ViTAhJUwC0xUvm6QdzU/BRNkmQVPlqNGUIE9Z1Rlh5woJL+cNgCpVv0jxiqJ+CgpuQhWQnsTAqFQ==", "rate"=>{"lot_id"=>"8", "value"=>"15"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 15], ["created_at", "2017-12-05 11:46:29.152122"], ["updated_at", "2017-12-05 11:46:29.152122"]]
  [1m[35m (66.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 52192ms (ActiveRecord: 70.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:46:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.4ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.4ms)
Completed 200 OK in 51ms (Views: 41.4ms | ActiveRecord: 4.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:52:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (15.4ms)
  [1m[36mRate Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.7ms)
Completed 200 OK in 83ms (Views: 45.6ms | ActiveRecord: 3.1ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:52:45 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MhXKXJ8JHTOCbbrtg8kYXomNG1jqY210rw5oOXkdI11nLjgo20P/hGJqS2ewwzn0EFeQ9wayH74JwpxKMUc9LQ==", "rate"=>{"lot_id"=>"8", "value"=>"16"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 16], ["created_at", "2017-12-05 11:52:45.414070"], ["updated_at", "2017-12-05 11:52:45.414070"]]
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 56ms (ActiveRecord: 43.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:52:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.6ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.9ms)
Completed 200 OK in 47ms (Views: 38.9ms | ActiveRecord: 2.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 14:53:34 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mKEHEmryEDqZPthcsfjwnLtV2V6PvVEVSS1MVJp1/FHNmvVmLrjyjXk5KdaC8tE2Io9S8WNsI9/v4bgn0i/iIQ==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 103ms (ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 14:53:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.6ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (26.0ms)
Completed 200 OK in 53ms (Views: 44.0ms | ActiveRecord: 2.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:00:31 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4q+SX/xlLpcPH/X81SbqSWvfjxXKBQN5cQGmjrMTrtG3lGAruC/MIO8YBHbmLMvj8gUEuibUcbPXzVL9+0mwoQ==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 71ms (ActiveRecord: 16.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:00:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.8ms)
Completed 200 OK in 45ms (Views: 37.2ms | ActiveRecord: 2.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:03:11 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (25.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (38.2ms)
Completed 200 OK in 128ms (Views: 70.7ms | ActiveRecord: 16.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:03:17 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gzBN7zuQXbAEY4dXFLqo1vGGdhUkvVJlszmPFLsLeQnWC7+bf9q/B+Rkdt0nsIl8aFz9ushsIK8V9Xtn81FneQ==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:03:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.2ms)
  [1m[36mRate Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.5ms)
Completed 200 OK in 46ms (Views: 38.9ms | ActiveRecord: 3.1ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:03:49 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GaYZz4LGIjlqfRJDF3wOcSglX5Cu9zRmZrWjCkkRdxpMneu7xozAjop648kkdi/bsf/UP0ImRqzAeVd5AUtpag==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 75ms (ActiveRecord: 1.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:03:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.4ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.0ms)
Completed 200 OK in 57ms (Views: 46.0ms | ActiveRecord: 3.6ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:04:05 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rjNaz6Xtez2QjjPiLBisxmIK0LpaTs86AaagRYAnAN77CKi74aeZinCJwmgfEo1s+9BbFbafvfCnalQ2yH0erg==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 108ms (ActiveRecord: 15.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:04:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (24.0ms)
Completed 200 OK in 67ms (Views: 59.9ms | ActiveRecord: 2.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:04:16 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Z9aYEeKCu0wMqAyaAIyzRNu0fK1wZf3cqzEHrGnAOOwy7WplpshZ++yv/RAzhpLuQm73Apy0jxYN/fPfIZomnA==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
No template found for RatesController#create, rendering head :no_content
Completed 204 No Content in 40ms (ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:05:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.6ms)
Completed 200 OK in 96ms (Views: 54.4ms | ActiveRecord: 2.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:05:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5UyUtxbARozp0Qk+e0DxBTOzdKqzDZRAyDZZbu4CPHWwd2bDUoqkOwnW+LRIStCvqmn/BV/c5opu+q0dplgiBQ==", "rate"=>{"lot_id"=>"8", "value"=>"1112"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 1112], ["created_at", "2017-12-05 12:05:12.375133"], ["updated_at", "2017-12-05 12:05:12.375133"]]
  [1m[35m (53.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 69ms (ActiveRecord: 55.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:05:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (40.2ms)
Completed 200 OK in 79ms (Views: 69.4ms | ActiveRecord: 2.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:11:00 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kHh77ScEzuGNekNG1ivmi0sT8lhEJijdlC9oKU68FNLFQ4mZY04sVm19sszlIcch0sl596j3Whcy45xaBuYKog==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 76ms (ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:11:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (13.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (32.9ms)
Completed 200 OK in 85ms (Views: 77.5ms | ActiveRecord: 2.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:11:28 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jpW1HfaKLBwsKOB1ROWiuRymydUGrlFMOQ4ekuy0MkPbrkdpssDOq8wvEf9374MThXxCeup/I4afwurhpO4sMw==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 74ms (ActiveRecord: 17.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:11:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.2ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.5ms)
Completed 200 OK in 47ms (Views: 39.8ms | ActiveRecord: 2.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:12:19 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.3ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (36.1ms)
Completed 200 OK in 111ms (Views: 54.4ms | ActiveRecord: 14.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:12:22 +0300
  
SyntaxError (/home/pavlov/fs/auction/app/controllers/rates_controller.rb:23: syntax error, unexpected ')'
value(0,0) <= @rate.value && )
                              ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:26: syntax error, unexpected keyword_else, expecting ')'
    else
        ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:28: syntax error, unexpected keyword_end, expecting ')'
    end
       ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:30: syntax error, unexpected keyword_end, expecting ')'
  end
     ^
/home/pavlov/fs/auction/app/controllers/rates_controller.rb:48: syntax error, unexpected keyword_end, expecting ')'):
  
app/controllers/rates_controller.rb:23: syntax error, unexpected ')'
app/controllers/rates_controller.rb:26: syntax error, unexpected keyword_else, expecting ')'
app/controllers/rates_controller.rb:28: syntax error, unexpected keyword_end, expecting ')'
app/controllers/rates_controller.rb:30: syntax error, unexpected keyword_end, expecting ')'
app/controllers/rates_controller.rb:48: syntax error, unexpected keyword_end, expecting ')'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-05 15:12:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (29.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (42.9ms)
Completed 200 OK in 98ms (Views: 59.5ms | ActiveRecord: 2.3ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:12:52 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uUM67qQoDIwwY54zpopGbkH2tTbfa6/k6EeHYT2B7YzseMia4GLuO9Bkb7mVgGfE2Cw+mTO63S5Oi3MSddvz/A==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:12:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.4ms)
Completed 200 OK in 48ms (Views: 39.8ms | ActiveRecord: 2.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:14:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (16.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.3ms)
Completed 200 OK in 81ms (Views: 45.7ms | ActiveRecord: 2.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:14:16 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Of5Jwc+wpi7zHN0ZN+XZwasQLJWOIvrCA+LvZhyXDfRsxbu1i/pEmRMbLJME7/hrMsqnOmLziAilLhsVVM0ThA==", "rate"=>{"lot_id"=>"8", "value"=>"17"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:14:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.9ms)
Completed 200 OK in 42ms (Views: 35.0ms | ActiveRecord: 3.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:14:24 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zHVotlrXhRp+8wtvYwptZ8+8wxnOLoFP2mtb6YL3EhCZTprCHp1nrZ70+uVQAEzNVmZItiL/84V8p6+ayq0MYA==", "rate"=>{"lot_id"=>"8", "value"=>"1113"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 1113], ["created_at", "2017-12-05 12:14:24.988083"], ["updated_at", "2017-12-05 12:14:24.988083"]]
  [1m[35m (42.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 55ms (ActiveRecord: 44.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:14:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.5ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.5ms)
Completed 200 OK in 46ms (Views: 37.9ms | ActiveRecord: 2.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:14:58 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ALNmkA2vuT0yFqSy+FnX6auBLoSHWq1LosNq5ltA6qBViJTkSeVbitIRVTjLU/ZDMlulK2uL34EED56VExr00A==", "rate"=>{"lot_id"=>"8", "value"=>"1114"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 1114], ["created_at", "2017-12-05 12:14:58.355501"], ["updated_at", "2017-12-05 12:14:58.355501"]]
  [1m[35m (51.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 109ms (ActiveRecord: 53.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:14:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.0ms)
Completed 200 OK in 45ms (Views: 38.2ms | ActiveRecord: 2.1ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:16:04 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dpYgjOQ11B0X7Rn3HMB/r4OojxPVQVLV4QOBN/kMAakjrdL4oH82qvfq6H0vyl4FGnIEvDmQIB9Hz3VEsVYf2Q==", "rate"=>{"lot_id"=>"8", "value"=>"1115"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 1115], ["created_at", "2017-12-05 12:16:04.922146"], ["updated_at", "2017-12-05 12:16:04.922146"]]
  [1m[35m (49.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 121ms (ActiveRecord: 63.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:16:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.8ms)
Completed 200 OK in 43ms (Views: 35.7ms | ActiveRecord: 2.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:16:16 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/iY4Iv12D/WauOkXLbb+2j5FfmDcNQs+90cr4V3CK6GrHcpWuTztQnq/GJ0evN9wp5/1zzDkefRRi9+SFZg10Q==", "rate"=>{"lot_id"=>"8", "value"=>"116"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 68ms (ActiveRecord: 14.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:16:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.9ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (38.5ms)
Completed 200 OK in 65ms (Views: 56.8ms | ActiveRecord: 2.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:16:22 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0lIwOjdQ3+21rainNWUqhiNVX1p6tbPQx/YadVAdGXmHacJOcxo9WlWqWS0Gbwssuo/U9ZZkwRphOu4GGEcHCQ==", "rate"=>{"lot_id"=>"8", "value"=>"1116"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:16:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.5ms)
Completed 200 OK in 41ms (Views: 34.0ms | ActiveRecord: 2.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:16:35 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MgdnWqeFKsusldQMh71mpl8Eb2nor5+pkVBlDvWeVLVnPJUu48/IfEySJYa0t0cMxt7kxgR+7WM3nJF9vcRKxQ==", "rate"=>{"lot_id"=>"8", "value"=>"12000"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 12000], ["created_at", "2017-12-05 12:16:35.239687"], ["updated_at", "2017-12-05 12:16:35.239687"]]
  [1m[35m (41.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 55ms (ActiveRecord: 44.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:16:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.6ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.7ms)
Completed 200 OK in 51ms (Views: 44.0ms | ActiveRecord: 2.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 15:16:39 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PIw/O8msij99ZbcGG2wuy+tBH33nIczyarp/miZY7jtpt81PjeZoiJ1iRowoZg9hcpuU0gvwvjjMdovpbgLwSw==", "rate"=>{"lot_id"=>"8", "value"=>"12000"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 15:16:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.0ms)
Completed 200 OK in 41ms (Views: 35.5ms | ActiveRecord: 2.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:24:19 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hK9YHG3e0CuaIODgwroH2SiZ0qZ/1Mxl/1hn/Lsnq/TRlKpoKZQynHonEWrxsCZzsUNZCZMFvq9ZlJOP8321hA==", "rate"=>{"lot_id"=>"8", "value"=>"1224"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 143ms (ActiveRecord: 16.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:24:19 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 198ms (ActiveRecord: 1.2ms)


  
NameError (undefined local variable or method `condition' for #<LotsController:0x007efd208358a0>):
  
app/controllers/lots_controller.rb:73:in `check_ended_lot'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:24:48 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uUM67qQoDIwwY54zpopGbkH2tTbfa6/k6EeHYT2B7YzseMia4GLuO9Bkb7mVgGfE2Cw+mTO63S5Oi3MSddvz/A==", "rate"=>{"lot_id"=>"8", "value"=>"1121"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 85ms (ActiveRecord: 13.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:24:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (142.0ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (279.3ms)
Completed 200 OK in 531ms (Views: 522.2ms | ActiveRecord: 3.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:25:09 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PLYd8l1VodNP2LS+1Uy4jngkY5iYUJ73bNXeayuHOUppje+GGR9DZK/fRTTmRpkk4f7oN3SB7D3KGSoYY90nOg==", "rate"=>{"lot_id"=>"8", "value"=>"12001"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 12001], ["created_at", "2017-12-05 13:25:09.664933"], ["updated_at", "2017-12-05 13:25:09.664933"]]
  [1m[35m (47.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 65ms (ActiveRecord: 50.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:25:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.8ms)
Completed 200 OK in 46ms (Views: 37.3ms | ActiveRecord: 3.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:41:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (26.1ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (45.8ms)
Completed 200 OK in 123ms (Views: 63.6ms | ActiveRecord: 16.4ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:42:01 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EPc4Mr8J5mN5e2mGl3O0fefXUGhDqFtY7kgMtZUQPg9FzMpG+0ME1Jl8mAykeZXXfg3bx695KZJIhPjG3Uogfw==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 30ms (ActiveRecord: 3.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:42:01 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (32.2ms)
Completed 200 OK in 70ms (Views: 61.3ms | ActiveRecord: 3.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:42:42 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0NJoVg+RUsJj9ru9RXv0brh0yqMz19Gv7TOEPpm65amF6ZoiS9uwdYPxSjd2cdXEIa5BDN8Go2VL/3BN0eD72Q==", "rate"=>{"lot_id"=>"8", "value"=>"13000"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:42:42 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (32.8ms)
Completed 200 OK in 73ms (Views: 63.7ms | ActiveRecord: 2.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:43:13 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (38.8ms)
Completed 200 OK in 115ms (Views: 54.2ms | ActiveRecord: 18.2ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:43:19 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"l6JDifW8UfFs6qDSFDf7aUOUZJBMS7tK1EZRcZtip0nCmbH9sfazRoztUVgnPdrD2k7vP6CayYByiqUC0zi5OQ==", "rate"=>{"lot_id"=>"8", "value"=>"18"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 89423ms (ActiveRecord: 9.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:44:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.5ms)
Completed 200 OK in 58ms (Views: 45.6ms | ActiveRecord: 2.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:44:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (25.2ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (45.2ms)
Completed 200 OK in 118ms (Views: 59.7ms | ActiveRecord: 16.8ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:45:00 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Xxro+euUbmmGwvNF0F6HLmWm5ok4q7v8YLmG4D8lCEgKIRqNr96M3mbFAs/jVKaE/HxtJtR6yTbGdXKTd38WOA==", "rate"=>{"lot_id"=>"8", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 27ms (ActiveRecord: 3.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:45:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (2.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.1ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.9ms)
Completed 200 OK in 46ms (Views: 36.2ms | ActiveRecord: 4.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:45:15 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"penEGkcPjFmG4Hb4vv3BthwL0Sj/mSYPBUNL7HJtVUnw0jZuA0Vu7mbnh3KN9+AchdFahxNIVMWjj7+fOjdLOQ==", "rate"=>{"lot_id"=>"8", "value"=>"13000"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 13000], ["created_at", "2017-12-05 13:45:15.866752"], ["updated_at", "2017-12-05 13:45:15.866752"]]
  [1m[35m (54.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 65ms (ActiveRecord: 56.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:45:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.3ms)
Completed 200 OK in 44ms (Views: 38.8ms | ActiveRecord: 1.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:46:41 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Bta+R2UOas9J6e+jp9hk12LBw0Z3Izs1a2J8nhsJJ9pT7UwzIUSIeKnuHimU0kV9+xtI6ZvySf/NrojtU1M5qg==", "rate"=>{"lot_id"=>"8", "value"=>"18"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 13ms (ActiveRecord: 4.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:46:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.6ms)
Completed 200 OK in 118ms (Views: 55.0ms | ActiveRecord: 5.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:47:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (23.6ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (37.3ms)
Completed 200 OK in 124ms (Views: 51.8ms | ActiveRecord: 14.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:47:58 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"t9KIXTw+idMGvo9HxJ6ewaAMiXlabE4yiWgD9TE6P8Li6XopeHRrZOa5fs33lL9rOdYC1ra9PPgvpPeGeWAhsg==", "rate"=>{"lot_id"=>"8", "value"=>"13001"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 13001], ["created_at", "2017-12-05 13:47:58.362906"], ["updated_at", "2017-12-05 13:47:58.362906"]]
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 81ms (ActiveRecord: 49.3ms)


  
ActionView::MissingTemplate (Missing partial lots/_lot with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :slim, :coffee, :jbuilder]}. Searched in:
  * "/home/pavlov/fs/auction/app/views"
  * "/home/pavlov/fs/auction/.bundle/ruby/2.4.0/gems/devise-4.3.0/app/views"
):
  
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:49:11 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"t9KIXTw+idMGvo9HxJ6ewaAMiXlabE4yiWgD9TE6P8Li6XopeHRrZOa5fs33lL9rOdYC1ra9PPgvpPeGeWAhsg==", "rate"=>{"lot_id"=>"8", "value"=>"13001"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 75ms (ActiveRecord: 16.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:49:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (28.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (26608.9ms)
Completed 200 OK in 26638ms (Views: 26631.1ms | ActiveRecord: 2.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:51:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (34.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (3515.6ms)
Completed 200 OK in 3656ms (Views: 3555.5ms | ActiveRecord: 14.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:51:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0Xz4YoQT0A+tMibwS7ylhLpHC8vV4tRxL8BqG6yzuXWERwoWwFkyuE0113p4toQuI52AZDkzpruJDJ5o5OmnBQ==", "rate"=>{"lot_id"=>"8", "value"=>"13001"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (11.5ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"lots", :lot_id=>"8"}, missing required keys: [:id]):
    20: 
    21: = link_to 'Edit', edit_lot_path(@lot)
    22: |  | 
    23: = link_to 'Destroy', lot_path, method: :delete, data: { confirm: 'Are you sure?' }
    24: |  | 
    25: = link_to 'Back', lots_path
    26: - byebug
  
app/views/lots/show.html.slim:23:in `_app_views_lots_show_html_slim__1496190270004774862_69812948751060'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-05 16:54:30 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (35.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (3695.7ms)
Completed 200 OK in 3780ms (Views: 3723.9ms | ActiveRecord: 14.5ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:54:40 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FdYixsWebfnflQ23+fJgX3e/ybjiqy5Azrbs62ErE4pA7dCygdSPTj+S/D3K+EH17mVCFw56XIpoehiYKXEN+g==", "rate"=>{"lot_id"=>"8", "value"=>"13002"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 13002], ["created_at", "2017-12-05 13:54:40.970745"], ["updated_at", "2017-12-05 13:54:40.970745"]]
  [1m[35m (38.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (15.5ms)
Completed 500 Internal Server Error in 76ms (ActiveRecord: 41.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"lots", :lot_id=>"8"}, missing required keys: [:id]):
    20: 
    21: = link_to 'Edit', edit_lot_path(@lot)
    22: |  | 
    23: = link_to 'Destroy', lot_path, method: :delete, data: { confirm: 'Are you sure?' }
    24: |  | 
    25: = link_to 'Back', lots_path
    26: - byebug
  
app/views/lots/show.html.slim:23:in `_app_views_lots_show_html_slim__1496190270004774862_69812949310540'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-05 16:56:03 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FdYixsWebfnflQ23+fJgX3e/ybjiqy5Azrbs62ErE4pA7dCygdSPTj+S/D3K+EH17mVCFw56XIpoehiYKXEN+g==", "rate"=>{"lot_id"=>"8", "value"=>"13002"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (371.2ms)
  Rendered lots/show.html.slim within layouts/application (380.3ms)
Completed 500 Internal Server Error in 395ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007efd3016f4e8>:0x007efd197d4840>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__2397991070248921145_69812754748700'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__1496190270004774862_69812759694020'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-07 15:19:29 +0300
  [1m[35m (46.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (61.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (24.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (48.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (170.0ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (235.8ms)
Completed 200 OK in 1032ms (Views: 736.4ms | ActiveRecord: 193.7ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-07 15:19:45 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zLeOsVcJjOhTsSJEKYFnywbYMC9M6p8Gt3JE2av8njqZjHzFE0NuX7O2084ai0ZhnwK7gKA77cwRvrCq46aASg==", "rate"=>{"lot_id"=>"8", "value"=>"13003"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35mSQL (30.2ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 13003], ["created_at", "2017-12-07 12:19:46.008910"], ["updated_at", "2017-12-07 12:19:46.008910"]]
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (300.6ms)
  Rendered lots/show.html.slim within layouts/application (308.5ms)
Completed 500 Internal Server Error in 402ms (ActiveRecord: 62.6ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f6549a6afa8>:0x007f6549a69298>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___3459330726153621147_70036502381320'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim__4458643731075125365_70036488296380'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-07 15:26:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.3ms)
Completed 200 OK in 46ms (Views: 38.2ms | ActiveRecord: 2.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-07 15:26:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (27.4ms)
Completed 200 OK in 68ms (Views: 56.3ms | ActiveRecord: 4.0ms)


Started GET "/user/2" for 127.0.0.1 at 2017-12-07 16:25:06 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/user/2"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/2" for 127.0.0.1 at 2017-12-07 16:25:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/2"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users" for 127.0.0.1 at 2017-12-07 16:25:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-12-07 16:25:40 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (44.2ms)
Completed 200 OK in 308ms (Views: 214.3ms | ActiveRecord: 10.8ms)


Started GET "/my_lots" for 127.0.0.1 at 2017-12-07 16:25:44 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (15.6ms)
Completed 200 OK in 52ms (Views: 33.2ms | ActiveRecord: 1.2ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-12-07 16:25:49 +0300
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application (226.6ms)
Completed 200 OK in 271ms (Views: 266.7ms | ActiveRecord: 0.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-07 16:36:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (30.0ms)
  [1m[36mRate Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (44.9ms)
Completed 200 OK in 148ms (Views: 86.9ms | ActiveRecord: 18.1ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-10 16:56:58 +0300
  [1m[35m (46.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (61.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (39.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (96.2ms)
Completed 200 OK in 605ms (Views: 365.3ms | ActiveRecord: 155.7ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-12-10 16:57:14 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"s8HuE9x4nu6NdVnOYHsXkRMZ8PPjq86EAH0s+6wQQ87m+hxnmDJ8WW1yqERTcTY7isN7XA96vE6msdiI5Epdvg=="}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 96ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-12-10 16:57:14 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-10 16:57:14 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.7ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (29.2ms)
Completed 200 OK in 75ms (Views: 73.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2017-12-10 16:57:17 +0300
Processing by Devise::RegistrationsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.0ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (7.6ms)
Completed 200 OK in 33ms (Views: 30.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2017-12-10 16:57:32 +0300
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dz5H3KKPza+LTwjEtiAKooJxMCEprgQFdlxdgie/1dkiYHDXYinoCQfgItV8b8IJ4LIa3I6m/ALkt5hJOVcyCg==", "user"=>{"email"=>"pavlov_egor007@mail.ru", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pavlov_egor007@mail.ru"], ["LIMIT", 1]]
  [1m[35mSQL (27.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "pavlov_egor007@mail.ru"], ["encrypted_password", "$2a$11$zqz2b6vno2ZPjdUQWwj61.wjYJhAJ5./eZhqidsR4z3aFNWh/5ltO"], ["created_at", "2017-12-10 13:57:32.792003"], ["updated_at", "2017-12-10 13:57:32.792003"]]
  [1m[35m (33.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-12-10 13:57:32.855976"], ["last_sign_in_at", "2017-12-10 13:57:32.855976"], ["current_sign_in_ip", "127.0.0.1/32"], ["last_sign_in_ip", "127.0.0.1/32"], ["updated_at", "2017-12-10 13:57:32.857394"], ["id", 4]]
  [1m[35m (3.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 415ms (ActiveRecord: 65.9ms)


Started GET "/" for 127.0.0.1 at 2017-12-10 16:57:32 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.7ms)
Completed 200 OK in 38ms (Views: 33.5ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-12-11 12:01:26 +0300
  [1m[35m (46.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (62.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (34.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (89.2ms)
Completed 200 OK in 657ms (Views: 432.4ms | ActiveRecord: 154.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2017-12-11 12:01:31 +0300
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/registrations/edit.html.erb within layouts/application (292.1ms)
Completed 200 OK in 342ms (Views: 338.5ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2017-12-11 13:33:02 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (27.3ms)
Completed 200 OK in 124ms (Views: 91.8ms | ActiveRecord: 9.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:33:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (46.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (139.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (198.3ms)
Completed 200 OK in 345ms (Views: 225.7ms | ActiveRecord: 55.3ms)


  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:40:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.7ms)
Completed 200 OK in 102ms (Views: 49.3ms | ActiveRecord: 14.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:40:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.6ms)
Completed 200 OK in 42ms (Views: 35.0ms | ActiveRecord: 2.6ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:40:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (48.5ms)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 3.5ms)


  
ActionView::Template::Error (wrong number of arguments (given 0, expected 2)):
    32:   = @result_user.getvalue(0,0)
    33: 
    34: h2 History rates:
    35: = @history_rates.getvalue
    36:   
  
app/views/lots/show.html.slim:35:in `getvalue'
app/views/lots/show.html.slim:35:in `_app_views_lots_show_html_slim__713909745935048598_70076027905360'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:40:42 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.7ms)
Completed 200 OK in 42ms (Views: 34.8ms | ActiveRecord: 2.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:40:57 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.1ms)
Completed 200 OK in 44ms (Views: 36.9ms | ActiveRecord: 2.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:41:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.5ms)
Completed 200 OK in 45ms (Views: 36.8ms | ActiveRecord: 3.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:41:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.7ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (invalid field number 10):
    32:   = @result_user.getvalue(0,0)
    33: 
    34: h2 History rates:
    35: = @history_rates.getvalue(0,10)
    36:   
  
app/views/lots/show.html.slim:35:in `getvalue'
app/views/lots/show.html.slim:35:in `_app_views_lots_show_html_slim__713909745935048598_47372288497780'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:41:43 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.5ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (invalid field number 9):
    32:   = @result_user.getvalue(0,0)
    33: 
    34: h2 History rates:
    35: = @history_rates.getvalue(0,9)
    36:   
  
app/views/lots/show.html.slim:35:in `getvalue'
app/views/lots/show.html.slim:35:in `_app_views_lots_show_html_slim__713909745935048598_70076250427460'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:41:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.7ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 3.4ms)


  
ActionView::Template::Error (invalid field number 3):
    32:   = @result_user.getvalue(0,0)
    33: 
    34: h2 History rates:
    35: = @history_rates.getvalue(0,3)
    36:   
  
app/views/lots/show.html.slim:35:in `getvalue'
app/views/lots/show.html.slim:35:in `_app_views_lots_show_html_slim__713909745935048598_70075985328320'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:41:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.4ms)
Completed 200 OK in 44ms (Views: 38.1ms | ActiveRecord: 2.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:42:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.5ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.1ms)
Completed 200 OK in 55ms (Views: 48.7ms | ActiveRecord: 2.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:47:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (6.5ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 2.4ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
; end; else; 
           ^):
  
app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:47:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.2ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.3ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
; end; else; 
           ^):
  
app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:48:18 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.6ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.8ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
; end; else; 
           ^):
  
app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:49:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (8.2ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.3ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:39: syntax error, unexpected keyword_else, expecting keyword_end
; end; else; 
           ^):
  
app/views/lots/show.html.slim:39: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:51:18 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (8.1ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.3ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
; end; else; 
           ^):
  
app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:51:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.7ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 1.8ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
; else; 
      ^):
  
app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:52:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.1ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.2ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
; end; else; 
           ^):
  
app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:57:14 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (8.4ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.7ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:42: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
                ^
/home/pavlov/fs/auction/app/views/lots/show.html.slim:44: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/lots/show.html.slim:42: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/lots/show.html.slim:44: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:57:21 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.5ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.0ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:39: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
                ^
/home/pavlov/fs/auction/app/views/lots/show.html.slim:41: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/lots/show.html.slim:39: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/lots/show.html.slim:41: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:57:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (8.6ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.2ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
; end; else; 
           ^):
  
app/views/lots/show.html.slim:38: syntax error, unexpected keyword_else, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:57:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.0ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.9ms)


  
SyntaxError (/home/pavlov/fs/auction/app/views/lots/show.html.slim:39: syntax error, unexpected keyword_ensure, expecting keyword_end
          ensure
                ^
/home/pavlov/fs/auction/app/views/lots/show.html.slim:41: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/lots/show.html.slim:39: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/lots/show.html.slim:41: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:58:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (84.6ms)
Completed 200 OK in 110ms (Views: 102.2ms | ActiveRecord: 3.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 13:59:13 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT rates.value, rates.user_id, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (33.2ms)
Completed 200 OK in 59ms (Views: 50.3ms | ActiveRecord: 3.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 14:00:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT rates.value, rates.created_at FROM rates WHERE (lot_id = 8)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (46.1ms)
Completed 200 OK in 113ms (Views: 58.0ms | ActiveRecord: 15.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 14:09:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (43.6ms)
Completed 200 OK in 117ms (Views: 59.5ms | ActiveRecord: 20.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 14:09:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (26.9ms)
Completed 200 OK in 52ms (Views: 44.0ms | ActiveRecord: 2.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 14:10:13 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.9ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (29.7ms)
Completed 200 OK in 52ms (Views: 44.4ms | ActiveRecord: 3.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-11 14:10:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (30.3ms)
Completed 200 OK in 55ms (Views: 46.2ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2017-12-11 14:14:53 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.5ms)
Completed 200 OK in 31ms (Views: 26.9ms | ActiveRecord: 1.2ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-12-11 14:14:59 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (33.3ms)
  Rendered lots/new.html.erb within layouts/application (51.0ms)
Completed 200 OK in 127ms (Views: 75.3ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2017-12-11 14:15:52 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IYcO7d7bTHD5JbzQ/kLaK1DFB9tFDWqrhbz9NqpfM32gQmLMbBAvyUVVP31dFFRxSTA58BAoQMJlPff6MxNyIg==", "lot"=>{"title"=>"from pavlov", "description"=>"007", "start_price"=>"123", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"12", "start_datetime(3i)"=>"11", "start_datetime(4i)"=>"11", "start_datetime(5i)"=>"14", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"11", "end_datetime(4i)"=>"11", "end_datetime(5i)"=>"14", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f77ac29daf8 @tempfile=#<Tempfile:/tmp/RackMultipart20171211-2459-2rvfh6.png>, @original_filename="keep-calm-and-find-gem.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"keep-calm-and-find-gem.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-1b0n96t.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-1rxenz3.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-1rxenz3.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-1rxenz3.png[0]' -auto-orient -resize "300x300>" '/tmp/885768415459346a7bb6f92820d18e4020171211-2459-1i9nsf3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-1rxenz3.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-1rxenz3.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-1rxenz3.png[0]' -auto-orient -resize "100x100>" '/tmp/885768415459346a7bb6f92820d18e4020171211-2459-15sxx8'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20171211-2459-6e9o7n.png'
  [1m[35mSQL (52.3ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "from pavlov"], ["description", "007"], ["start_price", 123], ["start_datetime", "2017-12-11 11:14:00"], ["end_datetime", "2018-01-11 11:14:00"], ["created_at", "2017-12-11 11:15:54.718063"], ["updated_at", "2017-12-11 11:15:54.718063"], ["user_id", 4], ["photo_file_name", "keep-calm-and-find-gem.png"], ["photo_content_type", "image/png"], ["photo_file_size", 43365], ["photo_updated_at", "2017-12-11 11:15:52.984871"]]
  [1m[35m (85.8ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 1948ms (ActiveRecord: 138.9ms)


  
Redis::CannotConnectError (Error connecting to Redis on 127.0.0.1:6379 (Errno::ECONNREFUSED)):
  
app/controllers/lots_controller.rb:43:in `create'
Started GET "/lots" for 127.0.0.1 at 2017-12-11 14:16:11 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (30.8ms)
Completed 200 OK in 76ms (Views: 45.3ms | ActiveRecord: 9.4ms)


Started GET "/lots/11" for 127.0.0.1 at 2017-12-11 14:16:19 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (37.7ms)
Completed 200 OK in 64ms (Views: 52.8ms | ActiveRecord: 6.2ms)


Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-11 14:16:32 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SKBl17wpCKV8YaxDmi2TxyBDJQ7qO8bnQTthEOpvGB6OhOAHpScdSy+qq+j3zK0xRduf+5zgOOeM2g0hlaylPg==", "rate"=>{"lot_id"=>"11", "value"=>"134"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/11/" for 127.0.0.1 at 2017-12-11 14:16:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.1ms)
Completed 200 OK in 51ms (Views: 42.5ms | ActiveRecord: 3.6ms)


Started GET "/lots/11/" for 127.0.0.1 at 2017-12-11 14:16:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.3ms)
Completed 200 OK in 49ms (Views: 41.4ms | ActiveRecord: 2.5ms)


Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-11 14:16:48 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"USyg2mp4i8lq7M9gtmWeHX64DVc33+nbxBThr5gJRzNC3SCaDd9PhSQM00M0Usj3eIYf5Esr+Ld2Au7e5tteYQ==", "rate"=>{"lot_id"=>"11", "value"=>"124"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/11/" for 127.0.0.1 at 2017-12-11 14:17:01 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.6ms)
  [1m[36mRate Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.0ms)
Completed 200 OK in 47ms (Views: 38.6ms | ActiveRecord: 3.2ms)


Started GET "/lots/11/" for 127.0.0.1 at 2017-12-11 14:17:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.0ms)
  [1m[36mRate Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (41.0ms)
Completed 200 OK in 67ms (Views: 58.9ms | ActiveRecord: 2.7ms)


Started GET "/lots/11/" for 127.0.0.1 at 2017-12-12 13:29:32 +0300
  [1m[35m (68.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (83.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (100.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (70.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (1498.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (2029.7ms)
Completed 200 OK in 4465ms (Views: 3882.6ms | ActiveRecord: 329.6ms)


Started GET "/lots/11/" for 127.0.0.1 at 2017-12-12 13:40:55 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (43.1ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (78.4ms)
Completed 200 OK in 424ms (Views: 347.7ms | ActiveRecord: 16.5ms)


Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-12 13:50:30 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"T3t6I9XFOAIxE9LURsjsyIf6EWocdx8GlpPFOV28zQJcivpjsmL8Tn/zzvfE/7oigcQD2WCDDmokhcpII27UUA==", "rate"=>{"lot_id"=>"11", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 34ms (ActiveRecord: 3.0ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/8/" for 127.0.0.1 at 2017-12-12 13:50:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (31.2ms)
Completed 200 OK in 56ms (Views: 46.6ms | ActiveRecord: 3.6ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-12 13:50:50 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.0ms)
Completed 200 OK in 47ms (Views: 27.4ms | ActiveRecord: 1.2ms)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2017-12-12 13:50:55 +0300
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PnOtdsu/+WFR+50h1YMYZyglle6synAJ559Wqh6wedYtgi02rBg9LR8bgQJXtE6NLhuHXdA+YWVViVnbYGJghA=="}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2017-12-12 13:50:55 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-12 13:50:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.8ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (57.9ms)
Completed 200 OK in 89ms (Views: 86.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-12 13:50:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OejDvufD7ahZAx7WzZXShuuWC/DqqhLAUsyEeOdPAM6bACiEqdk1qneasgY0mLbL/udbeJr2OJMXh2aR51IZhQ==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "egor@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-12-12 10:51:00.096430"], ["last_sign_in_at", "2017-12-05 06:42:44.419326"], ["sign_in_count", 5], ["updated_at", "2017-12-12 10:51:00.097686"], ["id", 2]]
  [1m[35m (18.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 378ms (ActiveRecord: 20.3ms)


Started GET "/" for 127.0.0.1 at 2017-12-12 13:51:00 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (14.1ms)
Completed 200 OK in 41ms (Views: 36.6ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-12 13:51:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.0ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (31.6ms)
Completed 200 OK in 55ms (Views: 47.1ms | ActiveRecord: 3.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-12 14:30:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.4ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (32.1ms)
Completed 200 OK in 57ms (Views: 47.6ms | ActiveRecord: 3.7ms)


  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 11]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 11]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRate Load (0.9ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."user_id" = $1[0m  [["user_id", 2]]
Started GET "/lots/8" for 127.0.0.1 at 2017-12-12 15:09:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-12 15:09:45 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.2ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 105ms (Views: 81.1ms | ActiveRecord: 5.6ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-12 15:34:49 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (31.9ms)
Completed 200 OK in 116ms (Views: 73.5ms | ActiveRecord: 11.8ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-12-12 15:34:53 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (45.2ms)
  Rendered lots/new.html.erb within layouts/application (64.0ms)
Completed 200 OK in 105ms (Views: 83.9ms | ActiveRecord: 0.7ms)


Started GET "/lots/9" for 127.0.0.1 at 2017-12-12 15:47:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 9)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 9 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (54.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (104.5ms)
Completed 200 OK in 148ms (Views: 117.0ms | ActiveRecord: 9.0ms)


Started POST "/lots/9/rates" for 127.0.0.1 at 2017-12-12 15:47:16 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/q/zJfKIdZW0cAeUtTRjMgtFBYqlAvnE4aW+F44Kkxc1jFxLQddR82nJLno2k9fKRbYYocLpUAkQUWFYTzhtFw==", "rate"=>{"lot_id"=>"9", "value"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"9"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 9)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.5ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/9/rates" for 127.0.0.1 at 2017-12-12 15:47:20 +0300
Processing by RatesController#index as HTML
  Parameters: {"lot_id"=>"9"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 406 Not Acceptable in 58ms (ActiveRecord: 0.9ms)


  
ActionController::UnknownFormat (RatesController#index is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/implicit_render.rb:53:in `default_render'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `tap'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:186:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rendering.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:20:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:131:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/9" for 127.0.0.1 at 2017-12-12 15:47:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 9)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 9 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.3ms)
Completed 200 OK in 42ms (Views: 35.9ms | ActiveRecord: 2.1ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-12 15:47:32 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.1ms)
Completed 200 OK in 35ms (Views: 30.6ms | ActiveRecord: 1.3ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-12 15:47:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  [1m[36mRate Load (0.6ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 8]]
  Rendered lots/show.html.slim within layouts/application (37.3ms)
Completed 200 OK in 67ms (Views: 59.5ms | ActiveRecord: 2.9ms)


Started GET "/lots/3" for 127.0.0.1 at 2017-12-12 15:47:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 3)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 3 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (25.9ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 1.8ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    16:   strong End datetime:
    17:   = @lot.end_datetime
    18: p
    19:   = image_tag @lot.photo.url(:medium)
    20: 
    21: = link_to 'Edit', edit_lot_path(@lot)
    22: |  | 
  
app/views/lots/show.html.slim:19:in `_app_views_lots_show_html_slim___1011613726188573842_47280184293800'
Started GET "/lots/" for 127.0.0.1 at 2017-12-12 15:47:43 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.9ms)
Completed 200 OK in 42ms (Views: 37.1ms | ActiveRecord: 1.3ms)


Started GET "/lots/10" for 127.0.0.1 at 2017-12-12 15:48:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 10)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 10 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 10], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 10], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.3ms)
Completed 200 OK in 45ms (Views: 38.7ms | ActiveRecord: 2.7ms)


Started GET "/lots/9" for 127.0.0.1 at 2017-12-12 15:48:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 9)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 9 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.6ms)
Completed 200 OK in 57ms (Views: 50.3ms | ActiveRecord: 2.9ms)


Started GET "/lots/10" for 127.0.0.1 at 2017-12-12 15:48:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 10)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 10 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 10], ["LIMIT", 1]]
  [1m[36mCACHE Rate Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 10], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.5ms)
Completed 200 OK in 45ms (Views: 38.2ms | ActiveRecord: 2.6ms)


Started GET "/" for 127.0.0.1 at 2017-12-12 16:07:01 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-12 16:07:02 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.7ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 67ms (Views: 36.7ms | ActiveRecord: 9.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 15:31:21 +0300
  [1m[35m (46.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (61.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (34.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (66.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (218.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (294.6ms)
Completed 200 OK in 3043ms (Views: 2726.7ms | ActiveRecord: 223.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:03:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (19.1ms)
  [1m[36mRate Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (31.7ms)
Completed 200 OK in 176ms (Views: 122.9ms | ActiveRecord: 14.1ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:03:24 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.8ms)


  
NoMethodError (undefined method `user' for #<Lot:0x005611100e4440>
Did you mean?  user_id):
  
app/controllers/lots_controller.rb:27:in `edit'
Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:03:34 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (35.1ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 13.7ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(0,0) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___2919939436066831751_70313868166220'
app/controllers/lots_controller.rb:28:in `edit'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:03:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.8ms)
Completed 200 OK in 53ms (Views: 44.5ms | ActiveRecord: 2.6ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:03:43 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.9ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.0ms)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(0,0) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___2919939436066831751_47315653851160'
app/controllers/lots_controller.rb:28:in `edit'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:04:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.4ms)
Completed 200 OK in 42ms (Views: 34.4ms | ActiveRecord: 2.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:04:19 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.6ms)
Completed 200 OK in 39ms (Views: 32.8ms | ActiveRecord: 2.5ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:05:47 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.6ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    27: = render "rates/form"
    28: - if lot.rates_exists?
    29:   h2 max rate to this lot
    30:   = @result.getvalue(0,0) 
    31:   h2 your max rate
    32:   = @result_user.getvalue(0,0)
    33:   
  
app/views/lots/show.html.slim:30:in `_app_views_lots_show_html_slim___2919939436066831751_70313864344980'
app/controllers/lots_controller.rb:28:in `edit'
Started GET "/lots/" for 127.0.0.1 at 2017-12-14 16:08:23 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.1ms)
Completed 200 OK in 85ms (Views: 39.8ms | ActiveRecord: 1.4ms)


Started GET "/lots/11" for 127.0.0.1 at 2017-12-14 16:08:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.9ms)
Completed 200 OK in 43ms (Views: 36.0ms | ActiveRecord: 2.8ms)


Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:08:29 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wHrjcrjbYQDGw9Jd7OHEelxNZ1LVuukBf+L/zTP0FyBoaD4s97Yi5KazMbGxbdXIOZlg8El3qp9jnBbTZRkLrA==", "rate"=>{"lot_id"=>"11", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:08:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.4ms)
Completed 200 OK in 39ms (Views: 33.3ms | ActiveRecord: 2.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-14 16:08:50 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jih4XQA7wjjpgOKnmOEJikRrMKA2DexZlgQaOYx0WuoCyiEzPjvOe2ZMP+vkk7+qkaBpTkogF4wvuVnBEuBbsg==", "rate"=>{"lot_id"=>"8", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (302.5ms)
  Rendered lots/show.html.slim within layouts/application (310.4ms)
Completed 500 Internal Server Error in 325ms (ActiveRecord: 2.4ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007fe6719fbca8>:0x007fe6719ef598>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim___2240663260852947656_70313861288320'
app/views/lots/show.html.slim:27:in `_app_views_lots_show_html_slim___2919939436066831751_70313862717680'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:09:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (25.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (41.8ms)
Completed 200 OK in 120ms (Views: 56.4ms | ActiveRecord: 14.5ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:10:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.3ms)
Completed 200 OK in 44ms (Views: 35.4ms | ActiveRecord: 2.8ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-14 16:11:31 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.4ms)
Completed 200 OK in 38ms (Views: 32.3ms | ActiveRecord: 1.2ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:19:17 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:19:25 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-12-14 16:19:29 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.4ms)
Completed 200 OK in 44ms (Views: 39.3ms | ActiveRecord: 1.1ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:19:32 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-12-14 16:19:46 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (39.8ms)
Completed 200 OK in 464ms (Views: 419.1ms | ActiveRecord: 10.5ms)


Started GET "/" for 127.0.0.1 at 2017-12-14 16:20:38 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (20.1ms)
Completed 200 OK in 67ms (Views: 61.4ms | ActiveRecord: 1.4ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:20:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-12-14 16:23:20 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.0ms)
Completed 200 OK in 41ms (Views: 34.9ms | ActiveRecord: 1.3ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:23:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-12-14 16:23:43 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (56.9ms)
Completed 200 OK in 362ms (Views: 311.7ms | ActiveRecord: 11.9ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:23:45 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2017-12-14 16:23:45 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-14 16:23:45 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (3.6ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (49.7ms)
Completed 200 OK in 73ms (Views: 70.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-14 16:24:35 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bkQKxv6wPX2iEzFzto0n8mUb+mT9QUbuDkc0F6tDhIWjPmiFmgmjpciJqOBuvpAI6m4cZIGc6np8zU2sUSXt+Q==", "user"=>{"email"=>"pavlov_egor007@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "pavlov_egor007@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (23.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2017-12-14 13:24:35.486488"], ["sign_in_count", 2], ["updated_at", "2017-12-14 13:24:35.487751"], ["id", 4]]
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 457ms (ActiveRecord: 55.8ms)


Started GET "/" for 127.0.0.1 at 2017-12-14 16:24:35 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.1ms)
Completed 200 OK in 72ms (Views: 66.2ms | ActiveRecord: 1.4ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-12-14 16:24:38 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (52.9ms)
  Rendered lots/new.html.erb within layouts/application (54.4ms)
Completed 200 OK in 78ms (Views: 73.7ms | ActiveRecord: 0.6ms)


Started GET "/lots/11" for 127.0.0.1 at 2017-12-14 16:25:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (34.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (62.3ms)
Completed 200 OK in 95ms (Views: 79.0ms | ActiveRecord: 7.6ms)


Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:25:27 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hi7bIgPHHJqoyqrEgWhtKpoFEGsBDesv7vtQG4TtV3RWUJlLQFOAn9pVPp3zDaLhRbmukwUeh9l1kIeY910yog==", "rate"=>{"lot_id"=>"11", "value"=>"1235"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 30ms (ActiveRecord: 2.3ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:34:05 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hi7bIgPHHJqoyqrEgWhtKpoFEGsBDesv7vtQG4TtV3RWUJlLQFOAn9pVPp3zDaLhRbmukwUeh9l1kIeY910yog==", "rate"=>{"lot_id"=>"11", "value"=>"12352"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (62.2ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["lot_id", 11], ["value", 12352], ["created_at", "2017-12-14 13:34:05.520203"], ["updated_at", "2017-12-14 13:34:05.520203"]]
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (301.1ms)
  Rendered lots/show.html.slim within layouts/application (310.8ms)
Completed 500 Internal Server Error in 500ms (ActiveRecord: 120.3ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f329501c6c8>:0x007f3295014018>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927611259380'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927612466860'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:34:17 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hi7bIgPHHJqoyqrEgWhtKpoFEGsBDesv7vtQG4TtV3RWUJlLQFOAn9pVPp3zDaLhRbmukwUeh9l1kIeY910yog==", "rate"=>{"lot_id"=>"11", "value"=>"12352"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (276.6ms)
  Rendered lots/show.html.slim within layouts/application (286.6ms)
Completed 500 Internal Server Error in 368ms (ActiveRecord: 13.6ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328823f8e0>:0x007f328823d608>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927503486920'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927504568440'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/11" for 127.0.0.1 at 2017-12-14 16:34:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.8ms)
Completed 200 OK in 44ms (Views: 36.7ms | ActiveRecord: 2.2ms)


Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:34:26 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"es78EVxQVE6YF/8Zk2XUXCwstRAm6xoKYrOgtj69ZcOqsL54H8TIS+qIa0DhABuX85AL6CL4dvz52Hc1TQ0AFQ==", "rate"=>{"lot_id"=>"11", "value"=>""}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.2ms)


  
ArgumentError (comparison of Integer with nil failed):
  
app/models/rate.rb:11:in `<'
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:34:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"es78EVxQVE6YF/8Zk2XUXCwstRAm6xoKYrOgtj69ZcOqsL54H8TIS+qIa0DhABuX85AL6CL4dvz52Hc1TQ0AFQ==", "rate"=>{"lot_id"=>"11", "value"=>"212121"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["lot_id", 11], ["value", 212121], ["created_at", "2017-12-14 13:34:33.472604"], ["updated_at", "2017-12-14 13:34:33.472604"]]
  [1m[35m (48.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (284.0ms)
  Rendered lots/show.html.slim within layouts/application (295.6ms)
Completed 500 Internal Server Error in 361ms (ActiveRecord: 51.2ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328823f8e0>:0x007f32882cfeb8>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927504188520'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927504867920'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:37:39 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"es78EVxQVE6YF/8Zk2XUXCwstRAm6xoKYrOgtj69ZcOqsL54H8TIS+qIa0DhABuX85AL6CL4dvz52Hc1TQ0AFQ==", "rate"=>{"lot_id"=>"11", "value"=>"212121"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (277.7ms)
  Rendered lots/show.html.slim within layouts/application (286.0ms)
Completed 500 Internal Server Error in 302ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328823f8e0>:0x007f32a4998a30>
Did you mean?  @lot):
    1: = fields_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927504742220'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927505287360'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/11/rates" for 127.0.0.1 at 2017-12-14 16:37:48 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"es78EVxQVE6YF/8Zk2XUXCwstRAm6xoKYrOgtj69ZcOqsL54H8TIS+qIa0DhABuX85AL6CL4dvz52Hc1TQ0AFQ==", "rate"=>{"lot_id"=>"11", "value"=>"212121"}, "commit"=>"Create Rate", "lot_id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 11)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (282.6ms)
  Rendered lots/show.html.slim within layouts/application (291.1ms)
Completed 500 Internal Server Error in 306ms (ActiveRecord: 2.9ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328823f8e0>:0x007f3295bbabd8>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927618077480'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927618594840'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/" for 127.0.0.1 at 2017-12-14 16:42:16 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.3ms)
Completed 200 OK in 36ms (Views: 31.3ms | ActiveRecord: 1.4ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:42:19 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 4)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.2ms)
  [1m[36mRate Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.8ms)
Completed 200 OK in 44ms (Views: 37.1ms | ActiveRecord: 3.3ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:42:27 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.9ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    25: = render "rates/form"
    26: - if lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
    30:   = @result_user.getvalue(0,0)
    31:   
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___64048112453049421_69927617208100'
app/controllers/lots_controller.rb:28:in `edit'
Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:42:36 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2017-12-14 16:42:36 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-14 16:42:36 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.9ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 32ms (Views: 30.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-14 16:42:45 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"x9tkiLzJX4oVknjZjchalYXcTWl9QTXe2RUAcH1qV4ZAVFy35nNX6rLSRQ1iLMS7BH19MntkDfmQ0VfX1SQZFg==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "egor@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-12-14 13:42:45.805277"], ["last_sign_in_at", "2017-12-12 10:51:00.096430"], ["sign_in_count", 6], ["updated_at", "2017-12-14 13:42:45.806666"], ["id", 2]]
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 269ms (ActiveRecord: 14.2ms)


Started GET "/" for 127.0.0.1 at 2017-12-14 16:42:45 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.7ms)
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 1.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:42:48 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.6ms)
Completed 200 OK in 49ms (Views: 41.2ms | ActiveRecord: 2.4ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:42:53 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (40.9ms)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    25: = render "rates/form"
    26: - if lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
    30:   = @result_user.getvalue(0,0)
    31:   
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim___64048112453049421_47140710188740'
app/controllers/lots_controller.rb:28:in `edit'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:53:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.8ms)
Completed 200 OK in 52ms (Views: 45.8ms | ActiveRecord: 2.1ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:53:16 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.9ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.7ms)
Completed 200 OK in 42ms (Views: 36.0ms | ActiveRecord: 1.4ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:53:19 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (12.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (27.6ms)
Completed 200 OK in 52ms (Views: 45.4ms | ActiveRecord: 1.7ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:53:22 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.4ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (25.3ms)
Completed 200 OK in 50ms (Views: 45.3ms | ActiveRecord: 1.6ms)


  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."title" = $1 LIMIT $2[0m  [["title", "nexus"], ["LIMIT", 11]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 1]]
Started GET "/" for 127.0.0.1 at 2017-12-14 16:54:49 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.9ms)
Completed 200 OK in 47ms (Views: 42.0ms | ActiveRecord: 1.1ms)


Started GET "/users/sign_out" for 127.0.0.1 at 2017-12-14 16:54:52 +0300
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-12-14 16:54:52 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2017-12-14 16:54:52 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.6ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2017-12-14 16:54:59 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"c5W4rAekCczmB4NXYrfD7eOBDEQ+vhPG2PoHy39wXsGTscyKbAABgcIq0P3ceUZio4vBX51V2F1djV1sIOtprA==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "egor@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2017-12-14 13:54:59.481077"], ["last_sign_in_at", "2017-12-14 13:42:45.805277"], ["sign_in_count", 7], ["updated_at", "2017-12-14 13:54:59.482100"], ["id", 2]]
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 276ms (ActiveRecord: 26.4ms)


Started GET "/" for 127.0.0.1 at 2017-12-14 16:54:59 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.8ms)
Completed 200 OK in 35ms (Views: 32.0ms | ActiveRecord: 0.9ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:55:01 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.3ms)
Completed 200 OK in 42ms (Views: 35.6ms | ActiveRecord: 2.0ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:55:04 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.4ms)
Completed 200 OK in 44ms (Views: 37.5ms | ActiveRecord: 2.8ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:56:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.3ms)
Completed 200 OK in 105ms (Views: 49.1ms | ActiveRecord: 16.1ms)


Started GET "/lots/8/edit" for 127.0.0.1 at 2017-12-14 16:56:07 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (8.0ms)
  Rendered lots/edit.html.erb within layouts/application (10.0ms)
Completed 200 OK in 40ms (Views: 35.5ms | ActiveRecord: 0.9ms)


Started PATCH "/lots/8" for 127.0.0.1 at 2017-12-14 16:57:09 +0300
Processing by LotsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NUUYE7DCPf+s6lfG30SgB0hLscyWSjaphbpp7iQyAIpU4wu6atFkx8KJ+r07U68fqKB5+BAXfl+w2u3rnMwYdw==", "lot"=>{"title"=>"nexus", "description"=>"5", "start_price"=>"12000", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"11", "start_datetime(3i)"=>"1", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"15", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"14", "end_datetime(4i)"=>"17", "end_datetime(5i)"=>"00"}, "commit"=>"Update Lot", "id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "lots" SET "end_datetime" = $1, "updated_at" = $2 WHERE "lots"."id" = $3[0m  [["end_datetime", "2017-12-14 17:00:00"], ["updated_at", "2017-12-14 13:57:09.287096"], ["id", 8]]
  [1m[35m (17.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 27ms (ActiveRecord: 19.1ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:57:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (24.6ms)
Completed 200 OK in 55ms (Views: 46.2ms | ActiveRecord: 2.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-14 16:57:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (9.4ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.3ms)
Completed 200 OK in 56ms (Views: 46.6ms | ActiveRecord: 2.6ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-14 17:01:09 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (1.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (28.3ms)
Completed 200 OK in 71ms (Views: 65.3ms | ActiveRecord: 2.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-12-14 17:01:13 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (16.9ms)
  Rendered lots/new.html.erb within layouts/application (18.1ms)
Completed 200 OK in 74ms (Views: 69.6ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2017-12-14 17:01:59 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"S1sVL+S81smzP+Knpb0ObIagIZis8jmEBZFMT6B+WmNebIsds0x1x2NhR/iwVAEEStXVKh4+LZs+uTkHhl5eMw==", "lot"=>{"title"=>"test_mailer", "description"=>"12", "start_price"=>"12", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"12", "start_datetime(3i)"=>"14", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"01", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"14", "end_datetime(4i)"=>"15", "end_datetime(5i)"=>"01", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f3295b9ad60 @tempfile=#<Tempfile:/tmp/RackMultipart20171214-4894-onxrsb.jpg>, @original_filename="MrzgYYjWeI8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"MrzgYYjWeI8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-s6z6mt.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-dwxyd5.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-dwxyd5.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-dwxyd5.jpg[0]' -auto-orient -resize "300x300>" '/tmp/edc1ad894e20acbb05ba38d9dfa6dc7220171214-4894-g4az8m'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-dwxyd5.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-dwxyd5.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-dwxyd5.jpg[0]' -auto-orient -resize "100x100>" '/tmp/edc1ad894e20acbb05ba38d9dfa6dc7220171214-4894-vktmzs'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20171214-4894-ewqyhk.jpg'
  [1m[35mSQL (37.4ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "test_mailer"], ["description", "12"], ["start_price", 12], ["start_datetime", "2017-12-14 14:01:00"], ["end_datetime", "2017-12-14 15:01:00"], ["created_at", "2017-12-14 14:02:00.285984"], ["updated_at", "2017-12-14 14:02:00.285984"], ["user_id", 2], ["photo_file_name", "MrzgYYjWeI8.jpg"], ["photo_content_type", "image/jpeg"], ["photo_file_size", 129255], ["photo_updated_at", "2017-12-14 14:01:59.139029"]]
  [1m[35m (48.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/12
Completed 302 Found in 1354ms (ActiveRecord: 86.7ms)


Started GET "/lots/12" for 127.0.0.1 at 2017-12-14 17:02:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (13.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (29.7ms)
Completed 200 OK in 68ms (Views: 60.4ms | ActiveRecord: 2.2ms)


Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:02:10 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XeDcI3Topi7uSlsmtTFcGOhFQlYblT+OoXLTHevDeOtX0ix28HhhXWd2vr3D+wHdBD8OY1Ic04iW6H9q8qgzvw==", "rate"=>{"lot_id"=>"12", "value"=>"15"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.0ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/12" for 127.0.0.1 at 2017-12-14 17:03:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (24.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (35.3ms)
Completed 200 OK in 111ms (Views: 53.0ms | ActiveRecord: 15.5ms)


Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:03:40 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BCafvPc02JCPIuuhKKVS+5n6OjMlWDG5+yMxbMMGZc8OFG/pc6Qf4wYeDjpebw8+dYB2BmzR3b/MuZ0b2m0umw==", "rate"=>{"lot_id"=>"12", "value"=>"151"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 12], ["value", 151], ["created_at", "2017-12-14 14:03:40.298437"], ["updated_at", "2017-12-14 14:03:40.298437"]]
  [1m[35m (52.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (258.7ms)
  Rendered lots/show.html.slim within layouts/application (268.5ms)
Completed 500 Internal Server Error in 341ms (ActiveRecord: 55.0ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328875fed8>:0x007f328875e1c8>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927615464200'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927507257000'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/12" for 127.0.0.1 at 2017-12-14 17:03:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (28.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (45.5ms)
Completed 200 OK in 138ms (Views: 73.3ms | ActiveRecord: 14.2ms)


Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:03:49 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rRWA1xnEM25OBzVfpRrS0pHOYlORqDMJyb6AFfE2zkynJ3CCnVT0Hcc70MTT0I8XfbQuZtgh3w/+JCxi6F2FGA==", "rate"=>{"lot_id"=>"12", "value"=>"151"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (307.3ms)
  Rendered lots/show.html.slim within layouts/application (319.5ms)
Completed 500 Internal Server Error in 339ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328c2d3140>:0x007f328c2d1430>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927554620980'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927540490180'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:22:05 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rRWA1xnEM25OBzVfpRrS0pHOYlORqDMJyb6AFfE2zkynJ3CCnVT0Hcc70MTT0I8XfbQuZtgh3w/+JCxi6F2FGA==", "rate"=>{"lot_id"=>"12", "value"=>"151"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (276.3ms)
  Rendered lots/show.html.slim within layouts/application (286.4ms)
Completed 500 Internal Server Error in 317ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328c2d3140>:0x007f328c448bd8>
Did you mean?  @lot):
    1: = form_for [@lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
    5:     #error_explanation
  
app/views/rates/_form.html.slim:2:in `block in _app_views_rates__form_html_slim__1568494687407091848_69927549171800'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927549171800'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927539170180'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:22:19 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rRWA1xnEM25OBzVfpRrS0pHOYlORqDMJyb6AFfE2zkynJ3CCnVT0Hcc70MTT0I8XfbQuZtgh3w/+JCxi6F2FGA==", "rate"=>{"lot_id"=>"12", "value"=>"151"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (11.1ms)
  Rendered lots/show.html.slim within layouts/application (295.3ms)
Completed 500 Internal Server Error in 311ms (ActiveRecord: 3.1ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328c2d3140>:0x007f328031bac8>
Did you mean?  @lot):
    23: = link_to 'Back', lots_path
    24: 
    25: = render "rates/form"
    26: - if lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
  
app/views/lots/show.html.slim:26:in `_app_views_lots_show_html_slim___64048112453049421_69927437914620'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:22:47 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rRWA1xnEM25OBzVfpRrS0pHOYlORqDMJyb6AFfE2zkynJ3CCnVT0Hcc70MTT0I8XfbQuZtgh3w/+JCxi6F2FGA==", "rate"=>{"lot_id"=>"12", "value"=>"151"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (14.6ms)
  Rendered lots/show.html.slim within layouts/application (60.7ms)
Completed 500 Internal Server Error in 93ms (ActiveRecord: 4.6ms)


  
ActionView::Template::Error (undefined method `rates_exists?' for #<Lot:0x007f32957fda68>
Did you mean?  rate_ids):
    23: = link_to 'Back', lots_path
    24: 
    25: = render "rates/form"
    26: - if @lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
  
app/views/lots/show.html.slim:26:in `_app_views_lots_show_html_slim___64048112453049421_69927743050340'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:23:07 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rRWA1xnEM25OBzVfpRrS0pHOYlORqDMJyb6AFfE2zkynJ3CCnVT0Hcc70MTT0I8XfbQuZtgh3w/+JCxi6F2FGA==", "rate"=>{"lot_id"=>"12", "value"=>"151"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (240.2ms)
  Rendered lots/show.html.slim within layouts/application (251.0ms)
Completed 500 Internal Server Error in 307ms (ActiveRecord: 2.6ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328c2d3140>:0x007f328e741360>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1568494687407091848_69927559101620'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___64048112453049421_69927553376060'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/12/" for 127.0.0.1 at 2017-12-14 17:34:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
Completed 500 Internal Server Error in 52ms (ActiveRecord: 11.9ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/lots_controller.rb:18:in `show'
Started GET "/lots/12/" for 127.0.0.1 at 2017-12-14 17:34:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.8ms)
Completed 500 Internal Server Error in 64ms (ActiveRecord: 12.5ms)


  
ActionView::Template::Error (undefined method `title' for nil:NilClass):
    1: p
    2:   strong Title:
    3:   = @lot.title
    4: p
    5:   strong Description:
    6:   = @lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_69927507033720'
Started GET "/lots/12/" for 127.0.0.1 at 2017-12-14 17:35:42 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (21.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.0ms)
Completed 200 OK in 155ms (Views: 140.0ms | ActiveRecord: 6.5ms)


Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:35:50 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V870rKd17FuF1oTYUcpvuirQPSbOWKSg/ESyvXRyjERd/AT5I+UrKAzqYUMnADJ/xqpxE4fRSKbL3h7KbRnHEA==", "rate"=>{"lot_id"=>"12", "value"=>"1441"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 12], ["value", 1441], ["created_at", "2017-12-14 14:35:50.877544"], ["updated_at", "2017-12-14 14:35:50.877544"]]
  [1m[35m (68.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (286.5ms)
Completed 500 Internal Server Error in 374ms (ActiveRecord: 71.6ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f3294f494a8>:0x007f3294f3c370>
Did you mean?  @lot):
    1: p
    2:   strong Title:
    3:   = lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_69927612016160'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/12/edit" for 127.0.0.1 at 2017-12-14 17:36:11 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (2.2ms)
  Rendered lots/edit.html.erb within layouts/application (34.3ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__2634353184558859939_69927628619300'
app/views/lots/edit.html.erb:3:in `_app_views_lots_edit_html_erb__1353049486363986699_69927626883640'
app/controllers/lots_controller.rb:28:in `edit'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:36:27 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V870rKd17FuF1oTYUcpvuirQPSbOWKSg/ESyvXRyjERd/AT5I+UrKAzqYUMnADJ/xqpxE4fRSKbL3h7KbRnHEA==", "rate"=>{"lot_id"=>"12", "value"=>"1441"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (278.4ms)
Completed 500 Internal Server Error in 292ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f3294f494a8>:0x007f3290109978>
Did you mean?  @lot):
    1: p
    2:   strong Title:
    3:   = lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_69927439884020'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/12/" for 127.0.0.1 at 2017-12-14 17:36:33 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (10.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (32.8ms)
Completed 200 OK in 76ms (Views: 63.6ms | ActiveRecord: 3.0ms)


Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:36:48 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vmcIvtr1xWnnX3h5I5CPUXoN8iHvi7jY+asGFENdw++0VfjrXmUCGm5jneJVWtKUlne+FKYCVN7OMapjWjaIuw==", "rate"=>{"lot_id"=>"12", "value"=>"141"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (334.7ms)
Completed 500 Internal Server Error in 352ms (ActiveRecord: 3.4ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f3294f494a8>:0x007f32804fafd8>
Did you mean?  @lot):
    1: p
    2:   strong Title:
    3:   = lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_69927438896300'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/12/" for 127.0.0.1 at 2017-12-14 17:36:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (14.8ms)
Completed 200 OK in 43ms (Views: 35.2ms | ActiveRecord: 2.5ms)


Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:36:59 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wWb7yY10R1NHEdhv/kUrVv8fjrJPkEek6ZvoiW0hXgDLVAucCeSAIM4tPfSIj3aTE2XChwYZq6LeAUT+dEoVVA==", "rate"=>{"lot_id"=>"12", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (282.0ms)
Completed 500 Internal Server Error in 296ms (ActiveRecord: 2.8ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f3294f494a8>:0x007f3280659f00>
Did you mean?  @lot):
    1: p
    2:   strong Title:
    3:   = lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_69927439615300'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:37:18 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wWb7yY10R1NHEdhv/kUrVv8fjrJPkEek6ZvoiW0hXgDLVAucCeSAIM4tPfSIj3aTE2XChwYZq6LeAUT+dEoVVA==", "rate"=>{"lot_id"=>"12", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (2.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (277.8ms)
Completed 500 Internal Server Error in 300ms (ActiveRecord: 8.9ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f3294f494a8>:0x007f329c01b4d8>
Did you mean?  @lot):
    3:   = @lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
    7: p
    8:   strong Start price:
    9:   = lot.start_price
  
app/views/lots/show.html.slim:6:in `_app_views_lots_show_html_slim___64048112453049421_69927671222040'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:37:23 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wWb7yY10R1NHEdhv/kUrVv8fjrJPkEek6ZvoiW0hXgDLVAucCeSAIM4tPfSIj3aTE2XChwYZq6LeAUT+dEoVVA==", "rate"=>{"lot_id"=>"12", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (4.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (413.7ms)
Completed 500 Internal Server Error in 434ms (ActiveRecord: 7.8ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f3294f494a8>:0x0055bf9bbcdeb8>
Did you mean?  @lot):
    1: p
    2:   strong Title:
    3:   = lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_47140713143880'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/12/rates" for 127.0.0.1 at 2017-12-14 17:37:46 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wWb7yY10R1NHEdhv/kUrVv8fjrJPkEek6ZvoiW0hXgDLVAucCeSAIM4tPfSIj3aTE2XChwYZq6LeAUT+dEoVVA==", "rate"=>{"lot_id"=>"12", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (272.5ms)
Completed 500 Internal Server Error in 286ms (ActiveRecord: 3.2ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f3294f494a8>:0x007f32802baae8>
Did you mean?  @lot):
    1: p
    2:   strong Title:
    3:   = lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_69927437713640'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/12" for 127.0.0.1 at 2017-12-14 17:38:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (21.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (32.0ms)
Completed 200 OK in 101ms (Views: 43.0ms | ActiveRecord: 17.9ms)


Started GET "/lots/12/edit" for 127.0.0.1 at 2017-12-14 17:38:29 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (8.8ms)
  Rendered lots/edit.html.erb within layouts/application (10.1ms)
Completed 200 OK in 38ms (Views: 33.5ms | ActiveRecord: 0.9ms)


Started PATCH "/lots/12" for 127.0.0.1 at 2017-12-14 17:38:45 +0300
Processing by LotsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AjwUXGw15ufgeSiGEiW0PMLrBgtUX/MAk5PBf/TJYY+jZKzd9iG/sl9dk5EgCy1NIF4pRFQfbWIadt4pp6Q/5Q==", "lot"=>{"title"=>"test_mailer", "description"=>"12", "start_price"=>"12", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"12", "start_datetime(3i)"=>"14", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"01", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"14", "end_datetime(4i)"=>"15", "end_datetime(5i)"=>"40"}, "commit"=>"Update Lot", "id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "lots" SET "end_datetime" = $1, "updated_at" = $2 WHERE "lots"."id" = $3[0m  [["end_datetime", "2017-12-14 15:40:00"], ["updated_at", "2017-12-14 14:38:45.622503"], ["id", 12]]
  [1m[35m (45.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/12
Completed 302 Found in 66ms (ActiveRecord: 46.5ms)


Started GET "/lots/12" for 127.0.0.1 at 2017-12-14 17:38:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.4ms)
  [1m[36mRate Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.6ms)
Completed 200 OK in 47ms (Views: 36.6ms | ActiveRecord: 3.2ms)


Started GET "/lots/12/edit" for 127.0.0.1 at 2017-12-14 17:40:29 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (8.9ms)
  Rendered lots/edit.html.erb within layouts/application (10.4ms)
Completed 200 OK in 38ms (Views: 33.1ms | ActiveRecord: 1.1ms)


Started PATCH "/lots/12" for 127.0.0.1 at 2017-12-14 17:40:41 +0300
Processing by LotsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mFtQBtZsClR0qfI1fOs4klLH5/nLgI0oJY+CVwA6vEc5A+iHTHhTAcuNSSJOxaHjsHLItsvAE0qsap0BU1fiLQ==", "lot"=>{"title"=>"test_mailer", "description"=>"12", "start_price"=>"12", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"12", "start_datetime(3i)"=>"14", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"01", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"14", "end_datetime(4i)"=>"17", "end_datetime(5i)"=>"42"}, "commit"=>"Update Lot", "id"=>"12"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "lots" SET "end_datetime" = $1, "updated_at" = $2 WHERE "lots"."id" = $3[0m  [["end_datetime", "2017-12-14 17:42:00"], ["updated_at", "2017-12-14 14:40:41.158302"], ["id", 12]]
  [1m[35m (48.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/12
Completed 302 Found in 61ms (ActiveRecord: 50.8ms)


Started GET "/lots/12" for 127.0.0.1 at 2017-12-14 17:40:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.3ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.7ms)
Completed 200 OK in 53ms (Views: 45.6ms | ActiveRecord: 3.1ms)


Started GET "/lots" for 127.0.0.1 at 2017-12-14 17:43:07 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (9.8ms)
Completed 200 OK in 36ms (Views: 31.4ms | ActiveRecord: 1.4ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-12-14 17:43:13 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (12.1ms)
  Rendered lots/new.html.erb within layouts/application (13.6ms)
Completed 200 OK in 52ms (Views: 33.7ms | ActiveRecord: 0.4ms)


Started POST "/lots" for 127.0.0.1 at 2017-12-14 17:43:50 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NnrZorPndN+XrtTCivMVpJ4tWp8sVmW3VOHd4fvPSDQjTUeQ5BfX0UfwcZ2fGhrMUliuLZ6acahvyaip3e9MZA==", "lot"=>{"title"=>"test_mailer_2", "description"=>"21", "start_price"=>"12", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"12", "start_datetime(3i)"=>"14", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"43", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"17", "end_datetime(4i)"=>"17", "end_datetime(5i)"=>"59"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "test_mailer_2"], ["description", "21"], ["start_price", 12], ["start_datetime", "2017-12-14 14:43:00"], ["end_datetime", "2017-12-17 17:59:00"], ["created_at", "2017-12-14 14:43:50.887630"], ["updated_at", "2017-12-14 14:43:50.887630"], ["user_id", 2]]
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/13
Completed 302 Found in 84ms (ActiveRecord: 42.9ms)


Started GET "/lots/13" for 127.0.0.1 at 2017-12-14 17:43:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 13)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 13 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (11.9ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.0ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    14:   strong End datetime:
    15:   = @lot.end_datetime
    16: p
    17:   = image_tag @lot.photo.url(:medium)
    18: 
    19: = link_to 'Edit', edit_lot_path(@lot)
    20: |  | 
  
app/views/lots/show.html.slim:17:in `_app_views_lots_show_html_slim___64048112453049421_69927436445240'
Started POST "/lots" for 127.0.0.1 at 2017-12-14 17:44:07 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NnrZorPndN+XrtTCivMVpJ4tWp8sVmW3VOHd4fvPSDQjTUeQ5BfX0UfwcZ2fGhrMUliuLZ6acahvyaip3e9MZA==", "lot"=>{"title"=>"test_mailer_2", "description"=>"21", "start_price"=>"12", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"12", "start_datetime(3i)"=>"14", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"43", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"17", "end_datetime(4i)"=>"17", "end_datetime(5i)"=>"59", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f3294a8ca00 @tempfile=#<Tempfile:/tmp/RackMultipart20171214-4894-qsqdzw.png>, @original_filename="home.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"home.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-dir2r2.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-15z2b6q.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-15z2b6q.png[0]'
Command :: convert '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-15z2b6q.png[0]' -auto-orient -resize "300x300>" '/tmp/0190c98d442f94eace300cd6e36f6f8320171214-4894-1efv3hj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-15z2b6q.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-15z2b6q.png[0]'
Command :: convert '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-15z2b6q.png[0]' -auto-orient -resize "100x100>" '/tmp/0190c98d442f94eace300cd6e36f6f8320171214-4894-1l3egec'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/106a6c241b8797f52e1e77317b96a20120171214-4894-3muzge.png'
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "test_mailer_2"], ["description", "21"], ["start_price", 12], ["start_datetime", "2017-12-14 14:43:00"], ["end_datetime", "2017-12-17 17:59:00"], ["created_at", "2017-12-14 14:44:07.871234"], ["updated_at", "2017-12-14 14:44:07.871234"], ["user_id", 2], ["photo_file_name", "home.png"], ["photo_content_type", "image/png"], ["photo_file_size", 87084], ["photo_updated_at", "2017-12-14 14:44:07.101328"]]
  [1m[35m (77.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/14
Completed 302 Found in 983ms (ActiveRecord: 78.7ms)


Started GET "/lots/14" for 127.0.0.1 at 2017-12-14 17:44:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (30.7ms)
Completed 200 OK in 59ms (Views: 49.8ms | ActiveRecord: 2.8ms)


Started POST "/lots/14/rates" for 127.0.0.1 at 2017-12-14 17:44:22 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Vw5HCMdB80poG+lMPc4sPaKJWL3hd6jx3SRpc3JWgsBfn6ZayQ4XDkuexLnE/qtuIDZD7RNy14AqOUO/0gT95g==", "rate"=>{"lot_id"=>"14", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"14"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.4ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/14" for 127.0.0.1 at 2017-12-14 17:44:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (22.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.3ms)
Completed 200 OK in 106ms (Views: 47.7ms | ActiveRecord: 17.1ms)


Started POST "/lots/14/rates" for 127.0.0.1 at 2017-12-14 17:44:58 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Pq5XldZ9yFzEZoTT3JVassaEIR/9hCXa43fxlV8ZGrQ2P7bH2DIsGOfjqSYlpd3hRDs6Tw+BWqsUattZ/0tlkg==", "rate"=>{"lot_id"=>"14", "value"=>"1221"}, "commit"=>"Create Rate", "lot_id"=>"14"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.2ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/14" for 127.0.0.1 at 2017-12-14 17:45:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.6ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.8ms)
Completed 200 OK in 47ms (Views: 38.6ms | ActiveRecord: 2.5ms)


Started POST "/lots/14/rates" for 127.0.0.1 at 2017-12-14 17:45:25 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GbkdqfvWUt6dE/E/7zGQpQLhSHmYKZmd2ZRuOxkB9rERKPz79Zm2mr6W3MoWARf2gF5TKWos5uwuiUT3uVOJlw==", "rate"=>{"lot_id"=>"14", "value"=>"231"}, "commit"=>"Create Rate", "lot_id"=>"14"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 79ms (ActiveRecord: 16.2ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started POST "/lots/14/rates" for 127.0.0.1 at 2017-12-14 17:45:34 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GbkdqfvWUt6dE/E/7zGQpQLhSHmYKZmd2ZRuOxkB9rERKPz79Zm2mr6W3MoWARf2gF5TKWos5uwuiUT3uVOJlw==", "rate"=>{"lot_id"=>"14", "value"=>"231"}, "commit"=>"Create Rate", "lot_id"=>"14"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 14], ["value", 231], ["created_at", "2017-12-14 14:45:34.317030"], ["updated_at", "2017-12-14 14:45:34.317030"]]
  [1m[35m (41.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (280.9ms)
Completed 500 Internal Server Error in 408ms (ActiveRecord: 62.1ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f328b4b94d8>:0x007f328b4b76b0>
Did you mean?  @lot):
    1: p
    2:   strong Title:
    3:   = lot.title
    4: p
    5:   strong Description:
    6:   = lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim___64048112453049421_69927531032280'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/14" for 127.0.0.1 at 2017-12-14 17:45:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (10.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (30.0ms)
Completed 200 OK in 66ms (Views: 54.8ms | ActiveRecord: 3.1ms)


Started GET "/lots/14" for 127.0.0.1 at 2017-12-14 17:45:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (23.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (36.2ms)
Completed 200 OK in 108ms (Views: 50.1ms | ActiveRecord: 17.2ms)


Started GET "/lots/14/edit" for 127.0.0.1 at 2017-12-14 17:49:34 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (2.3ms)
  Rendered lots/edit.html.erb within layouts/application (4.7ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__2634353184558859939_69927543247260'
app/views/lots/edit.html.erb:3:in `_app_views_lots_edit_html_erb__1353049486363986699_69927545108700'
app/controllers/lots_controller.rb:28:in `edit'
Started GET "/lots/14" for 127.0.0.1 at 2017-12-14 17:50:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (22.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.5ms)
Completed 200 OK in 109ms (Views: 51.2ms | ActiveRecord: 16.0ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/lots/14" for 127.0.0.1 at 2017-12-14 18:03:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.0ms)
Completed 200 OK in 57ms (Views: 36.1ms | ActiveRecord: 2.4ms)


Started GET "/lots/14" for 127.0.0.1 at 2017-12-18 22:59:00 +0300
  [1m[35m (46.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (62.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (34.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (65.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (236.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (317.1ms)
Completed 200 OK in 1420ms (Views: 1093.2ms | ActiveRecord: 222.0ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-18 22:59:13 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (14.3ms)
Completed 200 OK in 82ms (Views: 32.7ms | ActiveRecord: 1.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2017-12-18 22:59:15 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (40.6ms)
  Rendered lots/new.html.erb within layouts/application (43.1ms)
Completed 200 OK in 119ms (Views: 65.7ms | ActiveRecord: 1.0ms)


Started POST "/lots" for 127.0.0.1 at 2017-12-18 22:59:50 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"J4ctFUjv/BghgNZvkB5c6c568mw+yWTWutipoNl6QpkysLMnHx9fFvHeczCF91OBAg8G3owFcMmB8Nzo/1pGyQ==", "lot"=>{"title"=>"ne", "description"=>"w", "start_price"=>"12", "start_datetime(1i)"=>"2017", "start_datetime(2i)"=>"12", "start_datetime(3i)"=>"18", "start_datetime(4i)"=>"19", "start_datetime(5i)"=>"59", "end_datetime(1i)"=>"2017", "end_datetime(2i)"=>"12", "end_datetime(3i)"=>"18", "end_datetime(4i)"=>"23", "end_datetime(5i)"=>"59", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f440cd61ff8 @tempfile=#<Tempfile:/tmp/RackMultipart20171218-2874-dct0ld.jpg>, @original_filename="стажер.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"\xD1\x81\xD1\x82\xD0\xB0\xD0\xB6\xD0\xB5\xD1\x80.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-1cso3vm.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-vna7dd.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-vna7dd.jpg[0]'
Command :: convert '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-vna7dd.jpg[0]' -auto-orient -resize "300x300>" '/tmp/841a045957d4d5d873b2c6835c72180120171218-2874-lm5l6c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-vna7dd.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-vna7dd.jpg[0]'
Command :: convert '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-vna7dd.jpg[0]' -auto-orient -resize "100x100>" '/tmp/841a045957d4d5d873b2c6835c72180120171218-2874-4puapf'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120171218-2874-zlcmrm.jpg'
  [1m[35mSQL (30.9ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "ne"], ["description", "w"], ["start_price", 12], ["start_datetime", "2017-12-18 19:59:00"], ["end_datetime", "2017-12-18 23:59:00"], ["created_at", "2017-12-18 19:59:50.909947"], ["updated_at", "2017-12-18 19:59:50.909947"], ["user_id", 2], ["photo_file_name", "стажер.jpg"], ["photo_content_type", "image/jpeg"], ["photo_file_size", 146718], ["photo_updated_at", "2017-12-18 19:59:50.037783"]]
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/15
Completed 302 Found in 967ms (ActiveRecord: 72.3ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 22:59:51 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.0ms)
Completed 200 OK in 52ms (Views: 43.6ms | ActiveRecord: 3.4ms)


Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-18 22:59:58 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s3j/ELyWwFQtiUebBiPJ3xQ8Aieo7IqjfRYmiN33oIiwkDNxabNr9B5jwQ4P9h51z5dmmvZEXZnxQb9P7LnrBA==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.8ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:49:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (25.5ms)
Completed 200 OK in 100ms (Views: 76.3ms | ActiveRecord: 2.4ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:49:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (13.8ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.9ms)
Completed 200 OK in 63ms (Views: 55.3ms | ActiveRecord: 2.7ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-18 23:49:46 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (15.2ms)
Completed 200 OK in 48ms (Views: 43.1ms | ActiveRecord: 1.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:49:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (63.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (76.5ms)
Completed 200 OK in 106ms (Views: 98.0ms | ActiveRecord: 2.6ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:49:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (25.3ms)
Completed 200 OK in 52ms (Views: 45.5ms | ActiveRecord: 2.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:58:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.2ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.2ms)
Completed 200 OK in 42ms (Views: 35.8ms | ActiveRecord: 2.2ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:58:22 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.4ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.2ms)
Completed 200 OK in 44ms (Views: 37.1ms | ActiveRecord: 2.3ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:58:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.6ms)
Completed 200 OK in 43ms (Views: 37.7ms | ActiveRecord: 2.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:58:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.9ms)
Completed 200 OK in 47ms (Views: 40.6ms | ActiveRecord: 2.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:59:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.4ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.8ms)
Completed 200 OK in 43ms (Views: 37.8ms | ActiveRecord: 2.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-18 23:59:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.8ms)
Completed 200 OK in 44ms (Views: 38.0ms | ActiveRecord: 2.2ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 00:00:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (11.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (39.9ms)
Completed 200 OK in 72ms (Views: 65.4ms | ActiveRecord: 2.1ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 00:00:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.8ms)
Completed 200 OK in 42ms (Views: 35.1ms | ActiveRecord: 2.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 00:00:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.9ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.4ms)
Completed 200 OK in 46ms (Views: 39.7ms | ActiveRecord: 2.1ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 00:00:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.4ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.4ms)
Completed 200 OK in 40ms (Views: 34.7ms | ActiveRecord: 1.8ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 00:02:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.2ms)
Completed 200 OK in 45ms (Views: 36.6ms | ActiveRecord: 2.7ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 00:02:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.9ms)
Completed 200 OK in 42ms (Views: 36.3ms | ActiveRecord: 2.2ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 10:20:01 +0300
  [1m[35m (45.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (62.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (35.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (51.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (238.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (330.2ms)
Completed 200 OK in 1097ms (Views: 791.8ms | ActiveRecord: 210.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 10:20:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (25.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (59.6ms)
Completed 200 OK in 100ms (Views: 90.0ms | ActiveRecord: 2.3ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-19 10:20:23 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.1ms)
Completed 200 OK in 45ms (Views: 31.4ms | ActiveRecord: 1.2ms)


Started GET "/lots/14" for 127.0.0.1 at 2017-12-19 10:20:25 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.9ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.6ms)
Completed 200 OK in 41ms (Views: 33.3ms | ActiveRecord: 2.3ms)


Started GET "/lots/14" for 127.0.0.1 at 2017-12-19 10:20:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.2ms)
Completed 200 OK in 44ms (Views: 36.9ms | ActiveRecord: 2.4ms)


Started GET "/lots/13" for 127.0.0.1 at 2017-12-19 10:20:32 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 13)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 13 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (30.6ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    14:   strong End datetime:
    15:   = @lot.end_datetime
    16: p
    17:   = image_tag @lot.photo.url(:medium)
    18: 
    19: = link_to 'Edit', edit_lot_path(@lot)
    20: |  | 
  
app/views/lots/show.html.slim:17:in `_app_views_lots_show_html_slim___617771746940805460_69873884372000'
Started GET "/lots/12" for 127.0.0.1 at 2017-12-19 10:20:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.7ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.7ms)
Completed 200 OK in 47ms (Views: 39.2ms | ActiveRecord: 2.6ms)


Started GET "/lots/12" for 127.0.0.1 at 2017-12-19 10:20:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 12 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.1ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.1ms)
Completed 200 OK in 44ms (Views: 37.8ms | ActiveRecord: 2.4ms)


Started GET "/lots/" for 127.0.0.1 at 2017-12-19 10:23:34 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.9ms)
Completed 200 OK in 39ms (Views: 34.3ms | ActiveRecord: 1.2ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 10:23:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.2ms)
Completed 200 OK in 46ms (Views: 39.0ms | ActiveRecord: 2.1ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 10:23:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.8ms)
Completed 200 OK in 48ms (Views: 42.0ms | ActiveRecord: 2.1ms)


  [1m[35m (2.3ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (70.1ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (17.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 10:39:03 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.6ms)
Completed 200 OK in 42ms (Views: 36.1ms | ActiveRecord: 2.1ms)


  [1m[35m (1.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/lots/14" for 127.0.0.1 at 2017-12-19 10:58:47 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 14 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.0ms)
Completed 200 OK in 40ms (Views: 33.6ms | ActiveRecord: 2.0ms)


Started GET "/lots/8" for 127.0.0.1 at 2017-12-19 10:58:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.3ms)
Completed 200 OK in 40ms (Views: 33.1ms | ActiveRecord: 2.0ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-19 10:59:05 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sdiujdPyvFTWO6qbOtmN60uRgriAHVzU0zmboPgjV8tet8PuD7M6jSFrsnexcYb0cX85A5K62RctEdIRIEi0VQ==", "rate"=>{"lot_id"=>"8", "value"=>"12001"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (292.4ms)
  Rendered lots/show.html.slim within layouts/application (299.8ms)
Completed 500 Internal Server Error in 331ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f199c081fd0>:0x007f199c0802c0>
Did you mean?  @lot):
    1: = form_for [  lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__813979501683255500_69873930951280'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___617771746940805460_69873984337660'
app/controllers/rates_controller.rb:23:in `create'
Started POST "/lots/8/rates" for 127.0.0.1 at 2017-12-19 10:59:44 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sdiujdPyvFTWO6qbOtmN60uRgriAHVzU0zmboPgjV8tet8PuD7M6jSFrsnexcYb0cX85A5K62RctEdIRIEi0VQ==", "rate"=>{"lot_id"=>"8", "value"=>"12004"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (435.9ms)
  Rendered lots/show.html.slim within layouts/application (445.0ms)
Completed 500 Internal Server Error in 459ms (ActiveRecord: 2.5ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f199c081fd0>:0x007f19a40a8e48>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__813979501683255500_69873930806660'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___617771746940805460_69874051562700'
app/controllers/rates_controller.rb:23:in `create'
Started GET "/lots/8" for 127.0.0.1 at 2017-12-19 11:01:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (10.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (25.5ms)
Completed 200 OK in 55ms (Views: 46.0ms | ActiveRecord: 2.8ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 11:02:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.2ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.3ms)
Completed 200 OK in 42ms (Views: 35.7ms | ActiveRecord: 2.3ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 11:02:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (6.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.7ms)
Completed 200 OK in 48ms (Views: 41.9ms | ActiveRecord: 1.9ms)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:14:37 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.1ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:16:19 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 131ms (ActiveRecord: 12.0ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:11:in `check_value'
app/controllers/rates_controller.rb:20:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:17:47 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 136614ms (ActiveRecord: 19.8ms)


  
NoMethodError (undefined method `<' for nil:NilClass):
  
app/models/rate.rb:12:in `check_value'
app/controllers/rates_controller.rb:19:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:20:11 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 7483ms (ActiveRecord: 15.4ms)


  
NoMethodError (undefined method `getvalue' for nil:NilClass):
  
app/models/rate.rb:15:in `check_value'
app/controllers/rates_controller.rb:19:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:21:03 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 4652ms (ActiveRecord: 22.9ms)


  
NoMethodError (undefined method `getvalue' for nil:NilClass):
  
app/models/rate.rb:15:in `check_value'
app/controllers/rates_controller.rb:19:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:21:16 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 46141ms (ActiveRecord: 4.6ms)


  
NoMethodError (undefined method `getvalue' for nil:NilClass):
  
app/models/rate.rb:15:in `check_value'
app/controllers/rates_controller.rb:19:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:22:09 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 14435ms (ActiveRecord: 15.8ms)


  
NoMethodError (undefined method `getvalue' for nil:NilClass):
  
app/models/rate.rb:16:in `check_value'
app/controllers/rates_controller.rb:19:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:22:33 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 8323ms (ActiveRecord: 16.8ms)


  
NoMethodError (undefined method `getvalue' for 0:Integer):
  
app/models/rate.rb:16:in `check_value'
app/controllers/rates_controller.rb:19:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:24:52 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7OsOasGPpJtPRn2VvfrPzAGZd0wDW3vrMN6hk/cVKtrvA8ILFKoPO3ys+wC0Lxhm2jIT8V3zrNG8iThUxlthVg==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 78ms (ActiveRecord: 15.8ms)


  
NoMethodError (undefined method `getvalue' for 0:Integer):
  
app/models/rate.rb:16:in `check_value'
app/controllers/rates_controller.rb:19:in `create'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 11:25:08 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (20.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (38.5ms)
Completed 200 OK in 122ms (Views: 63.9ms | ActiveRecord: 18.3ms)


Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 11:25:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"M+kqlHEIsxS4o/RJzZf6JMUE7ZXozzzuO7Jftm3U4a8wAeb1pC0YtItJctzEQi2OHq+JKLZn69S35cZxXJqqIw==", "rate"=>{"lot_id"=>"15", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35mSQL (85.9ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 15], ["value", 21], ["created_at", "2017-12-19 08:25:12.263483"], ["updated_at", "2017-12-19 08:25:12.263483"]]
  [1m[35m (156.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (293.3ms)
  Rendered lots/show.html.slim within layouts/application (304.9ms)
Completed 500 Internal Server Error in 564ms (ActiveRecord: 244.1ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f19a888af18>:0x007f199c1afc68>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__813979501683255500_69873984359220'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim___617771746940805460_69873984935240'
app/controllers/rates_controller.rb:22:in `create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/" for 127.0.0.1 at 2017-12-19 16:24:05 +0300
  [1m[35m (157.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (96.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (27.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (97.9ms)
Completed 200 OK in 964ms (Views: 696.0ms | ActiveRecord: 176.3ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:25:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (58.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (246.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (303.8ms)
Completed 200 OK in 453ms (Views: 322.5ms | ActiveRecord: 66.1ms)


Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:25:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yZwkDBJsUIf6FnsEWMunNNWx4yBQexY1ikA7TiZkyh7KdOhtx0n7J8n8/ZFRHnCeDhqHnQ7TwQ8GF6KJFyqBkg==", "rate"=>{"lot_id"=>"15", "value"=>"1221"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35mSQL (10.3ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 15], ["value", 1221], ["created_at", "2017-12-19 13:25:12.471481"], ["updated_at", "2017-12-19 13:25:12.471481"]]
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (362.3ms)
  Rendered lots/show.html.slim within layouts/application (370.2ms)
Completed 500 Internal Server Error in 433ms (ActiveRecord: 43.2ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f050d9ba320>:0x007f050d9b8610>
Did you mean?  @lot):
    1: = form_for [lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
  
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1799223807345288866_69829840288620'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim__2276327840768022918_69829839960420'
app/controllers/rates_controller.rb:22:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:29:46 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yZwkDBJsUIf6FnsEWMunNNWx4yBQexY1ikA7TiZkyh7KdOhtx0n7J8n8/ZFRHnCeDhqHnQ7TwQ8GF6KJFyqBkg==", "rate"=>{"lot_id"=>"15", "value"=>"1221"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (349.1ms)
  Rendered lots/show.html.slim within layouts/application (361.6ms)
Completed 500 Internal Server Error in 381ms (ActiveRecord: 3.5ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f050d9ba320>:0x007f0510ea3be0>
Did you mean?  @lot):
    1: = form_for [@lot, rate] do |form|
    2:   = form.hidden_field :lot_id, value: lot.id
    3: 
    4:   - if rate.errors.any?
    5:     #error_explanation
  
app/views/rates/_form.html.slim:2:in `block in _app_views_rates__form_html_slim__1799223807345288866_69829839657200'
app/views/rates/_form.html.slim:1:in `_app_views_rates__form_html_slim__1799223807345288866_69829839657200'
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim__2276327840768022918_69829867672500'
app/controllers/rates_controller.rb:22:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:30:05 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yZwkDBJsUIf6FnsEWMunNNWx4yBQexY1ikA7TiZkyh7KdOhtx0n7J8n8/ZFRHnCeDhqHnQ7TwQ8GF6KJFyqBkg==", "rate"=>{"lot_id"=>"15", "value"=>"1221"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.1ms)
  Rendered lots/show.html.slim within layouts/application (314.5ms)
Completed 500 Internal Server Error in 331ms (ActiveRecord: 3.9ms)


  
ActionView::Template::Error (undefined local variable or method `lot' for #<#<Class:0x007f050d9ba320>:0x007f04f85298e8>
Did you mean?  @lot):
    23: = link_to 'Back', lots_path
    24: 
    25: = render "rates/form"
    26: - if lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
  
app/views/lots/show.html.slim:26:in `_app_views_lots_show_html_slim__2276327840768022918_69829661377060'
app/controllers/rates_controller.rb:22:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:33:24 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yZwkDBJsUIf6FnsEWMunNNWx4yBQexY1ikA7TiZkyh7KdOhtx0n7J8n8/ZFRHnCeDhqHnQ7TwQ8GF6KJFyqBkg==", "rate"=>{"lot_id"=>"15", "value"=>"1221"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (7.9ms)
Completed 500 Internal Server Error in 88ms (ActiveRecord: 15.1ms)


  
ActionView::Template::Error (undefined method `title' for nil:NilClass):
    1: p
    2:   strong Title:
    3:   = @lot.title
    4: p
    5:   strong Description:
    6:   = @lot.description
  
app/views/lots/show.html.slim:3:in `_app_views_lots_show_html_slim__2276327840768022918_69829867398360'
app/controllers/rates_controller.rb:22:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:34:15 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yZwkDBJsUIf6FnsEWMunNNWx4yBQexY1ikA7TiZkyh7KdOhtx0n7J8n8/ZFRHnCeDhqHnQ7TwQ8GF6KJFyqBkg==", "rate"=>{"lot_id"=>"15", "value"=>"1221"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (16.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (42.3ms)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 3.7ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    25: = render "rates/form"
    26: - if lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
    30:   = @result_user.getvalue(0,0)
    31:   
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim__2276327840768022918_69829839915920'
app/controllers/rates_controller.rb:22:in `create'
Started GET "/lots/" for 127.0.0.1 at 2017-12-19 16:34:58 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.1ms)
Completed 200 OK in 38ms (Views: 33.6ms | ActiveRecord: 1.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:35:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15 AND user_id = 2)[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mCACHE Lot Load (0.0ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.4ms)
Completed 200 OK in 47ms (Views: 38.4ms | ActiveRecord: 2.3ms)


Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:35:10 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xjVHu4XxnUQzKVrjXyNQRvvulBK2ftChUIP+Sj9mmC7F3YvaUNQ25ADD3HZW9ofsIEXwr+jWB5vc1GeNDijTog==", "rate"=>{"lot_id"=>"15", "value"=>"1331"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 15], ["value", 1331], ["created_at", "2017-12-19 13:35:10.273942"], ["updated_at", "2017-12-19 13:35:10.273942"]]
  [1m[35m (46.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (7.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (22.9ms)
Completed 500 Internal Server Error in 85ms (ActiveRecord: 50.1ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    25: = render "rates/form"
    26: - if lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
    30:   = @result_user.getvalue(0,0)
    31:   
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim__2276327840768022918_69829836639000'
app/controllers/rates_controller.rb:22:in `create'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:38:56 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 115ms (ActiveRecord: 5.4ms)


  
NoMethodError (undefined method `set_lot' for #<LotsController:0x007f04f8084388>):
  
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:413:in `block in make_lambda'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:507:in `block in invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:507:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:507:in `invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:130:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:39:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 108ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `set_lot' for #<LotsController:0x007f050cd1e378>):
  
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:413:in `block in make_lambda'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:178:in `block (2 levels) in halting_and_conditional'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:179:in `block in halting_and_conditional'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:507:in `block in invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:507:in `each'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:507:in `invoke_before'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:130:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/callbacks.rb:19:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/rescue.rb:20:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `block in instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/notifications.rb:166:in `instrument'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal/params_wrapper.rb:252:in `process_action'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/railties/controller_runtime.rb:22:in `process_action'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/abstract_controller/base.rb:124:in `process'
.bundle/ruby/2.4.0/gems/actionview-5.1.3/lib/action_view/rendering.rb:30:in `process'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:189:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_controller/metal.rb:253:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:31:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:46:in `block in serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `each'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/journey/router.rb:33:in `serve'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/routing/route_set.rb:834:in `call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:36:in `block in call'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `catch'
.bundle/ruby/2.4.0/gems/warden-1.2.7/lib/warden/manager.rb:35:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/etag.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/conditional_get.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/head.rb:12:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:232:in `context'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/session/abstract/id.rb:226:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/cookies.rb:613:in `call'
.bundle/ruby/2.4.0/gems/activerecord-5.1.3/lib/active_record/migration.rb:556:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/callbacks.rb:97:in `run_callbacks'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/callbacks.rb:24:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:39:17 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Completed 500 Internal Server Error in 38ms (ActiveRecord: 5.7ms)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/lots_controller.rb:18:in `show'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:40:46 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36m15 (42.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = ?)[0m
Completed 500 Internal Server Error in 110ms (ActiveRecord: 50.6ms)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near ")"
LINE 1: SELECT max(rates.value) FROM rates WHERE (lot_id = ?)
                                                            ^
: SELECT max(rates.value) FROM rates WHERE (lot_id = ?)):
  
app/controllers/lots_controller.rb:18:in `show'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:41:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36m15 (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = ?[0m
Completed 500 Internal Server Error in 47ms (ActiveRecord: 11.8ms)


  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at end of input
LINE 1: SELECT max(rates.value) FROM rates WHERE lot_id = ?
                                                           ^
: SELECT max(rates.value) FROM rates WHERE lot_id = ?):
  
app/controllers/lots_controller.rb:18:in `show'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:42:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
Completed 500 Internal Server Error in 62ms (ActiveRecord: 11.1ms)


  
ArgumentError (wrong number of arguments (given 3, expected 1..2)):
  
app/controllers/lots_controller.rb:19:in `show'
Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:43:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '15' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (21.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.4ms)
Completed 200 OK in 124ms (Views: 69.4ms | ActiveRecord: 15.8ms)


Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:43:37 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mh3sJP0cqLzgC0zgtbC+Om8RIUZtwgd3MpEUGL35SBGZ9SBFKDkDHNPhynW8ZWmQtLpF+zNq0E2+xo3fjLcDnQ==", "rate"=>{"lot_id"=>"15", "value"=>"1441"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 15], ["value", 1441], ["created_at", "2017-12-19 13:43:37.589846"], ["updated_at", "2017-12-19 13:43:37.589846"]]
  [1m[35m (42.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered rates/_form.html.slim (8.4ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (24.9ms)
Completed 500 Internal Server Error in 86ms (ActiveRecord: 46.3ms)


  
ActionView::Template::Error (undefined method `getvalue' for nil:NilClass):
    25: = render "rates/form"
    26: - if lot.rates_exists?
    27:   h2 max rate to this lot
    28:   = @result.getvalue(0,0) 
    29:   h2 your max rate
    30:   = @result_user.getvalue(0,0)
    31:   
  
app/views/lots/show.html.slim:28:in `_app_views_lots_show_html_slim__2276327840768022918_69829666481460'
app/controllers/rates_controller.rb:22:in `create'
Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:44:13 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mh3sJP0cqLzgC0zgtbC+Om8RIUZtwgd3MpEUGL35SBGZ9SBFKDkDHNPhynW8ZWmQtLpF+zNq0E2+xo3fjLcDnQ==", "rate"=>{"lot_id"=>"15", "value"=>"1441"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/15
Completed 302 Found in 81ms (ActiveRecord: 15.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:44:13 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '15' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.9ms)
Completed 200 OK in 46ms (Views: 38.4ms | ActiveRecord: 2.5ms)


Started POST "/lots/15/rates" for 127.0.0.1 at 2017-12-19 16:44:23 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KejmcRsPx58wfsizfkaSUhRfFfzjXCIjThVh+G5l2H0qACoQzipsPwOUTiZ3k0X4z/RxQb309RnCQvg/XyuT8Q==", "rate"=>{"lot_id"=>"15", "value"=>"1551"}, "commit"=>"Create Rate", "lot_id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 15)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 15], ["value", 1551], ["created_at", "2017-12-19 13:44:23.252312"], ["updated_at", "2017-12-19 13:44:23.252312"]]
  [1m[35m (53.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/15
Completed 302 Found in 69ms (ActiveRecord: 56.8ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:44:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '15' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.6ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.6ms)
Completed 200 OK in 40ms (Views: 33.9ms | ActiveRecord: 2.1ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:44:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '15' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.6ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.5ms)
Completed 200 OK in 40ms (Views: 33.8ms | ActiveRecord: 2.0ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:48:00 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '15' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (40.2ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (81.4ms)
Completed 200 OK in 969ms (Views: 883.8ms | ActiveRecord: 16.7ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:48:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '15' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.5ms)
Completed 200 OK in 45ms (Views: 38.1ms | ActiveRecord: 2.3ms)


Started GET "/lots/15" for 127.0.0.1 at 2017-12-19 16:48:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '15'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '15' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 15], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.9ms)
Completed 200 OK in 181ms (Views: 174.1ms | ActiveRecord: 2.6ms)


Started DELETE "/lots/15" for 127.0.0.1 at 2017-12-19 16:48:46 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EGAnoK5aEPxIydhvSfd4sMnGhrkn7MtxuLAX9zC/6L6R9S8awcG1tPhTQ19zy9InPLVuCJClu4SYYex/mIYLeQ==", "id"=>"15"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.2ms)


  
NoMethodError (undefined method `user' for #<Lot:0x007f4ef972b3d0>
Did you mean?  user_id):
  
app/controllers/lots_controller.rb:51:in `destroy'
Started DELETE "/lots/15" for 127.0.0.1 at 2017-12-19 16:49:34 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EGAnoK5aEPxIydhvSfd4sMnGhrkn7MtxuLAX9zC/6L6R9S8awcG1tPhTQ19zy9InPLVuCJClu4SYYex/mIYLeQ==", "id"=>"15"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.3ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 15]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 45]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 46]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 47]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 48]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 49]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 15]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/15/original/стажер.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/15/medium/стажер.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/15/thumb/стажер.jpg
Redirected to http://localhost:3000/lots
Completed 302 Found in 112ms (ActiveRecord: 29.0ms)


Started GET "/lots" for 127.0.0.1 at 2017-12-19 16:49:34 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.3ms)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 1.0ms)


Started GET "/lots/14" for 127.0.0.1 at 2017-12-19 16:49:38 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '14'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '14' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 14], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.9ms)
Completed 200 OK in 47ms (Views: 37.1ms | ActiveRecord: 2.5ms)


Started DELETE "/lots/14" for 127.0.0.1 at 2017-12-19 16:49:45 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"jl1jRVmZSw/QGOo5SVpWZWJGrCCMBtLOGk8zVqwJvnwPyGv/NgLuR2CCcQlzZvzylzVEkTtPojs6nsjeBDBduw==", "id"=>"14"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 14]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 44]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 14]]
  [1m[35m (17.3ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/14/original/home.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/14/medium/home.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/14/thumb/home.png
Redirected to http://localhost:3000/lots
Completed 302 Found in 105ms (ActiveRecord: 20.6ms)


Started GET "/lots" for 127.0.0.1 at 2017-12-19 16:49:45 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (1.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.5ms)
Completed 200 OK in 41ms (Views: 35.8ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-01-15 17:49:04 +0300
  [1m[35m (45.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 48ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-01-15 17:49:07 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.8ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (41.4ms)
Completed 200 OK in 763ms (Views: 691.9ms | ActiveRecord: 33.6ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-01-15 17:49:17 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FSQLoy/SVWUgDgzMRjfT5gJtonqBvyw71+tlgVpCJ5lglVFazFtMpo42ul88PO0GFtA6Rt5NqidVhYlOEm+ZLg==", "user"=>{"email"=>"egor@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (180.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "egor@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-01-15 14:49:17.669535"], ["last_sign_in_at", "2017-12-14 13:54:59.481077"], ["sign_in_count", 8], ["updated_at", "2018-01-15 14:49:17.670983"], ["id", 2]]
  [1m[35m (102.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 670ms (ActiveRecord: 283.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-15 17:49:17 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (33.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (110.1ms)
Completed 200 OK in 172ms (Views: 93.4ms | ActiveRecord: 39.2ms)


Started GET "/lots/8" for 127.0.0.1 at 2018-01-15 17:49:28 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (80.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '8'[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '8' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (66.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (149.1ms)
Completed 200 OK in 342ms (Views: 164.8ms | ActiveRecord: 89.9ms)


Started POST "/lots/8/rates" for 127.0.0.1 at 2018-01-15 17:49:35 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Bo6hw1xMdIbOgh9/asZ2oYullHueZb5nQnZRMWpjIdL4FugG5U6GNp7kEQFhaXqPLShWhMiwBQhSNNv7VAwYgQ==", "rate"=>{"lot_id"=>"8", "value"=>"13004"}, "commit"=>"Create Rate", "lot_id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 8)[0m
  [1m[35mSQL (6.3ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 8], ["value", 13004], ["created_at", "2018-01-15 14:49:35.565182"], ["updated_at", "2018-01-15 14:49:35.565182"]]
  [1m[35m (30.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/8
Completed 302 Found in 60ms (ActiveRecord: 39.7ms)


Started GET "/lots/8" for 127.0.0.1 at 2018-01-15 17:49:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '8'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '8' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.4ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 8], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.7ms)
Completed 200 OK in 48ms (Views: 40.6ms | ActiveRecord: 2.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-15 17:49:46 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (3.2ms)
  Rendered lots/new.html.erb within layouts/application (4.7ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__3376748952855408672_47404507307420'
app/views/lots/new.html.erb:3:in `_app_views_lots_new_html_erb__2895603240159447102_70358644434020'
Started GET "/" for 127.0.0.1 at 2018-01-16 12:52:54 +0300
  [1m[35m (46.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 19ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-01-16 12:52:55 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.2ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (18.8ms)
Completed 200 OK in 507ms (Views: 362.2ms | ActiveRecord: 103.9ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-01-16 12:53:03 +0300
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"GK+EDtDmfwV63Ffs2KtwfM8yqpChMupFMOxHByaGWKc2+ZzDv9C5PsJYeOULtXVqMM6l6YFroyVg2Pj9z9TXMQ==", "user"=>{"email"=>"user1@mail.ru", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (267.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "user1@mail.ru"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (25.7ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["current_sign_in_at", "2018-01-16 09:53:04.314093"], ["last_sign_in_at", "2017-12-05 11:37:50.318994"], ["sign_in_count", 4], ["updated_at", "2018-01-16 09:53:04.315752"], ["id", 3]]
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 618ms (ActiveRecord: 323.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-16 12:53:04 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (31.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (72.9ms)
Completed 200 OK in 102ms (Views: 63.2ms | ActiveRecord: 34.8ms)


Started GET "/" for 127.0.0.1 at 2018-01-16 12:53:12 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (18.4ms)
Completed 200 OK in 55ms (Views: 49.3ms | ActiveRecord: 1.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-16 12:53:14 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (3.9ms)
  Rendered lots/new.html.erb within layouts/application (5.8ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__3234082778859423812_69855402279780'
app/views/lots/new.html.erb:3:in `_app_views_lots_new_html_erb___3205189220125425801_69855411165180'
Started GET "/lots/new" for 127.0.0.1 at 2018-01-16 13:01:33 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (3.9ms)
  Rendered lots/new.html.erb within layouts/application (5.8ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__3234082778859423812_47113532672920'
app/views/lots/new.html.erb:3:in `_app_views_lots_new_html_erb___3205189220125425801_47113532908400'
Started GET "/" for 127.0.0.1 at 2018-01-16 13:16:02 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (30.4ms)
Completed 200 OK in 205ms (Views: 171.0ms | ActiveRecord: 10.4ms)


Started GET "/letter_opener" for 127.0.0.1 at 2018-01-16 13:16:18 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (3.3ms)
Completed 200 OK in 222ms (Views: 190.9ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-16 13:16:25 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.4ms)
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-16 13:16:25 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (3.0ms)
Completed 200 OK in 88ms (Views: 75.2ms | ActiveRecord: 0.0ms)


Completed 200 OK in 90ms (Views: 81.1ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-16 13:16:26 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.2ms)
Completed 200 OK in 42ms (Views: 32.4ms | ActiveRecord: 0.0ms)


Started GET "/lots/12" for 127.0.0.1 at 2018-01-16 13:16:34 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (18.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (90.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '12'[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '12' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (57.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (148.6ms)
Completed 200 OK in 596ms (Views: 168.2ms | ActiveRecord: 114.8ms)


Started GET "/lots/12/edit" for 127.0.0.1 at 2018-01-16 13:16:43 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (1.9ms)
  Rendered lots/edit.html.erb within layouts/application (3.4ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.1ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__3234082778859423812_69855411765620'
app/views/lots/edit.html.erb:3:in `_app_views_lots_edit_html_erb__4452562061923406798_69855411792160'
app/controllers/lots_controller.rb:27:in `edit'
Started GET "/lots/12" for 127.0.0.1 at 2018-01-16 16:12:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (14.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '12'[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '12' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (89.2ms)
Completed 200 OK in 996ms (Views: 621.4ms | ActiveRecord: 21.2ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-16 16:12:15 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.6ms)
Completed 200 OK in 65ms (Views: 37.3ms | ActiveRecord: 1.4ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-16 16:16:15 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (56.2ms)
  Rendered lots/new.html.erb within layouts/application (57.7ms)
Completed 500 Internal Server Error in 116ms (ActiveRecord: 0.5ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__3234082778859423812_47113500467740'
app/views/lots/new.html.erb:3:in `_app_views_lots_new_html_erb___3205189220125425801_47113505383980'
Started GET "/lots/new" for 127.0.0.1 at 2018-01-16 16:17:38 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (259.1ms)
  Rendered lots/new.html.erb within layouts/application (263.8ms)
Completed 200 OK in 294ms (Views: 290.4ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-16 16:18:08 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fCmTLlTVZVZZf8StBm0rze3q+Hr/szQ/It+of1KriJWCsdrr7deX5gkZytMNwifjS2c6halmj1AynSK1bMSxxg==", "lot"=>{"title"=>"Sobaka", "description"=>"Black", "start_price"=>"100", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"16", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"17", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"17"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (83.3ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "Sobaka"], ["description", "Black"], ["start_price", 100], ["start_datetime", "2018-01-16 13:17:00"], ["end_datetime", "2018-01-30 13:17:00"], ["created_at", "2018-01-16 13:18:08.898919"], ["updated_at", "2018-01-16 13:18:08.898919"], ["user_id", 2]]
  [1m[35m (69.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/16
Completed 302 Found in 292ms (ActiveRecord: 153.2ms)


Started GET "/lots/16" for 127.0.0.1 at 2018-01-16 16:18:09 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '16'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '16' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (35.6ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 1.9ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    14:   strong End datetime:
    15:   = lot.end_datetime
    16: p
    17:   = image_tag lot.photo.url(:medium)
    18: 
    19: = link_to 'Edit', edit_lot_path(lot)
    20: |  | 
  
app/views/lots/show.html.slim:17:in `_app_views_lots_show_html_slim___1319242782748130543_69855533805300'
Started POST "/lots" for 127.0.0.1 at 2018-01-16 16:18:20 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fCmTLlTVZVZZf8StBm0rze3q+Hr/szQ/It+of1KriJWCsdrr7deX5gkZytMNwifjS2c6halmj1AynSK1bMSxxg==", "lot"=>{"title"=>"Sobaka", "description"=>"Black", "start_price"=>"100", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"16", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"17", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"17", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f10f6409738 @tempfile=#<Tempfile:/tmp/RackMultipart20180116-4423-1c5b110.jpg>, @original_filename="стажер.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"\xD1\x81\xD1\x82\xD0\xB0\xD0\xB6\xD0\xB5\xD1\x80.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-1k3oi89.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-yfsdtg.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-yfsdtg.jpg[0]'
Command :: convert '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-yfsdtg.jpg[0]' -auto-orient -resize "300x300>" '/tmp/c8f1db254f3933b864e134641e708b6120180116-4423-5a0h33'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-yfsdtg.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-yfsdtg.jpg[0]'
Command :: convert '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-yfsdtg.jpg[0]' -auto-orient -resize "100x100>" '/tmp/c8f1db254f3933b864e134641e708b6120180116-4423-ofupsl'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/4a86ad39ae82fdfae6cbc6f57b8a357120180116-4423-uauqf8.jpg'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "Sobaka"], ["description", "Black"], ["start_price", 100], ["start_datetime", "2018-01-16 13:17:00"], ["end_datetime", "2018-01-30 13:17:00"], ["created_at", "2018-01-16 13:18:21.703946"], ["updated_at", "2018-01-16 13:18:21.703946"], ["user_id", 2], ["photo_file_name", "стажер.jpg"], ["photo_content_type", "image/jpeg"], ["photo_file_size", 146718], ["photo_updated_at", "2018-01-16 13:18:20.277397"]]
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/17
Completed 302 Found in 1538ms (ActiveRecord: 29.8ms)


Started GET "/lots/17" for 127.0.0.1 at 2018-01-16 16:18:21 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '17'[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '17' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 17], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.1ms)
Completed 200 OK in 47ms (Views: 38.2ms | ActiveRecord: 3.5ms)


Started POST "/lots/17/rates" for 127.0.0.1 at 2018-01-16 16:19:12 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LinAikN1eUXNsfS3W7AfV98bCjGXaU+bU9KgucMeuYPQsYlP+neL9Z3X+slQHxN5eZbIzsG89PRDkCpz/XGA0A==", "rate"=>{"lot_id"=>"17", "value"=>"110"}, "commit"=>"Create Rate", "lot_id"=>"17"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 17)[0m
  [1m[35mSQL (29.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 17], ["value", 110], ["created_at", "2018-01-16 13:19:12.477191"], ["updated_at", "2018-01-16 13:19:12.477191"]]
  [1m[35m (33.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/17
Completed 302 Found in 82ms (ActiveRecord: 65.6ms)


Started GET "/lots/17" for 127.0.0.1 at 2018-01-16 16:19:12 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '17'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '17' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.9ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 17], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.2ms)
Completed 200 OK in 44ms (Views: 37.7ms | ActiveRecord: 2.0ms)


Started POST "/lots/17/rates" for 127.0.0.1 at 2018-01-16 16:19:19 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TeQBEPSighuWIOOop3ZRRJEBZjD2DXT/uJdbNY550YezfEjVTaBwq8ZG7das2V1qN4ykz6DYz5Co1dH/sBbo1A==", "rate"=>{"lot_id"=>"17", "value"=>"130"}, "commit"=>"Create Rate", "lot_id"=>"17"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 17)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 17)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 17], ["value", 130], ["created_at", "2018-01-16 13:19:19.350519"], ["updated_at", "2018-01-16 13:19:19.350519"]]
  [1m[35m (52.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/17
Completed 302 Found in 67ms (ActiveRecord: 56.1ms)


Started GET "/lots/17" for 127.0.0.1 at 2018-01-16 16:19:19 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '17'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '17' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 17], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.3ms)
Completed 200 OK in 48ms (Views: 39.9ms | ActiveRecord: 3.7ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-16 16:19:31 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (2.1ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.8ms)
Completed 200 OK in 39ms (Views: 33.5ms | ActiveRecord: 2.7ms)


Started GET "/lots/16" for 127.0.0.1 at 2018-01-16 16:19:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '16'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '16' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (9.9ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.3ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    14:   strong End datetime:
    15:   = lot.end_datetime
    16: p
    17:   = image_tag lot.photo.url(:medium)
    18: 
    19: = link_to 'Edit', edit_lot_path(lot)
    20: |  | 
  
app/views/lots/show.html.slim:17:in `_app_views_lots_show_html_slim___1319242782748130543_69855533944980'
Started PUT "/__web_console/repl_sessions/7a90514ea7790662aeeb84e9f32abdf7" for 127.0.0.1 at 2018-01-16 16:20:08 +0300
Started PUT "/__web_console/repl_sessions/7a90514ea7790662aeeb84e9f32abdf7" for 127.0.0.1 at 2018-01-16 16:20:09 +0300
Started PUT "/__web_console/repl_sessions/7a90514ea7790662aeeb84e9f32abdf7" for 127.0.0.1 at 2018-01-16 16:20:10 +0300
Started PUT "/__web_console/repl_sessions/7a90514ea7790662aeeb84e9f32abdf7" for 127.0.0.1 at 2018-01-16 16:20:20 +0300
Started PUT "/__web_console/repl_sessions/7a90514ea7790662aeeb84e9f32abdf7" for 127.0.0.1 at 2018-01-16 16:20:21 +0300
Started GET "/lots/17/edit" for 127.0.0.1 at 2018-01-16 16:21:03 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (2.1ms)
  Rendered lots/edit.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(lot) do |form| %>
    2:   <% if lot.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(lot.errors.count, "error") %> prohibited this lot from being saved:</h2>
  
app/views/lots/_form.html.erb:1:in `_app_views_lots__form_html_erb__3234082778859423812_69855413552720'
app/views/lots/edit.html.erb:3:in `_app_views_lots_edit_html_erb__4452562061923406798_69855413571080'
app/controllers/lots_controller.rb:27:in `edit'
Started GET "/lots/17/edit" for 127.0.0.1 at 2018-01-16 16:21:34 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (11.0ms)
  Rendered lots/edit.html.erb within layouts/application (12.3ms)
Completed 200 OK in 37ms (Views: 33.4ms | ActiveRecord: 0.7ms)


Started GET "/lots/17/edit" for 127.0.0.1 at 2018-01-16 16:22:02 +0300
Processing by LotsController#edit as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering lots/edit.html.erb within layouts/application
  Rendered lots/_form.html.erb (10.4ms)
  Rendered lots/edit.html.erb within layouts/application (12.0ms)
Completed 200 OK in 36ms (Views: 32.4ms | ActiveRecord: 0.9ms)


Started PATCH "/lots/17" for 127.0.0.1 at 2018-01-16 16:22:07 +0300
Processing by LotsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QeC4Gqw45AWGIvcHEuwhahbj+mihXa4rbh7Y2SaoRme/ePHfFToWtdZE+XkZQy1EsG44l/eIFUR+XFITGMd/NA==", "lot"=>{"title"=>"Sobaka", "description"=>"Black1", "start_price"=>"100", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"16", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"17", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"30", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"17"}, "commit"=>"Update Lot", "id"=>"17"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "lots" SET "description" = $1, "updated_at" = $2 WHERE "lots"."id" = $3[0m  [["description", "Black1"], ["updated_at", "2018-01-16 13:22:07.582689"], ["id", 17]]
  [1m[35m (53.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/17
Completed 302 Found in 68ms (ActiveRecord: 55.9ms)


Started GET "/lots/17" for 127.0.0.1 at 2018-01-16 16:22:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '17'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '17' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.6ms)
  [1m[36mRate Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 17], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.5ms)
Completed 200 OK in 46ms (Views: 38.5ms | ActiveRecord: 3.0ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-16 16:22:13 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.2ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 1.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-16 16:22:26 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (10.6ms)
  Rendered lots/new.html.erb within layouts/application (12.5ms)
Completed 200 OK in 37ms (Views: 33.9ms | ActiveRecord: 0.5ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-16 16:23:15 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.8ms)
Completed 200 OK in 43ms (Views: 39.1ms | ActiveRecord: 1.3ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-20 16:55:35 +0300
  [1m[35m (44.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (55.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (38.0ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (112.2ms)
Completed 200 OK in 936ms (Views: 603.1ms | ActiveRecord: 206.2ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-20 16:55:41 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (160.4ms)
  Rendered lots/new.html.erb within layouts/application (161.9ms)
Completed 200 OK in 186ms (Views: 182.7ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-20 16:56:52 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sYkiw6hCuOp04QKrReHrUf52SI9ceeVc0u5qkUOFNWpPEWsGEUBKWiSHDNVOTud/WPuKcAqsXjPCrOBbfeoMOQ==", "lot"=>{"title"=>"test", "description"=>"mail, redis", "start_price"=>"12", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"10", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"55", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"20", "end_datetime(4i)"=>"17", "end_datetime(5i)"=>"00", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f0a8020fd28 @tempfile=#<Tempfile:/tmp/RackMultipart20180120-9718-148t3y0.jpg>, @original_filename="MrzgYYjWeI8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"MrzgYYjWeI8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-pmumvk.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-12avjtm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-12avjtm.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-12avjtm.jpg[0]' -auto-orient -resize "300x300>" '/tmp/ec443a551dac7f8388b5f0799bf3030220180120-9718-14vjsy9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-12avjtm.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-12avjtm.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-12avjtm.jpg[0]' -auto-orient -resize "100x100>" '/tmp/ec443a551dac7f8388b5f0799bf3030220180120-9718-1htukpu'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180120-9718-ovmg9n.jpg'
  [1m[35mSQL (32.2ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "test"], ["description", "mail, redis"], ["start_price", 12], ["start_datetime", "2018-01-10 13:55:00"], ["end_datetime", "2018-01-20 17:00:00"], ["created_at", "2018-01-20 13:56:54.036376"], ["updated_at", "2018-01-20 13:56:54.036376"], ["user_id", 2], ["photo_file_name", "MrzgYYjWeI8.jpg"], ["photo_content_type", "image/jpeg"], ["photo_file_size", 129255], ["photo_updated_at", "2018-01-20 13:56:52.670830"]]
  [1m[35m (95.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/18
Completed 302 Found in 1565ms (ActiveRecord: 129.0ms)


Started GET "/lots/18" for 127.0.0.1 at 2018-01-20 16:56:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (235.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (78.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (126.1ms)
Completed 200 OK in 409ms (Views: 143.7ms | ActiveRecord: 241.4ms)


Started POST "/lots/18/rates" for 127.0.0.1 at 2018-01-20 16:56:59 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DJ7rTEKJ2PgI623HhjPENX/WrkB9IzR9wrX+TBMy3hDyBqKJ+4sqSFiNY7mNnMgb2Vtsvyv2jxLS93SGLV3nQw==", "rate"=>{"lot_id"=>"18", "value"=>"122"}, "commit"=>"Create Rate", "lot_id"=>"18"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 18)[0m
  [1m[35mSQL (19.8ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 18], ["value", 122], ["created_at", "2018-01-20 13:56:59.945410"], ["updated_at", "2018-01-20 13:56:59.945410"]]
  [1m[35m (318.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/18
Completed 302 Found in 361ms (ActiveRecord: 341.6ms)


Started GET "/lots/18" for 127.0.0.1 at 2018-01-20 16:57:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.0ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.8ms)
Completed 200 OK in 46ms (Views: 39.4ms | ActiveRecord: 2.5ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-20 16:57:17 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.0ms)
Completed 200 OK in 37ms (Views: 33.2ms | ActiveRecord: 1.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-20 16:58:03 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (8.4ms)
  Rendered lots/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 36ms (Views: 31.8ms | ActiveRecord: 0.7ms)


Started GET "/letter_opener" for 127.0.0.1 at 2018-01-20 16:58:07 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (3.0ms)
Completed 200 OK in 96ms (Views: 92.3ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 16:59:59 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.6ms)
Completed 200 OK in 57ms (Views: 47.0ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 17:00:01 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.4ms)
Completed 200 OK in 46ms (Views: 37.3ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 17:00:02 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.3ms)
Completed 200 OK in 45ms (Views: 36.2ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 17:00:03 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.3ms)
Completed 200 OK in 46ms (Views: 35.2ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 17:00:04 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.3ms)
Completed 200 OK in 48ms (Views: 38.3ms | ActiveRecord: 0.0ms)


Started GET "/lots/18" for 127.0.0.1 at 2018-01-20 17:00:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (9.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.7ms)
Completed 200 OK in 57ms (Views: 50.2ms | ActiveRecord: 2.3ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 17:00:42 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.3ms)
Completed 200 OK in 46ms (Views: 36.8ms | ActiveRecord: 0.0ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-20 17:38:37 +0300
Processing by LotsController#index as HTML
Completed 401 Unauthorized in 9ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-01-20 17:38:37 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.8ms)
  Rendered .bundle/ruby/2.4.0/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (39.6ms)
Completed 200 OK in 74ms (Views: 71.3ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 18:24:13 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.8ms)
Completed 200 OK in 118ms (Views: 107.3ms | ActiveRecord: 0.0ms)


Started GET "/lots/18" for 127.0.0.1 at 2018-01-20 18:40:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (10.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.6ms)
Completed 200 OK in 74ms (Views: 62.3ms | ActiveRecord: 4.1ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-20 19:12:28 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (16.7ms)
Completed 200 OK in 75ms (Views: 70.3ms | ActiveRecord: 1.3ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-20 20:06:42 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.9ms)
Completed 200 OK in 246ms (Views: 147.5ms | ActiveRecord: 0.0ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-21 12:34:18 +0300
  [1m[35m (45.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (60.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (38.3ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (108.6ms)
Completed 200 OK in 951ms (Views: 707.6ms | ActiveRecord: 152.7ms)


Started GET "/lots/10" for 127.0.0.1 at 2018-01-21 12:34:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Started GET "/lots/10" for 127.0.0.1 at 2018-01-21 12:34:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[35m (49.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '10'[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '10' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  [1m[36mUser Load (72.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (19.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '10'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '10' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (159.6ms)
  Rendered rates/_form.html.slim (235.9ms)
  [1m[36mRate Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 10], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (217.0ms)
  [1m[36mRate Exists (7.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 10], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (326.1ms)
Completed 200 OK in 421ms (Views: 294.2ms | ActiveRecord: 101.9ms)


Completed 200 OK in 536ms (Views: 392.4ms | ActiveRecord: 64.0ms)


Started GET "/lots/9" for 127.0.0.1 at 2018-01-21 12:34:27 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '9'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '9' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.6ms)
Completed 200 OK in 50ms (Views: 42.2ms | ActiveRecord: 2.5ms)


Started GET "/lots/3" for 127.0.0.1 at 2018-01-21 12:34:30 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '3'[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '3' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (54.1ms)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 2.7ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    14:   strong End datetime:
    15:   = lot.end_datetime
    16: p
    17:   = image_tag lot.photo.url(:medium)
    18: 
    19: = link_to 'Edit', edit_lot_path(lot)
    20: |  | 
  
app/views/lots/show.html.slim:17:in `_app_views_lots_show_html_slim___4205714979100375200_70003370189760'
Started GET "/lots/9" for 127.0.0.1 at 2018-01-21 12:34:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '9'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '9' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 9], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.6ms)
Completed 200 OK in 49ms (Views: 40.9ms | ActiveRecord: 2.5ms)


Started DELETE "/lots/9" for 127.0.0.1 at 2018-01-21 12:34:43 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"eEnPAVs/Q1iFKdyj5E73bpsGYe41An/55ELjmY5kMZuG0YbE4j2x6NVP0t3v4ftAPYujEWPXxJb0AGlTsAsIyA==", "id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.3ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 9]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 9]]
  [1m[35m (14.5ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/9/original/иконка.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/9/medium/иконка.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/9/thumb/иконка.png
Redirected to http://localhost:3000/lots
Completed 302 Found in 111ms (ActiveRecord: 17.1ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-21 12:34:43 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.0ms)
Completed 200 OK in 40ms (Views: 35.7ms | ActiveRecord: 1.2ms)


Started GET "/lots/10" for 127.0.0.1 at 2018-01-21 12:34:45 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '10'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '10' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 10], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.5ms)
Completed 200 OK in 50ms (Views: 41.1ms | ActiveRecord: 3.8ms)


Started DELETE "/lots/10" for 127.0.0.1 at 2018-01-21 12:34:48 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"HosJGzoX60W7kEV3Ox4SyTDLAPTuWj6l1bX+4giAHCvgE0DegxUZ9ev2SwkwsR7nlkbCC7iPhcrF93QoNu8leA==", "id"=>"10"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.3ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 10]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 10]]
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/10/original/иконка.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/10/medium/иконка.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/10/thumb/иконка.png
Redirected to http://localhost:3000/lots
Completed 302 Found in 103ms (ActiveRecord: 43.6ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-21 12:34:48 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.6ms)
Completed 200 OK in 43ms (Views: 36.0ms | ActiveRecord: 2.1ms)


Started GET "/lots/11" for 127.0.0.1 at 2018-01-21 12:34:50 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '11'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '11' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (28.0ms)
Completed 200 OK in 59ms (Views: 50.3ms | ActiveRecord: 2.7ms)


Started DELETE "/lots/11" for 127.0.0.1 at 2018-01-21 12:34:54 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kPxEDlo6Z258ndQY9P0BlMP/P7H0b9pi1re0zsaHKsNuZA3L4ziV3iz72mb/Ug26ZXL9TqK6YQ3G9T4E+OgTkA==", "id"=>"11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-21 12:34:54 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.3ms)
Completed 200 OK in 38ms (Views: 33.5ms | ActiveRecord: 1.1ms)


Started GET "/lots/12" for 127.0.0.1 at 2018-01-21 12:34:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '12'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '12' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 12], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.7ms)
Completed 200 OK in 45ms (Views: 37.9ms | ActiveRecord: 2.4ms)


Started DELETE "/lots/12" for 127.0.0.1 at 2018-01-21 12:34:59 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"3HnOQI8m25qrSVTjuuSb8VfzKgkIpxjsfQ0HQdmW8LEi4YeFNiQpKvsvWp2xS5ff8X7o9l5yo4NtT42L5/nJ4g==", "id"=>"12"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 12]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 42]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 43]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 12]]
  [1m[35m (44.5ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/12/original/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/12/medium/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/12/thumb/MrzgYYjWeI8.jpg
Redirected to http://localhost:3000/lots
Completed 302 Found in 73ms (ActiveRecord: 47.9ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-21 12:34:59 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.5ms)
Completed 200 OK in 39ms (Views: 32.4ms | ActiveRecord: 1.8ms)


Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 12:35:00 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (11.1ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.5ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    14:   strong End datetime:
    15:   = lot.end_datetime
    16: p
    17:   = image_tag lot.photo.url(:medium)
    18: 
    19: = link_to 'Edit', edit_lot_path(lot)
    20: |  | 
  
app/views/lots/show.html.slim:17:in `_app_views_lots_show_html_slim___4205714979100375200_70003372265660'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 12:40:06 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (156.8ms)
Completed 500 Internal Server Error in 280ms (ActiveRecord: 13.1ms)


  
ActionView::Template::Error (The asset "path%20to%20default%20image" is not present in the asset pipeline.):
    14:   strong End datetime:
    15:   = lot.end_datetime
    16: p
    17:   = image_tag lot.photo.url(:medium)
    18: 
    19: = link_to 'Edit', edit_lot_path(lot)
    20: |  | 
  
app/views/lots/show.html.slim:17:in `_app_views_lots_show_html_slim___4491401297294492060_46994722297900'
Started GET "/letter_opener" for 127.0.0.1 at 2018-01-21 12:41:01 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (9.7ms)
Completed 200 OK in 369ms (Views: 363.4ms | ActiveRecord: 0.0ms)


Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:05:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (262.2ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (1023.1ms)
Completed 200 OK in 1421ms (Views: 1301.1ms | ActiveRecord: 16.5ms)


Started GET "/images/default.png" for 127.0.0.1 at 2018-01-21 16:05:25 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:05:58 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (19.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.6ms)
Completed 200 OK in 112ms (Views: 54.2ms | ActiveRecord: 14.5ms)


Started GET "/images/medium/default.png" for 127.0.0.1 at 2018-01-21 16:05:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/medium/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots" for 127.0.0.1 at 2018-01-21 16:06:04 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.3ms)
Completed 200 OK in 72ms (Views: 33.8ms | ActiveRecord: 1.1ms)


Started GET "/lots/18" for 127.0.0.1 at 2018-01-21 16:06:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.9ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.4ms)
Completed 200 OK in 63ms (Views: 55.1ms | ActiveRecord: 2.8ms)


Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:06:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.1ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.6ms)
Completed 200 OK in 56ms (Views: 49.4ms | ActiveRecord: 2.4ms)


Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:06:10 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.0ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.5ms)
Completed 200 OK in 45ms (Views: 38.5ms | ActiveRecord: 2.1ms)


Started GET "/images/medium/default.png" for 127.0.0.1 at 2018-01-21 16:06:10 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/medium/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:06:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (23.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (38.4ms)
Completed 200 OK in 118ms (Views: 56.2ms | ActiveRecord: 18.1ms)


Started GET "/images/default.png" for 127.0.0.1 at 2018-01-21 16:06:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:16:39 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (22.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.2ms)
Completed 200 OK in 123ms (Views: 52.5ms | ActiveRecord: 13.7ms)


Started GET "/images/default.png" for 127.0.0.1 at 2018-01-21 16:16:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:16:55 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (20.6ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (35.8ms)
Completed 200 OK in 113ms (Views: 55.7ms | ActiveRecord: 14.3ms)


Started GET "/images/medium/default.png" for 127.0.0.1 at 2018-01-21 16:16:55 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/medium/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:17:27 +0300
  [1m[35m (41.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (64.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (124.5ms)
Completed 200 OK in 789ms (Views: 664.9ms | ActiveRecord: 17.6ms)


Started GET "/images/default.png" for 127.0.0.1 at 2018-01-21 16:17:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:19:41 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (41.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (78.8ms)
Completed 200 OK in 867ms (Views: 787.6ms | ActiveRecord: 18.9ms)


Started GET "/images/default.png" for 127.0.0.1 at 2018-01-21 16:19:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/13" for 127.0.0.1 at 2018-01-21 16:20:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '13'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '13' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (21.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 13], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.3ms)
Completed 200 OK in 115ms (Views: 52.9ms | ActiveRecord: 14.5ms)


Started GET "/images/medium/default.png" for 127.0.0.1 at 2018-01-21 16:20:16 +0300
  
ActionController::RoutingError (No route matches [GET] "/images/medium/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/18" for 127.0.0.1 at 2018-01-21 16:32:34 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (40.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (74.0ms)
Completed 200 OK in 527ms (Views: 430.6ms | ActiveRecord: 23.4ms)


Started POST "/lots/18/rates" for 127.0.0.1 at 2018-01-21 16:32:40 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"dXYAP1hDMgreEnFvvAeNHpjWRkeHrUGPtjt6PubmXl6L7kn64UHAuo50fxG3qIEwPluEuNF4+uCmefD02IlnDQ==", "rate"=>{"lot_id"=>"18", "value"=>"133"}, "commit"=>"Create Rate", "lot_id"=>"18"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 18)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 18)[0m
  [1m[35mSQL (61.8ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 18], ["value", 133], ["created_at", "2018-01-21 13:32:40.713842"], ["updated_at", "2018-01-21 13:32:40.713842"]]
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/18
Completed 302 Found in 149ms (ActiveRecord: 94.9ms)


Started GET "/lots/18" for 127.0.0.1 at 2018-01-21 16:32:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (10.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (23.9ms)
Completed 200 OK in 82ms (Views: 75.3ms | ActiveRecord: 2.1ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-21 17:08:59 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (21.4ms)
Completed 200 OK in 141ms (Views: 135.7ms | ActiveRecord: 1.0ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-21 19:21:22 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (15.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (111.7ms)
Completed 200 OK in 1202ms (Views: 723.2ms | ActiveRecord: 16.5ms)


Started GET "/letter_opener" for 127.0.0.1 at 2018-01-22 00:05:57 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (18.1ms)
Completed 200 OK in 608ms (Views: 458.6ms | ActiveRecord: 0.0ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-22 16:19:32 +0300
Started GET "/letter_opener" for 127.0.0.1 at 2018-01-22 16:19:33 +0300
  [1m[35m (46.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (47.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LetterOpenerWeb::LettersController#index as HTML
Processing by LotsController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (21.7ms)
  [1m[36mUser Load (130.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (31.9ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (105.4ms)
Completed 200 OK in 1418ms (Views: 787.7ms | ActiveRecord: 482.4ms)


Completed 200 OK in 1459ms (Views: 1391.8ms | ActiveRecord: 0.0ms)


Started GET "/lots/11" for 127.0.0.1 at 2018-01-22 16:19:40 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (46.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '11'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '11' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (439.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 11], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (521.4ms)
Completed 200 OK in 696ms (Views: 546.9ms | ActiveRecord: 52.3ms)


Started GET "/lots/3" for 127.0.0.1 at 2018-01-22 16:19:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '3'[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '3' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.2ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 3], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.7ms)
Completed 200 OK in 53ms (Views: 41.6ms | ActiveRecord: 4.8ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 16:19:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/3" for 127.0.0.1 at 2018-01-22 16:20:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '3'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '3' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (21.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 3], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (33.9ms)
Completed 200 OK in 115ms (Views: 53.3ms | ActiveRecord: 14.2ms)


Started GET "/app/assets/images/medium/default.png" for 127.0.0.1 at 2018-01-22 16:20:17 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/medium/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/3" for 127.0.0.1 at 2018-01-22 16:20:33 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '3'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '3' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (20.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 3], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (36.3ms)
Completed 200 OK in 114ms (Views: 70.7ms | ActiveRecord: 2.3ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 16:20:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/18" for 127.0.0.1 at 2018-01-22 17:20:37 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '18'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '18' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 18], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.4ms)
Completed 200 OK in 81ms (Views: 72.2ms | ActiveRecord: 3.3ms)


Started DELETE "/lots/18" for 127.0.0.1 at 2018-01-22 17:20:41 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EYTPBVOKnO1JPLszlJEFKWFS71BUi0A8kDNb/8DPuG3vHIbA6ohuXRlatU2fPgkHx98trwJe+1OAcdE1/qCBPg==", "id"=>"18"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 18]]
  [1m[35mSQL (25.7ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 53]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 54]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 18]]
  [1m[35m (117.6ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/18/original/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/18/medium/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/18/thumb/MrzgYYjWeI8.jpg
Redirected to http://localhost:3000/lots
Completed 302 Found in 266ms (ActiveRecord: 146.2ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-22 17:20:41 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (21.8ms)
Completed 200 OK in 82ms (Views: 72.4ms | ActiveRecord: 1.5ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-22 17:20:44 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (57.8ms)
  Rendered lots/new.html.erb within layouts/application (60.0ms)
Completed 200 OK in 149ms (Views: 94.8ms | ActiveRecord: 0.5ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-22 17:24:18 +0300
  [1m[35m (35.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (66.7ms)
Completed 200 OK in 565ms (Views: 495.6ms | ActiveRecord: 11.2ms)


Started GET "/lots/16" for 127.0.0.1 at 2018-01-22 17:24:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '16'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '16' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (143.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 16], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (199.4ms)
Completed 200 OK in 314ms (Views: 222.0ms | ActiveRecord: 8.6ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 17:24:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started DELETE "/lots/16" for 127.0.0.1 at 2018-01-22 17:24:23 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"DePj+TvGLd0ddrYHBiqvApNYZ3SgVwmKOTRDNnt55O3ze6o8gsTfbU0QuHkNhaMsNdWli/aCsuUpdsn8RRbdvg==", "id"=>"16"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.3ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 16]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 16]]
  [1m[35m (49.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 71ms (ActiveRecord: 51.6ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-22 17:24:24 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.4ms)
Completed 200 OK in 54ms (Views: 48.0ms | ActiveRecord: 1.4ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-22 17:24:25 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (20.9ms)
  Rendered lots/new.html.erb within layouts/application (22.8ms)
Completed 200 OK in 80ms (Views: 74.4ms | ActiveRecord: 1.3ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-22 17:25:06 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"RdtSp1VhnkDXJMfdkbs0MwReN7OztsSk9RBLv+RMAz27Qxti7GNs8IdCyaOaFDgdotP1TOVjf8vlUsF12iM6bg==", "lot"=>{"title"=>"Test", "description"=>"redis, sidekiq, letter_opener", "start_price"=>"", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"14", "start_datetime(4i)"=>"14", "start_datetime(5i)"=>"24", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"17", "end_datetime(4i)"=>"14", "end_datetime(5i)"=>"27"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (159.7ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["title", "Test"], ["description", "redis, sidekiq, letter_opener"], ["start_datetime", "2018-01-14 14:24:00"], ["end_datetime", "2018-01-17 14:27:00"], ["created_at", "2018-01-22 14:25:06.966465"], ["updated_at", "2018-01-22 14:25:06.966465"], ["user_id", 2]]
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/19
Completed 302 Found in 208ms (ActiveRecord: 189.2ms)


Started GET "/lots/19" for 127.0.0.1 at 2018-01-22 17:25:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '19'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '19' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (10.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 19], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (27.9ms)
Completed 200 OK in 77ms (Views: 66.4ms | ActiveRecord: 2.5ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 17:25:07 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started DELETE "/lots/19" for 127.0.0.1 at 2018-01-22 17:25:13 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"i6+aI0FhCWVHPlquHgqnb7jfiwClLs0Q5cyFE11AB/Z1N9Pm+GP71RdYVNAVpatBHlJJ//P7dn/1jg/ZYy8+pQ==", "id"=>"19"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 19]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 19]]
  [1m[35m (49.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 66ms (ActiveRecord: 52.9ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-22 17:25:13 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (18.4ms)
Completed 200 OK in 72ms (Views: 64.8ms | ActiveRecord: 1.2ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-22 17:25:15 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.9ms)
  Rendered lots/new.html.erb within layouts/application (11.3ms)
Completed 200 OK in 45ms (Views: 41.5ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-22 17:26:22 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CFTBwKo/ixceaYn82fhwKPRvDRNEoeHNTSoX9zcVazL2zIgFEz15p04Ph4LSV3wGUuLP7BJ0WqJdaJ09CXpSYQ==", "lot"=>{"title"=>"test", "description"=>"redis, sidekiq, letter_opener", "start_price"=>"21", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"22", "start_datetime(4i)"=>"17", "start_datetime(5i)"=>"25", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"22", "end_datetime(4i)"=>"17", "end_datetime(5i)"=>"29"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "test"], ["description", "redis, sidekiq, letter_opener"], ["start_price", 21], ["start_datetime", "2018-01-22 17:25:00"], ["end_datetime", "2018-01-22 17:29:00"], ["created_at", "2018-01-22 14:26:22.954675"], ["updated_at", "2018-01-22 14:26:22.954675"], ["user_id", 2]]
  [1m[35m (44.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/20
Completed 302 Found in 56ms (ActiveRecord: 45.7ms)


Started GET "/lots/20" for 127.0.0.1 at 2018-01-22 17:26:23 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '20'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '20' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.8ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 20], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (21.6ms)
Completed 200 OK in 54ms (Views: 47.0ms | ActiveRecord: 2.3ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 17:26:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/lots/20/rates" for 127.0.0.1 at 2018-01-22 17:28:31 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XEGc+w6SfawjUpaevZTja6hwDF0ygDWPXkFUO49ohN+i2dU+t5CPHHM0mOC2O+9FDv3OomRVjuBOA97xsQe9jA==", "rate"=>{"lot_id"=>"20", "value"=>"123"}, "commit"=>"Create Rate", "lot_id"=>"20"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (1.1ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 20)[0m
  [1m[35mSQL (33.0ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 20], ["value", 123], ["created_at", "2018-01-22 14:28:31.471381"], ["updated_at", "2018-01-22 14:28:31.471381"]]
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/20
Completed 302 Found in 81ms (ActiveRecord: 66.7ms)


Started GET "/lots/20" for 127.0.0.1 at 2018-01-22 17:28:31 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '20'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '20' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 20], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.5ms)
Completed 200 OK in 57ms (Views: 47.1ms | ActiveRecord: 2.9ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 17:28:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/20" for 127.0.0.1 at 2018-01-22 17:29:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '20'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '20' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (20.5ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 20], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.8ms)
Completed 200 OK in 75ms (Views: 66.2ms | ActiveRecord: 2.5ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 17:29:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-22 17:29:25 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.8ms)
Completed 200 OK in 93ms (Views: 79.2ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-22 17:29:26 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.7ms)
Completed 200 OK in 49ms (Views: 37.0ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-22 19:31:23 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.7ms)
Completed 200 OK in 134ms (Views: 45.5ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener" for 127.0.0.1 at 2018-01-22 20:36:48 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.2ms)
Completed 200 OK in 72ms (Views: 70.9ms | ActiveRecord: 0.0ms)


Started GET "/lots/20" for 127.0.0.1 at 2018-01-22 22:25:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mUser Load (38.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '20'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '20' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (39.8ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 20], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (125.1ms)
Completed 200 OK in 2695ms (Views: 439.8ms | ActiveRecord: 357.0ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-22 22:25:56 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/letter_opener" for 127.0.0.1 at 2018-01-23 11:58:59 +0300
  [1m[35m (46.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (21.0ms)
Completed 200 OK in 629ms (Views: 625.3ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 11:59:16 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.2ms)
Completed 200 OK in 47ms (Views: 35.6ms | ActiveRecord: 0.0ms)


Started DELETE "/lots/20" for 127.0.0.1 at 2018-01-23 13:00:45 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"onMjC9Q9FbEMMgS2TABpGmgm/LTRHx6cvv9fKfMzfp9c62rObT/nAVxUCshHr2U0zqs+S4fKpfOuvdXjzVxHzA==", "id"=>"20"}
  [1m[36mUser Load (118.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (30.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (11.7ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 20]]
  [1m[35mSQL (1.0ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 55]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 20]]
  [1m[35m (25.9ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 577ms (ActiveRecord: 356.0ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 13:00:46 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (32.7ms)
Completed 200 OK in 173ms (Views: 145.8ms | ActiveRecord: 1.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 13:00:48 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (207.2ms)
  Rendered lots/new.html.erb within layouts/application (237.8ms)
Completed 200 OK in 284ms (Views: 260.9ms | ActiveRecord: 0.4ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 13:01:15 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hXvKgtqwtMnO7fiLd5B3Uh7b42M/P1rtMaiEI1vfXeZ744NHY7JGeZ6L9vV8P3t8uFYhnGnq4YIh6g7pZbBktQ==", "lot"=>{"title"=>"test", "description"=>"Redis", "start_price"=>"12", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"00", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"02"}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (154.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["title", "test"], ["description", "Redis"], ["start_price", 12], ["start_datetime", "2018-01-23 13:00:00"], ["end_datetime", "2018-01-23 13:02:00"], ["created_at", "2018-01-23 10:01:15.580449"], ["updated_at", "2018-01-23 10:01:15.580449"], ["user_id", 2]]
  [1m[35m (37.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/21
Completed 302 Found in 216ms (ActiveRecord: 192.5ms)


Started GET "/lots/21" for 127.0.0.1 at 2018-01-23 13:01:15 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (43.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '21'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '21' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (55.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 21], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (162.8ms)
Completed 200 OK in 251ms (Views: 189.5ms | ActiveRecord: 45.7ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-23 13:01:16 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/lots/21/rates" for 127.0.0.1 at 2018-01-23 13:01:20 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Fy09kpUvP3muI+jVAWxAwskIE9Mf8J4I4XjLWMY6MgjptXRXLC3Nyf5F5qsKw0zsb4XRLEklJWfxOkGS+FULWw==", "rate"=>{"lot_id"=>"21", "value"=>"1234"}, "commit"=>"Create Rate", "lot_id"=>"21"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 21)[0m
  [1m[35mSQL (11.9ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 21], ["value", 1234], ["created_at", "2018-01-23 10:01:20.778514"], ["updated_at", "2018-01-23 10:01:20.778514"]]
  [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/21
Completed 302 Found in 62ms (ActiveRecord: 45.3ms)


Started GET "/lots/21" for 127.0.0.1 at 2018-01-23 13:01:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '21'[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '21' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (11.9ms)
  [1m[36mRate Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 21], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (32.3ms)
Completed 200 OK in 81ms (Views: 67.9ms | ActiveRecord: 4.6ms)


Started GET "/app/assets/images/default.png" for 127.0.0.1 at 2018-01-23 13:01:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/app/assets/images/default.png"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:01:44 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.4ms)
Completed 200 OK in 52ms (Views: 42.3ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:02:09 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (3.2ms)
Completed 200 OK in 56ms (Views: 46.9ms | ActiveRecord: 0.0ms)


Started DELETE "/lots/21" for 127.0.0.1 at 2018-01-23 13:02:40 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rRnjTQJon2oAEuivFi8zTxtCynwxi0dskQTFyuskJehTgaqIu2pt2lB05tEdgD9hvc8Ig2de/AOBRk8A1Uscuw==", "id"=>"21"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 21]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 56]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 21]]
  [1m[35m (50.1ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots
Completed 302 Found in 69ms (ActiveRecord: 53.3ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 13:02:40 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (18.1ms)
Completed 200 OK in 63ms (Views: 57.8ms | ActiveRecord: 1.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 13:02:43 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (12.0ms)
  Rendered lots/new.html.erb within layouts/application (14.3ms)
Completed 200 OK in 51ms (Views: 45.4ms | ActiveRecord: 0.6ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 13:03:15 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+daNdPSlMh685UMsZFrqADabWL/bnZg/YHftld0tiNQHTsSxTafAruyDTVJv9eYukBaaQI1II1BwNWdf40Kxhw==", "lot"=>{"title"=>"redis", "description"=>"redis", "start_price"=>"12", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"10", "start_datetime(5i)"=>"02", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"04", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fd7d16bd810 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-2894-13u0pm5.jpg>, @original_filename="MrzgYYjWeI8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"MrzgYYjWeI8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1ipgsqe.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1xs5vuv.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1xs5vuv.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1xs5vuv.jpg[0]' -auto-orient -resize "300x300>" '/tmp/861224e359f4e7fc5ae1da4fb8fbb1bf20180123-2894-1wvn88q'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1xs5vuv.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1xs5vuv.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1xs5vuv.jpg[0]' -auto-orient -resize "100x100>" '/tmp/861224e359f4e7fc5ae1da4fb8fbb1bf20180123-2894-gouwiy'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-2894-1uw07m1.jpg'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "redis"], ["description", "redis"], ["start_price", 12], ["start_datetime", "2018-01-23 10:02:00"], ["end_datetime", "2018-01-23 13:04:00"], ["created_at", "2018-01-23 10:03:16.503879"], ["updated_at", "2018-01-23 10:03:16.503879"], ["user_id", 2], ["photo_file_name", "MrzgYYjWeI8.jpg"], ["photo_content_type", "image/jpeg"], ["photo_file_size", 129255], ["photo_updated_at", "2018-01-23 10:03:15.513555"]]
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/22
Completed 302 Found in 1074ms (ActiveRecord: 25.0ms)


Started GET "/lots/22" for 127.0.0.1 at 2018-01-23 13:03:16 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '22'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '22' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 22], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.8ms)
Completed 200 OK in 48ms (Views: 41.1ms | ActiveRecord: 2.4ms)


Started POST "/lots/22/rates" for 127.0.0.1 at 2018-01-23 13:03:27 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UolWCS+iXTjGApGhW+wOiqXqA+ND9GMUcespXNGBXpysER/MlqCviJZkn99QQwKkA2fBHBUh2HthqaOW7+5nzw==", "rate"=>{"lot_id"=>"22", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"22"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 22)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 22], ["value", 21], ["created_at", "2018-01-23 10:03:27.149373"], ["updated_at", "2018-01-23 10:03:27.149373"]]
  [1m[35m (47.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/22
Completed 302 Found in 61ms (ActiveRecord: 50.4ms)


Started GET "/lots/22" for 127.0.0.1 at 2018-01-23 13:03:27 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '22'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '22' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.2ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 22], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.9ms)
Completed 200 OK in 46ms (Views: 38.3ms | ActiveRecord: 2.5ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:04:01 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.3ms)
Completed 200 OK in 45ms (Views: 35.6ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:04:01 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.3ms)
Completed 200 OK in 44ms (Views: 34.2ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:04:02 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.2ms)
Completed 200 OK in 43ms (Views: 34.3ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:04:02 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.1ms)
Completed 200 OK in 45ms (Views: 35.1ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:04:02 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.2ms)
Completed 200 OK in 44ms (Views: 34.9ms | ActiveRecord: 0.0ms)


Started GET "/lots/22" for 127.0.0.1 at 2018-01-23 13:04:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '22'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '22' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (9.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 22], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.0ms)
Completed 200 OK in 53ms (Views: 44.2ms | ActiveRecord: 2.6ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 13:08:27 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (68.2ms)
Completed 200 OK in 543ms (Views: 482.1ms | ActiveRecord: 10.2ms)


Started GET "/lots/22" for 127.0.0.1 at 2018-01-23 13:08:30 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '22'[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '22' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (40.1ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 22], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (71.8ms)
Completed 200 OK in 113ms (Views: 93.8ms | ActiveRecord: 8.0ms)


Started DELETE "/lots/22" for 127.0.0.1 at 2018-01-23 13:08:33 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lm+b7iJKNIb10+gokkC1WbnJzBJPaVGw/Gd88EW9xLVo99Irm0jGNqW15laZ77l3H0QO7Rm86t/sJfY6e9L95g==", "id"=>"22"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.3ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 22]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 57]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 22]]
  [1m[35m (48.9ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/22/original/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/22/medium/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/22/thumb/MrzgYYjWeI8.jpg
Redirected to http://localhost:3000/lots
Completed 302 Found in 84ms (ActiveRecord: 52.5ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 13:08:33 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (10.7ms)
Completed 200 OK in 36ms (Views: 32.4ms | ActiveRecord: 1.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 13:08:35 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (12.9ms)
  Rendered lots/new.html.erb within layouts/application (15.0ms)
Completed 200 OK in 44ms (Views: 40.9ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 13:09:02 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4neg5sDbXORGqiwTH780D7kSukA+UvhDdK8KNI9JMDUc7+kjedmuVBbMIm0UEDghH594v2iHQyxk7YD+sSYJZg==", "lot"=>{"title"=>"redis", "description"=>"redis", "start_price"=>"12", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"10", "start_datetime(5i)"=>"08", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"10", "end_datetime(5i)"=>"10", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fb3e8b66770 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-5561-jlxxr3.png>, @original_filename="keep-calm-and-find-gem.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"keep-calm-and-find-gem.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-1ly1y3w.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-hodtix.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-hodtix.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-hodtix.png[0]' -auto-orient -resize "300x300>" '/tmp/8354bb5429fefe442f5747ad5ffe0c1420180123-5561-3gqij7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-hodtix.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-hodtix.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-hodtix.png[0]' -auto-orient -resize "100x100>" '/tmp/8354bb5429fefe442f5747ad5ffe0c1420180123-5561-92z42u'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-11y10w3.png'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "redis"], ["description", "redis"], ["start_price", 12], ["start_datetime", "2018-01-23 10:08:00"], ["end_datetime", "2018-01-23 10:10:00"], ["created_at", "2018-01-23 10:09:02.602444"], ["updated_at", "2018-01-23 10:09:02.602444"], ["user_id", 2], ["photo_file_name", "keep-calm-and-find-gem.png"], ["photo_content_type", "image/png"], ["photo_file_size", 43365], ["photo_updated_at", "2018-01-23 10:09:02.245403"]]
  [1m[35m (36.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/23
Completed 302 Found in 410ms (ActiveRecord: 37.7ms)


Started GET "/lots/23" for 127.0.0.1 at 2018-01-23 13:09:02 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '23'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '23' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.1ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 23], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (17.6ms)
Completed 200 OK in 50ms (Views: 40.8ms | ActiveRecord: 3.0ms)


Started POST "/lots/23/rates" for 127.0.0.1 at 2018-01-23 13:09:06 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ViJiWKMzObWxiJL/oiLp0eL34+DL2LwOhGMmyYeR4kmouiudGjHLBeHunIGpjeX/RHohH50NB2GUIawDuf7bGg==", "rate"=>{"lot_id"=>"23", "value"=>"122"}, "commit"=>"Create Rate", "lot_id"=>"23"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 23)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 23], ["value", 122], ["created_at", "2018-01-23 10:09:06.672790"], ["updated_at", "2018-01-23 10:09:06.672790"]]
  [1m[35m (46.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/23
Completed 302 Found in 62ms (ActiveRecord: 49.4ms)


Started GET "/lots/23" for 127.0.0.1 at 2018-01-23 13:09:06 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '23'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '23' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 23], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.9ms)
Completed 200 OK in 46ms (Views: 39.4ms | ActiveRecord: 2.1ms)


Started GET "/lots/23" for 127.0.0.1 at 2018-01-23 13:10:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '23'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '23' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.2ms)
  [1m[36mRate Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 23], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.4ms)
Completed 200 OK in 51ms (Views: 43.4ms | ActiveRecord: 2.8ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:10:23 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.4ms)
Completed 200 OK in 63ms (Views: 51.0ms | ActiveRecord: 0.0ms)


Started DELETE "/lots/23" for 127.0.0.1 at 2018-01-23 13:28:37 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"00Z3E0mh15+TUYwFzr29NIbtdMqMlzH6icw8ifX1AkQt3j7W8KMlL8M3gnvFErEaIGC2NdpCipWZjrZDy5o7Fw==", "id"=>"23"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 23]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 58]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 23]]
  [1m[35m (242.7ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/23/original/keep-calm-and-find-gem.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/23/medium/keep-calm-and-find-gem.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/23/thumb/keep-calm-and-find-gem.png
Redirected to http://localhost:3000/lots
Completed 302 Found in 271ms (ActiveRecord: 246.6ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 13:28:37 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (11.2ms)
Completed 200 OK in 39ms (Views: 34.7ms | ActiveRecord: 1.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:28:39 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.6ms)
Completed 200 OK in 48ms (Views: 37.2ms | ActiveRecord: 0.0ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 13:28:41 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (10.0ms)
  Rendered lots/new.html.erb within layouts/application (11.8ms)
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 0.4ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 13:29:04 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"knvcF6HWADmYUUK2iPrGx0oxAmORkCRoXZIR+wZNO0xs45XSGNTyicg3TMiDVcrp7LzAnMdFnwdN0JsxOCICHw==", "lot"=>{"title"=>"йцук", "description"=>"йцу", "start_price"=>"2", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"10", "start_datetime(5i)"=>"28", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"30", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fb3dc467368 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-5561-1ebcf0q.jpg>, @original_filename="MrzgYYjWeI8.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"MrzgYYjWeI8.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-zmso83.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-s6jtwf.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-s6jtwf.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-s6jtwf.jpg[0]' -auto-orient -resize "300x300>" '/tmp/adf551ec7846f929836c005d4b0ab21e20180123-5561-svpyhn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-s6jtwf.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-s6jtwf.jpg[0]'
Command :: convert '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-s6jtwf.jpg[0]' -auto-orient -resize "100x100>" '/tmp/adf551ec7846f929836c005d4b0ab21e20180123-5561-1nkviqg'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/5a4cd216045e109f2e9f2bb7265e162b20180123-5561-1ql5u7k.jpg'
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "йцук"], ["description", "йцу"], ["start_price", 2], ["start_datetime", "2018-01-23 10:28:00"], ["end_datetime", "2018-01-23 13:30:00"], ["created_at", "2018-01-23 10:29:04.720461"], ["updated_at", "2018-01-23 10:29:04.720461"], ["user_id", 2], ["photo_file_name", "MrzgYYjWeI8.jpg"], ["photo_content_type", "image/jpeg"], ["photo_file_size", 129255], ["photo_updated_at", "2018-01-23 10:29:04.535042"]]
  [1m[35m (52.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/24
Completed 302 Found in 257ms (ActiveRecord: 53.8ms)


Started GET "/lots/24" for 127.0.0.1 at 2018-01-23 13:29:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '24'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '24' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 24], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.1ms)
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 2.1ms)


Started POST "/lots/24/rates" for 127.0.0.1 at 2018-01-23 13:29:29 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"W7wTtZkZpQ6TZMDOH4J7OfJn4/cNQC8Tizt99tRgdOSlJFpwIBtXvsMCzrAULXcXVOohCFuVlHybefc86g9Ntw==", "rate"=>{"lot_id"=>"24", "value"=>"12"}, "commit"=>"Create Rate", "lot_id"=>"24"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 24)[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 24], ["value", 12], ["created_at", "2018-01-23 10:29:29.294836"], ["updated_at", "2018-01-23 10:29:29.294836"]]
  [1m[35m (46.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/24
Completed 302 Found in 63ms (ActiveRecord: 49.9ms)


Started GET "/lots/24" for 127.0.0.1 at 2018-01-23 13:29:29 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '24'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '24' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.8ms)
  [1m[36mRate Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 24], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (16.8ms)
Completed 200 OK in 49ms (Views: 39.9ms | ActiveRecord: 2.6ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:30:36 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.2ms)
Completed 200 OK in 45ms (Views: 35.5ms | ActiveRecord: 0.0ms)


Started DELETE "/lots/24" for 127.0.0.1 at 2018-01-23 13:30:40 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"m8KCLuPevO/eNhESQtUMPUJ4o76YO6kLMvLwkUXqc8plWsvrWtxOX45QH2xJegAT5PVhQc7uEmQisHpbe4VKmQ==", "id"=>"24"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 24]]
  [1m[35mSQL (1.7ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 59]]
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 24]]
  [1m[35m (47.2ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/24/original/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/24/medium/MrzgYYjWeI8.jpg
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/24/thumb/MrzgYYjWeI8.jpg
Redirected to http://localhost:3000/lots
Completed 302 Found in 75ms (ActiveRecord: 51.7ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 13:30:40 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (14.5ms)
Completed 200 OK in 44ms (Views: 38.7ms | ActiveRecord: 1.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 13:30:42 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (9.5ms)
  Rendered lots/new.html.erb within layouts/application (11.0ms)
Completed 200 OK in 51ms (Views: 46.5ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 13:31:11 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gaoNktuxTukpaCs6TM3AsStZnH3/oH6YCwKIni1pX/p/MkRXYrO8WXkOJURHYsyfjdRegql1xfcbQAJUEwZmqQ==", "lot"=>{"title"=>"qwerty", "description"=>"ojjn;jn", "start_price"=>"2", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"30", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"32", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007fb3d851d158 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-5561-1p8c7sk.png>, @original_filename="keep-calm-and-find-gem.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"keep-calm-and-find-gem.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-1p0zqt5.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-mbkdz5.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-mbkdz5.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-mbkdz5.png[0]' -auto-orient -resize "300x300>" '/tmp/c5ebb99dc691635066c54510a200ca6920180123-5561-1l0ojbz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-mbkdz5.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-mbkdz5.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-mbkdz5.png[0]' -auto-orient -resize "100x100>" '/tmp/c5ebb99dc691635066c54510a200ca6920180123-5561-ttkfsz'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-5561-rkiuod.png'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "qwerty"], ["description", "ojjn;jn"], ["start_price", 2], ["start_datetime", "2018-01-23 13:30:00"], ["end_datetime", "2018-01-23 13:32:00"], ["created_at", "2018-01-23 10:31:11.679556"], ["updated_at", "2018-01-23 10:31:11.679556"], ["user_id", 2], ["photo_file_name", "keep-calm-and-find-gem.png"], ["photo_content_type", "image/png"], ["photo_file_size", 43365], ["photo_updated_at", "2018-01-23 10:31:11.481766"]]
  [1m[35m (121.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/25
Completed 302 Found in 369ms (ActiveRecord: 123.0ms)


Started GET "/lots/25" for 127.0.0.1 at 2018-01-23 13:31:11 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '25'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '25' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 25], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.0ms)
Completed 200 OK in 50ms (Views: 40.8ms | ActiveRecord: 2.6ms)


Started POST "/lots/25/rates" for 127.0.0.1 at 2018-01-23 13:31:20 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Jy1oDGG/U214Ued92T2yfcwvZSbQzXrHGwr0A1VUtHfZtSHJ2L2h3Sg36QPSkr5TaqKn2YYYwagLSH7JazuNJA==", "rate"=>{"lot_id"=>"25", "value"=>"22"}, "commit"=>"Create Rate", "lot_id"=>"25"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 25)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 25], ["value", 22], ["created_at", "2018-01-23 10:31:20.777912"], ["updated_at", "2018-01-23 10:31:20.777912"]]
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/25
Completed 302 Found in 65ms (ActiveRecord: 54.9ms)


Started GET "/lots/25" for 127.0.0.1 at 2018-01-23 13:31:20 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '25'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '25' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (5.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 25], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (15.9ms)
Completed 200 OK in 45ms (Views: 38.9ms | ActiveRecord: 2.1ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 13:32:09 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.4ms)
Completed 200 OK in 44ms (Views: 34.5ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq" for 127.0.0.1 at 2018-01-23 13:43:49 +0300
  
ActionController::RoutingError (No route matches [GET] "/sidekiq"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/sidekiq" for 127.0.0.1 at 2018-01-23 13:44:20 +0300
  
ActionController::RoutingError (No route matches [GET] "/sidekiq"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/lots/25" for 127.0.0.1 at 2018-01-23 13:46:35 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '25'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '25' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (22.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 25], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (37.7ms)
Completed 200 OK in 129ms (Views: 73.1ms | ActiveRecord: 14.8ms)


Started GET "/sidekiq" for 127.0.0.1 at 2018-01-23 13:46:51 +0300
  
ActionController::RoutingError (No route matches [GET] "/sidekiq"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/sidekiq" for 127.0.0.1 at 2018-01-23 13:47:08 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/sidekiq"):
  
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:135:in `call_app'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:28:in `block in call'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
.bundle/ruby/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:36:in `call_app'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `block in call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `block in tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:26:in `tagged'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/tagged_logging.rb:69:in `tagged'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/rack/logger.rb:24:in `call'
.bundle/ruby/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
.bundle/ruby/2.4.0/gems/request_store-1.3.2/lib/request_store/middleware.rb:9:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/request_id.rb:25:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
.bundle/ruby/2.4.0/gems/activesupport-5.1.3/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/executor.rb:12:in `call'
.bundle/ruby/2.4.0/gems/actionpack-5.1.3/lib/action_dispatch/middleware/static.rb:125:in `call'
.bundle/ruby/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
.bundle/ruby/2.4.0/gems/railties-5.1.3/lib/rails/engine.rb:522:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
.bundle/ruby/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/sidekiq" for 127.0.0.1 at 2018-01-23 13:48:16 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 13:48:16 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 13:48:16 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 13:48:16 +0300
Started GET "/sidekiq/javascripts/dashboard.js" for 127.0.0.1 at 2018-01-23 13:48:16 +0300
Started GET "/sidekiq/images/favicon.ico" for 127.0.0.1 at 2018-01-23 13:48:16 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 13:48:16 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 13:48:22 +0300
Started GET "/sidekiq/queues" for 127.0.0.1 at 2018-01-23 13:48:26 +0300
Started GET "/sidekiq/queues/default" for 127.0.0.1 at 2018-01-23 13:48:29 +0300
Started GET "/sidekiq/scheduled" for 127.0.0.1 at 2018-01-23 13:48:57 +0300
Started GET "/sidekiq/scheduled/1516712520.0-197a6bf53d07ba3264aa0048" for 127.0.0.1 at 2018-01-23 13:49:08 +0300
Started GET "/sidekiq/scheduled/1516712520.0-197a6bf53d07ba3264aa0048" for 127.0.0.1 at 2018-01-23 14:03:30 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:03:30 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:03:30 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:03:30 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:03:30 +0300
Started GET "/sidekiq/" for 127.0.0.1 at 2018-01-23 14:03:35 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:03:35 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:03:35 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:03:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:03:41 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:03:46 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:03:51 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:03:56 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:01 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:06 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:11 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:16 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:21 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:26 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:31 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:36 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:41 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:46 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:51 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:04:56 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:01 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:06 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:11 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:16 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:21 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:26 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:31 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:41 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:46 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:51 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:05:56 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:01 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:06 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:11 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:16 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:21 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:26 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:31 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:36 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:41 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:46 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:51 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:06:56 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:01 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:06 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:11 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:16 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:21 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:26 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:31 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:36 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:41 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:46 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:51 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:07:56 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:01 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:06 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:11 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:17 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:22 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:27 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:32 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:37 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:42 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:47 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:52 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:08:57 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:02 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:07 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:12 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:17 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:22 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:27 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:32 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:37 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:42 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:47 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:52 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:09:57 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:02 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:07 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:12 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:17 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:22 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:27 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:32 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:37 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:42 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:47 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:52 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:10:57 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:02 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:07 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:12 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:17 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:22 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:27 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:32 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:37 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:42 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:47 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:52 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:11:57 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:02 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:07 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:12 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:17 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:22 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:27 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:32 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:37 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:42 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:47 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:52 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:12:57 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:02 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:07 +0300
  [1m[35m (1.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:12 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:17 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:22 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:27 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:32 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:37 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:42 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:47 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:52 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:13:57 +0300
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 14:14:00 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (6.1ms)
Completed 200 OK in 518ms (Views: 458.3ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:02 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:07 +0300
Started GET "/" for 127.0.0.1 at 2018-01-23 14:14:07 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (2.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (50.6ms)
Completed 200 OK in 146ms (Views: 94.1ms | ActiveRecord: 18.3ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 14:14:09 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (30.1ms)
  Rendered lots/new.html.erb within layouts/application (32.0ms)
Completed 200 OK in 58ms (Views: 54.8ms | ActiveRecord: 0.5ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 14:14:15 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.7ms)
Completed 200 OK in 46ms (Views: 35.2ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq" for 127.0.0.1 at 2018-01-23 14:14:22 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:14:23 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:14:23 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:14:23 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:14:23 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:28 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:33 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:38 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:43 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:48 +0300
Started POST "/lots" for 127.0.0.1 at 2018-01-23 14:14:51 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"r/txKYv43LPdw/pQPjXiEuEpx8Erp9TVeOvkjrX6isBRYzjsMvouA42l9C41mu48R6QFPn1yb7poqW5Ei5Wzkw==", "lot"=>{"title"=>"alala", "description"=>"adadad", "start_price"=>"1234", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"11", "start_datetime(5i)"=>"14", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"11", "end_datetime(5i)"=>"16", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f07660fe460 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-8956-1wrtwf9.png>, @original_filename="keep-calm-and-find-gem.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"keep-calm-and-find-gem.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-1obiz6b.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-uzk59o.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-uzk59o.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-uzk59o.png[0]' -auto-orient -resize "300x300>" '/tmp/a183711b0a3005a08fb65fdaf89607e620180123-8956-mcvjgq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-uzk59o.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-uzk59o.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-uzk59o.png[0]' -auto-orient -resize "100x100>" '/tmp/a183711b0a3005a08fb65fdaf89607e620180123-8956-6jz5a6'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-1w86pkz.png'
  [1m[35mSQL (20.7ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "alala"], ["description", "adadad"], ["start_price", 1234], ["start_datetime", "2018-01-23 11:14:00"], ["end_datetime", "2018-01-23 11:16:00"], ["created_at", "2018-01-23 11:14:52.091201"], ["updated_at", "2018-01-23 11:14:52.091201"], ["user_id", 2], ["photo_file_name", "keep-calm-and-find-gem.png"], ["photo_content_type", "image/png"], ["photo_file_size", 43365], ["photo_updated_at", "2018-01-23 11:14:51.564009"]]
  [1m[35m (45.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/26
Completed 302 Found in 648ms (ActiveRecord: 66.8ms)


Started GET "/lots/26" for 127.0.0.1 at 2018-01-23 14:14:52 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '26'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '26' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (23.0ms)
  [1m[36mRate Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 26], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (47.6ms)
Completed 200 OK in 83ms (Views: 66.5ms | ActiveRecord: 7.5ms)


Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:53 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:14:58 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:15:03 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:15:08 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:15:13 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:15:18 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:15:23 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 14:15:28 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:15:28 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:15:28 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:15:28 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:15:28 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 14:47:10 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:47:10 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:47:10 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:47:10 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:47:10 +0300
Started DELETE "/lots/26" for 127.0.0.1 at 2018-01-23 14:47:23 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"DFMNsLFTrY3bD/IrbcBgYxzVEcbnc/2FHpoZ7ykKvMbyy0R1CFFfPYtp/FVmb2xNuljTObGmRuoO2JMlF2WFlQ==", "id"=>"26"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 26]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 26]]
  [1m[35m (15.1ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/26/original/keep-calm-and-find-gem.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/26/medium/keep-calm-and-find-gem.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/26/thumb/keep-calm-and-find-gem.png
Redirected to http://localhost:3000/lots
Completed 302 Found in 113ms (ActiveRecord: 18.1ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 14:47:23 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (16.7ms)
Completed 200 OK in 338ms (Views: 278.5ms | ActiveRecord: 1.2ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 14:47:26 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (17.5ms)
  Rendered lots/new.html.erb within layouts/application (36.0ms)
Completed 200 OK in 97ms (Views: 62.3ms | ActiveRecord: 0.4ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 14:47:48 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HMfdpXxEFUYksuLbmEl24K2RhwV8lG56LGV1vBPz3RHiX5RgxUbn9nTU7KWT5nrOCxxF+ipB1RU8J/92LZzkQg==", "lot"=>{"title"=>"title", "description"=>"dfsdfs", "start_price"=>"12", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"11", "start_datetime(5i)"=>"47", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"11", "end_datetime(5i)"=>"48", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f07504107b8 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-8956-3x01d8.png>, @original_filename="keep-calm-and-find-gem.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"keep-calm-and-find-gem.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-ougc47.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-hfw9j6.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-hfw9j6.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-hfw9j6.png[0]' -auto-orient -resize "300x300>" '/tmp/94fd562393e1fe9db0b0811679769d6b20180123-8956-1r1ihj9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-hfw9j6.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-hfw9j6.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-hfw9j6.png[0]' -auto-orient -resize "100x100>" '/tmp/94fd562393e1fe9db0b0811679769d6b20180123-8956-1urjeu7'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-8956-1ldpjnq.png'
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "title"], ["description", "dfsdfs"], ["start_price", 12], ["start_datetime", "2018-01-23 11:47:00"], ["end_datetime", "2018-01-23 11:48:00"], ["created_at", "2018-01-23 11:47:49.816466"], ["updated_at", "2018-01-23 11:47:49.816466"], ["user_id", 2], ["photo_file_name", "keep-calm-and-find-gem.png"], ["photo_content_type", "image/png"], ["photo_file_size", 43365], ["photo_updated_at", "2018-01-23 11:47:48.768451"]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/27
Completed 302 Found in 1077ms (ActiveRecord: 14.3ms)


Started GET "/lots/27" for 127.0.0.1 at 2018-01-23 14:47:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '27'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '27' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (9.7ms)
  [1m[36mRate Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (41.4ms)
Completed 200 OK in 82ms (Views: 70.1ms | ActiveRecord: 4.2ms)


Started POST "/lots/27/rates" for 127.0.0.1 at 2018-01-23 14:47:52 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6VLj5tlCnC10q9a95l4KaCuwNEq3Eq1pp/l+qsIF0jsXyqojYEBunSTN2MPt8QZGjT32teHHFga3u/Rg/GrraA==", "rate"=>{"lot_id"=>"27", "value"=>"21"}, "commit"=>"Create Rate", "lot_id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 27)[0m
  [1m[35mSQL (24.8ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 27], ["value", 21], ["created_at", "2018-01-23 11:47:53.399588"], ["updated_at", "2018-01-23 11:47:53.399588"]]
  [1m[35m (30.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/27
Completed 302 Found in 74ms (ActiveRecord: 57.6ms)


Started GET "/lots/27" for 127.0.0.1 at 2018-01-23 14:47:53 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (1.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '27'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '27' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.9ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (19.5ms)
Completed 200 OK in 72ms (Views: 62.9ms | ActiveRecord: 3.4ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 14:47:55 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:47:56 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:47:56 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:47:56 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:47:56 +0300
Started GET "/sidekiq/" for 127.0.0.1 at 2018-01-23 14:47:58 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:47:58 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:47:58 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:47:58 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:47:59 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:04 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:09 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:14 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:19 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:24 +0300
Started GET "/lots/27" for 127.0.0.1 at 2018-01-23 14:48:24 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '27'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '27' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (8.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (24.9ms)
Completed 200 OK in 66ms (Views: 57.5ms | ActiveRecord: 2.5ms)


Started GET "/sidekiq/" for 127.0.0.1 at 2018-01-23 14:48:26 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:48:26 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:48:26 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:48:26 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:48:26 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:32 +0300
Started GET "/sidekiq/queues" for 127.0.0.1 at 2018-01-23 14:48:34 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:48:34 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:48:34 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:48:34 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:48:34 +0300
Started GET "/sidekiq/queues/default" for 127.0.0.1 at 2018-01-23 14:48:35 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 14:48:35 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 14:48:35 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 14:48:35 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 14:48:36 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:41 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:46 +0300
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 14:48:51 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (4.3ms)
Completed 200 OK in 135ms (Views: 100.8ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 14:48:53 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.6ms)
Completed 200 OK in 47ms (Views: 36.0ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:48:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:00 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:49:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:10 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:50:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:20 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:51:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:52:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:53:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:50 +0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:54:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:55:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:56:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:57:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:05 +0300
  [1m[35m (1.3ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:25 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:58:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 14:59:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:00:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:15 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:01:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:02:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:05 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:20 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:25 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:30 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:35 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:40 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:50 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:03:55 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:04:00 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:04:05 +0300
Started GET "/lots/27" for 127.0.0.1 at 2018-01-23 15:04:07 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '27'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '27' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (17.8ms)
  [1m[36mRate Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (34.3ms)
Completed 200 OK in 78ms (Views: 68.3ms | ActiveRecord: 2.9ms)


Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:04:10 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:04:15 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:04:19 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:04:21 +0300
Started GET "/sidekiq/busy" for 127.0.0.1 at 2018-01-23 15:04:27 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 15:04:27 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 15:04:27 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 15:04:27 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 15:04:27 +0300
Started GET "/sidekiq/queues" for 127.0.0.1 at 2018-01-23 15:04:33 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 15:04:33 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 15:04:33 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 15:04:33 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 15:04:33 +0300
Started GET "/sidekiq/busy" for 127.0.0.1 at 2018-01-23 15:04:35 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 15:04:35 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 15:04:35 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 15:04:35 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 15:04:35 +0300
Started GET "/sidekiq/" for 127.0.0.1 at 2018-01-23 15:04:44 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 15:04:45 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 15:04:45 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 15:04:45 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 15:04:45 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 15:04:50 +0300
Started GET "/sidekiq/queues" for 127.0.0.1 at 2018-01-23 15:04:54 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 15:04:54 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 15:04:54 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 15:04:54 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 15:04:54 +0300
Started GET "/sidekiq/queues/default" for 127.0.0.1 at 2018-01-23 15:04:56 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 15:04:56 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 15:04:56 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 15:04:56 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 15:04:56 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 15:05:00 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 15:05:00 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 15:05:00 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 15:05:00 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 15:05:00 +0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 23 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 18 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/lots" for 127.0.0.1 at 2018-01-23 15:41:17 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (16.1ms)
Completed 200 OK in 60ms (Views: 53.5ms | ActiveRecord: 1.5ms)


Started GET "/my_lots" for 127.0.0.1 at 2018-01-23 15:41:20 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (15.3ms)
Completed 200 OK in 89ms (Views: 50.6ms | ActiveRecord: 1.2ms)


Started GET "/letter_opener" for 127.0.0.1 at 2018-01-23 15:41:27 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.2ms)
Completed 200 OK in 33ms (Views: 31.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 26 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:00:44 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:00:45 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:00:45 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:00:45 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:00:45 +0300
Started GET "/sidekiq/retries/1516712734.3082514-b9bddf8f833265d3401cacad" for 127.0.0.1 at 2018-01-23 16:00:56 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:00:56 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:00:56 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:00:56 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:00:56 +0300
Started POST "/sidekiq/retries/1516712734.3082514-b9bddf8f833265d3401cacad" for 127.0.0.1 at 2018-01-23 16:01:00 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:01:00 +0300
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 13 AND value = (SELECT MAX(value) FROM rates)[0m
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:00 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:00 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:00 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:00 +0300
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 365.8ms
Started GET "/sidekiq/" for 127.0.0.1 at 2018-01-23 16:01:07 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:07 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:07 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:07 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:07 +0300
Started GET "/sidekiq/stats" for 127.0.0.1 at 2018-01-23 16:01:12 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:01:15 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:15 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:15 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:15 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:16 +0300
Started GET "/sidekiq/retries/1516715229.1716962-7b03821f086b263a533d2cc4" for 127.0.0.1 at 2018-01-23 16:01:35 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:36 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:36 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:36 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:36 +0300
Started POST "/sidekiq/retries/1516715229.1716962-7b03821f086b263a533d2cc4" for 127.0.0.1 at 2018-01-23 16:01:39 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:01:39 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:39 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:39 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:39 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:39 +0300
Started GET "/sidekiq/scheduled" for 127.0.0.1 at 2018-01-23 16:01:45 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:45 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:45 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:45 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:45 +0300
Started GET "/sidekiq/scheduled" for 127.0.0.1 at 2018-01-23 16:01:51 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:52 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:52 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:52 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:52 +0300
Started GET "/sidekiq/scheduled" for 127.0.0.1 at 2018-01-23 16:01:57 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:01:57 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:01:57 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:01:57 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:01:57 +0300
Started GET "/sidekiq/scheduled" for 127.0.0.1 at 2018-01-23 16:02:02 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 21 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.1ms
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:02:02 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:02:02 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:02:02 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:02:02 +0300
Started GET "/sidekiq/scheduled" for 127.0.0.1 at 2018-01-23 16:02:04 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:02:04 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:02:04 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:02:04 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:02:04 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:02:08 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:02:08 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:02:08 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:02:08 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:02:08 +0300
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:02:36 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.3ms)
Completed 200 OK in 47ms (Views: 34.6ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:02:37 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (2.6ms)
Completed 200 OK in 47ms (Views: 37.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 21 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 3.0ms
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 21 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.1ms
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 22 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.8ms
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:04:43 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:04:43 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:04:43 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:04:44 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:04:44 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 22 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 2.3ms
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 21 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.5ms
  [1m[35m (1.0ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 22 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.4ms
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 15 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 3.9ms
Started GET "/sidekiq/retries/1516712684.95504-ae35dca8e489064770bec5ba" for 127.0.0.1 at 2018-01-23 16:07:19 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:07:19 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:07:20 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:07:20 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:07:20 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:07:20 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 12 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.5ms
  [1m[35m (0.7ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 14 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 3.2ms
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 22 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.8ms
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 21 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.4ms
Started GET "/lots/27" for 127.0.0.1 at 2018-01-23 16:10:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '27'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '27' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (54.5ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (69.3ms)
Completed 200 OK in 171ms (Views: 92.1ms | ActiveRecord: 20.9ms)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 22 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 3.5ms
  [1m[35m (0.8ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27  AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 21 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.3ms
  [1m[35m (1.2ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 22 AND value = (SELECT MAX(value) FROM rates)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 4.2ms
  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
  [1m[36mRate Load (0.9ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT user_id FROM rates WHERE lot_id = 27 ORDER BY value DESC LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
UserMailer#winner_email: processed outbound mail in 6.5ms
  [1m[36mRate Load (0.9ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:23:05 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:23:05 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:23:05 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:23:05 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:23:05 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:24:06 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:24:07 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:24:07 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:24:07 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:24:07 +0300
Started GET "/sidekiq/retries/1516714089.6693215-197a6bf53d07ba3264aa0048" for 127.0.0.1 at 2018-01-23 16:24:14 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:24:14 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:24:14 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:24:14 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:24:14 +0300
Started POST "/sidekiq/retries/1516714089.6693215-197a6bf53d07ba3264aa0048" for 127.0.0.1 at 2018-01-23 16:24:16 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:24:16 +0300
  [1m[36mRate Load (2.7ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 21], ["LIMIT", 1]]
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:24:17 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:24:17 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:24:17 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:24:17 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:24:21 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:24:21 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:24:21 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:24:21 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:24:21 +0300
Started GET "/sidekiq/queues" for 127.0.0.1 at 2018-01-23 16:24:45 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:24:45 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:24:45 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:24:45 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:24:45 +0300
Started GET "/sidekiq/queues/default" for 127.0.0.1 at 2018-01-23 16:24:47 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:24:47 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:24:47 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:24:47 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:24:47 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:24:53 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:24:53 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:24:53 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:24:53 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:24:53 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:26:14 +0300
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:26:14 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:26:14 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:26:14 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:26:15 +0300
Started GET "/sidekiq/retries/1516714187.9025562-ae35dca8e489064770bec5ba" for 127.0.0.1 at 2018-01-23 16:26:17 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:26:17 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:26:17 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:26:17 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:26:17 +0300
Started POST "/sidekiq/retries/1516714187.9025562-ae35dca8e489064770bec5ba" for 127.0.0.1 at 2018-01-23 16:26:21 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:26:21 +0300
  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 22], ["LIMIT", 1]]
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:26:21 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:26:21 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:26:21 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:26:21 +0300
Started GET "/sidekiq/retries?poll=true" for 127.0.0.1 at 2018-01-23 16:26:35 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:26:35 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:26:35 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:26:35 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:26:35 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:26:40 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:26:45 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:26:49 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:26:49 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:26:49 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:26:49 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:26:50 +0300
Started GET "/sidekiq/retries/1516717917.8522732-482c374a538bf5198188d589" for 127.0.0.1 at 2018-01-23 16:27:18 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:27:18 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:27:18 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:27:18 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:27:18 +0300
Started POST "/sidekiq/retries/1516717917.8522732-482c374a538bf5198188d589" for 127.0.0.1 at 2018-01-23 16:27:21 +0300
  [1m[36mRate Load (0.5ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 27], ["LIMIT", 1]]
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:27:21 +0300
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering user_mailer/winner_email.html.slim within layouts/mailer
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:27:22 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:27:22 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:27:22 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:27:22 +0300
  Rendered user_mailer/winner_email.html.slim within layouts/mailer (578.5ms)
UserMailer#winner_email: processed outbound mail in 708.6ms
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:27:34 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:27:34 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:27:34 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:27:34 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:27:34 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:27:51 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:27:51 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:27:51 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:27:51 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:27:51 +0300
Started POST "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:27:57 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:27:57 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:27:57 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:27:57 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:27:57 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:27:58 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:29:03 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:29:04 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:29:04 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:29:04 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:29:04 +0300
Started GET "/lots" for 127.0.0.1 at 2018-01-23 16:29:09 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (39.4ms)
Completed 200 OK in 621ms (Views: 572.5ms | ActiveRecord: 10.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 16:29:26 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (150.5ms)
  Rendered lots/new.html.erb within layouts/application (151.9ms)
Completed 200 OK in 219ms (Views: 215.7ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 16:29:58 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4Rj9GOeQLdHIOuph5M9Q+TT0dukK+i99ye7vJsQcdUsfgLTdXpLfYZhc5B/vYFzXknm0FlwvlBLZrGXs+nNMGA==", "lot"=>{"title"=>"test", "description"=>"112", "start_price"=>"12", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"29", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"31", "photo"=>#<ActionDispatch::Http::UploadedFile:0x007f535cc0b000 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-14996-1cncrig.png>, @original_filename="keep-calm-and-find-gem.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"keep-calm-and-find-gem.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-13j3x1m.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-5mo6qy.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-5mo6qy.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-5mo6qy.png[0]' -auto-orient -resize "300x300>" '/tmp/07ba95f579babd47d3f6dbdbe6aa811e20180123-14996-fzkrmh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-5mo6qy.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-5mo6qy.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-5mo6qy.png[0]' -auto-orient -resize "100x100>" '/tmp/07ba95f579babd47d3f6dbdbe6aa811e20180123-14996-ouziju'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-14996-ly5sko.png'
  [1m[35mSQL (43.8ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "test"], ["description", "112"], ["start_price", 12], ["start_datetime", "2018-01-23 13:29:00"], ["end_datetime", "2018-01-23 13:31:00"], ["created_at", "2018-01-23 13:29:59.143965"], ["updated_at", "2018-01-23 13:29:59.143965"], ["user_id", 2], ["photo_file_name", "keep-calm-and-find-gem.png"], ["photo_content_type", "image/png"], ["photo_file_size", 43365], ["photo_updated_at", "2018-01-23 13:29:58.726519"]]
  [1m[35m (42.2ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/28
Completed 302 Found in 578ms (ActiveRecord: 86.9ms)


Started GET "/lots/28" for 127.0.0.1 at 2018-01-23 16:29:59 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '28'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '28' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (68.3ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 28], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (126.8ms)
Completed 200 OK in 178ms (Views: 159.6ms | ActiveRecord: 7.1ms)


  [1m[36mRate Load (1.0ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 24], ["LIMIT", 1]]
Started POST "/lots/28/rates" for 127.0.0.1 at 2018-01-23 16:30:05 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"m1JYcaNERE82BVled132+t9Dn7Yv6cePpRAaMDXAU+xlyhG0Gka2/2ZjVyB88vrUec5dSXk8fOC1UpD6C69qvw==", "rate"=>{"lot_id"=>"28", "value"=>"1232"}, "commit"=>"Create Rate", "lot_id"=>"28"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 28)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 28], ["value", 1232], ["created_at", "2018-01-23 13:30:05.153847"], ["updated_at", "2018-01-23 13:30:05.153847"]]
  [1m[35m (32.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/28
Completed 302 Found in 59ms (ActiveRecord: 35.4ms)


Started GET "/lots/28" for 127.0.0.1 at 2018-01-23 16:30:05 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '28'[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '28' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 28], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (18.2ms)
Completed 200 OK in 58ms (Views: 48.5ms | ActiveRecord: 2.9ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:30:10 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:30:11 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:30:11 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:30:11 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:30:11 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:30:18 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:30:18 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:30:18 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:30:18 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:30:19 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:30:34 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:30:34 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:30:34 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:30:34 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:30:34 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:30:41 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:30:41 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:30:41 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:30:41 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:30:41 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:30:50 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:30:50 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:30:50 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:30:50 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:30:50 +0300
Started GET "/sidekiq/retries/1516714244.0209222-39a6c38c4590c751adf8c3f0" for 127.0.0.1 at 2018-01-23 16:30:54 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:30:54 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:30:54 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:30:54 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:30:54 +0300
  [1m[36mRate Load (2.6ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 24], ["LIMIT", 1]]
  [1m[36mRate Load (1.6ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 28], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering user_mailer/winner_email.html.slim within layouts/mailer
  Rendered user_mailer/winner_email.html.slim within layouts/mailer (399.7ms)
UserMailer#winner_email: processed outbound mail in 436.7ms
  [1m[36mRate Load (2.3ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 28], ["LIMIT", 1]]
  [1m[36mRate Load (2.6ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 24], ["LIMIT", 1]]
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering user_mailer/winner_email.html.slim within layouts/mailer
  Rendered user_mailer/winner_email.html.slim within layouts/mailer (33.9ms)
UserMailer#winner_email: processed outbound mail in 50.9ms
  [1m[36mRate Load (1.7ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 25], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering user_mailer/winner_email.html.slim within layouts/mailer
  Rendered user_mailer/winner_email.html.slim within layouts/mailer (27.8ms)
UserMailer#winner_email: processed outbound mail in 33.8ms
  [1m[36mRate Load (0.9ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 28], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering user_mailer/winner_email.html.slim within layouts/mailer
  Rendered user_mailer/winner_email.html.slim within layouts/mailer (6.3ms)
UserMailer#winner_email: processed outbound mail in 72.9ms
Sent mail to egor@mail.ru (93.9ms)
Date: Tue, 23 Jan 2018 16:32:41 +0300
To: egor@mail.ru
Message-ID: <5a673979a4ce5_3b553fa744ff1c5437928@pavlov-laptop.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html><html><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /></head><body><h1>Hello egor@mail.ru!</h1><p><br /></p><p>Thanks for joining our auction!</p></body></html>
  </body>
</html>

  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 25], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering user_mailer/winner_email.html.slim within layouts/mailer
  Rendered user_mailer/winner_email.html.slim within layouts/mailer (7.3ms)
UserMailer#winner_email: processed outbound mail in 13.4ms
Sent mail to egor@mail.ru (33.9ms)
Date: Tue, 23 Jan 2018 16:32:58 +0300
To: egor@mail.ru
Message-ID: <5a67398abec29_3b552aeb76990a3438074@pavlov-laptop.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html><html><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /></head><body><h1>Hello egor@mail.ru!</h1><p><br /></p><p>Thanks for joining our auction!</p></body></html>
  </body>
</html>

Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:33:04 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (5.0ms)
Completed 200 OK in 192ms (Views: 181.4ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:33:04 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 39ms (Views: 37.3ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:33:14 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:33:14 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:33:14 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:33:14 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:33:14 +0300
Started POST "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:33:31 +0300
  [1m[36mRate Load (0.8ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 24], ["LIMIT", 1]]
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:33:31 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:33:31 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:33:31 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:33:31 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:33:31 +0300
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:33:35 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (4.1ms)
Completed 200 OK in 54ms (Views: 44.8ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:33:35 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:33:36 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (5.5ms)
Completed 200 OK in 52ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:33:36 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:34:21 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (4.7ms)
Completed 200 OK in 59ms (Views: 45.1ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:34:21 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener" for 127.0.0.1 at 2018-01-23 16:35:05 +0300
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (9.3ms)
Completed 200 OK in 396ms (Views: 392.8ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:35:06 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:35:07 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:35:08 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:35:08 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:35:08 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:35:08 +0300
  [1m[36mRate Load (1.1ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 24], ["LIMIT", 1]]
Started GET "/lots/" for 127.0.0.1 at 2018-01-23 16:35:15 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (68.9ms)
Completed 200 OK in 155ms (Views: 116.0ms | ActiveRecord: 11.1ms)


Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 16:35:17 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (32.1ms)
  Rendered lots/new.html.erb within layouts/application (33.9ms)
Completed 200 OK in 70ms (Views: 66.7ms | ActiveRecord: 0.5ms)


Started POST "/lots" for 127.0.0.1 at 2018-01-23 16:35:36 +0300
Processing by LotsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8qQ3AAo/Q1WqKOuavvM0qsy9W6ytOfauJ0kg/xcBeFsMPH7Fsz2x5fpO5eS1XDiEajCZU/vsTcE3C6o1KW5BCA==", "lot"=>{"title"=>"test1", "description"=>"123", "start_price"=>"133", "start_datetime(1i)"=>"2018", "start_datetime(2i)"=>"1", "start_datetime(3i)"=>"23", "start_datetime(4i)"=>"13", "start_datetime(5i)"=>"35", "end_datetime(1i)"=>"2018", "end_datetime(2i)"=>"1", "end_datetime(3i)"=>"23", "end_datetime(4i)"=>"13", "end_datetime(5i)"=>"37", "photo"=>#<ActionDispatch::Http::UploadedFile:0x0055ff49d38cd8 @tempfile=#<Tempfile:/tmp/RackMultipart20180123-15622-1ok0d8p.png>, @original_filename="keep-calm-and-find-gem.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"lot[photo]\"; filename=\"keep-calm-and-find-gem.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Create Lot"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-1x40hk4.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-168y663.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-168y663.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-168y663.png[0]' -auto-orient -resize "300x300>" '/tmp/77549a6fca5c244ed95344d3d08768e320180123-15622-1orfkz9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-168y663.png[0]' 2>/dev/null
Command :: identify -format %m '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-168y663.png[0]'
Command :: convert '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-168y663.png[0]' -auto-orient -resize "100x100>" '/tmp/77549a6fca5c244ed95344d3d08768e320180123-15622-1pjnksj'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/tmp/bdd78e22930d56d63642516832d269bc20180123-15622-apukif.png'
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "lots" ("title", "description", "start_price", "start_datetime", "end_datetime", "created_at", "updated_at", "user_id", "photo_file_name", "photo_content_type", "photo_file_size", "photo_updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["title", "test1"], ["description", "123"], ["start_price", 133], ["start_datetime", "2018-01-23 13:35:00"], ["end_datetime", "2018-01-23 13:37:00"], ["created_at", "2018-01-23 13:35:36.569698"], ["updated_at", "2018-01-23 13:35:36.569698"], ["user_id", 2], ["photo_file_name", "keep-calm-and-find-gem.png"], ["photo_content_type", "image/png"], ["photo_file_size", 43365], ["photo_updated_at", "2018-01-23 13:35:36.373729"]]
  [1m[35m (10.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/lots/29
Completed 302 Found in 244ms (ActiveRecord: 12.0ms)


Started GET "/lots/29" for 127.0.0.1 at 2018-01-23 16:35:36 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '29'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '29' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (36.0ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 29], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (68.7ms)
Completed 200 OK in 123ms (Views: 104.2ms | ActiveRecord: 7.5ms)


Started POST "/lots/29/rates" for 127.0.0.1 at 2018-01-23 16:35:41 +0300
Processing by RatesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/Ga46ph8a2+1miLgYZ/MyPbSVVxtPZPng+/KCYyk9bQC/vEvIX6Z3+X8LJ5qMMDmUF+XozvoKIiTrUDDssvM5w==", "rate"=>{"lot_id"=>"29", "value"=>"1233"}, "commit"=>"Create Rate", "lot_id"=>"29"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = 29)[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "rates" ("user_id", "lot_id", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["lot_id", 29], ["value", 1233], ["created_at", "2018-01-23 13:35:41.847945"], ["updated_at", "2018-01-23 13:35:41.847945"]]
  [1m[35m (91.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
Redirected to http://localhost:3000/lots/29
Completed 302 Found in 115ms (ActiveRecord: 95.0ms)


Started GET "/lots/29" for 127.0.0.1 at 2018-01-23 16:35:41 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '29'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '29' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (14.4ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 29], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (37.9ms)
Completed 200 OK in 85ms (Views: 76.7ms | ActiveRecord: 2.5ms)


Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:35:56 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (8.0ms)
Completed 200 OK in 65ms (Views: 54.2ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:35:57 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714361_a533566/rich" for 127.0.0.1 at 2018-01-23 16:36:01 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714361_a533566", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:36:02 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:36:06 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:36:06 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:36:06 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:36:06 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:36:06 +0300
Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:36:20 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (4.1ms)
Completed 200 OK in 49ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714378_7a9ecd9/rich" for 127.0.0.1 at 2018-01-23 16:36:20 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714378_7a9ecd9", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:36:23 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:36:23 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:36:23 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:36:23 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:36:23 +0300
Started GET "/lots/" for 127.0.0.1 at 2018-01-23 16:36:42 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.9ms)
Completed 200 OK in 46ms (Views: 41.4ms | ActiveRecord: 1.0ms)


Started GET "/lots/28" for 127.0.0.1 at 2018-01-23 16:36:44 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '28'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '28' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (7.2ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 28], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.5ms)
Completed 200 OK in 55ms (Views: 46.7ms | ActiveRecord: 2.3ms)


Started DELETE "/lots/28" for 127.0.0.1 at 2018-01-23 16:36:48 +0300
Processing by LotsController#destroy as HTML
  Parameters: {"authenticity_token"=>"h3RRLgn/F45hWI9JPK8//laCXKV1RPxxfeqWiYj8fV557BjrsP3lPjE+gTc3ADPQ8A+eWiORRx5tqBxDtpNEDQ==", "id"=>"28"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT "rates".* FROM "rates" WHERE "rates"."lot_id" = $1[0m  [["lot_id", 28]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "rates" WHERE "rates"."id" = $1[0m  [["id", 62]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "lots" WHERE "lots"."id" = $1[0m  [["id", 28]]
  [1m[35m (45.9ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/28/original/keep-calm-and-find-gem.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/28/medium/keep-calm-and-find-gem.png
[paperclip] deleting /home/pavlov/fs/auction/public/system/photos/28/thumb/keep-calm-and-find-gem.png
Redirected to http://localhost:3000/lots
Completed 302 Found in 77ms (ActiveRecord: 49.9ms)


Started GET "/lots" for 127.0.0.1 at 2018-01-23 16:36:48 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (13.0ms)
Completed 200 OK in 44ms (Views: 40.3ms | ActiveRecord: 1.2ms)


Started GET "/lots/29" for 127.0.0.1 at 2018-01-23 16:36:49 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '29'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '29' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (6.7ms)
  [1m[36mRate Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 29], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (20.5ms)
Completed 200 OK in 56ms (Views: 48.6ms | ActiveRecord: 2.9ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:36:56 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:36:56 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:36:56 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:36:56 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:36:57 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:37:00 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:37:00 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:37:00 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:37:00 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:37:01 +0300
Started POST "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:37:06 +0300
Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:37:06 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:37:06 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:37:06 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:37:06 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:37:06 +0300
Started GET "/lots/new" for 127.0.0.1 at 2018-01-23 16:37:11 +0300
Processing by LotsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/new.html.erb within layouts/application
  Rendered lots/_form.html.erb (18.3ms)
  Rendered lots/new.html.erb within layouts/application (19.7ms)
Completed 200 OK in 49ms (Views: 45.7ms | ActiveRecord: 0.5ms)


  [1m[36mRate Load (0.4ms)[0m  [1m[34mSELECT  "rates".* FROM "rates" WHERE "rates"."lot_id" = $1 ORDER BY "rates"."value" DESC LIMIT $2[0m  [["lot_id", 29], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering user_mailer/winner_email.html.slim within layouts/mailer
  Rendered user_mailer/winner_email.html.slim within layouts/mailer (15.6ms)
UserMailer#winner_email: processed outbound mail in 503.1ms
Sent mail to egor@mail.ru (24.9ms)
Date: Tue, 23 Jan 2018 16:37:12 +0300
To: egor@mail.ru
Message-ID: <5a673a8817ade_3d432adac1473044737c5@pavlov-laptop.mail>
Subject: Welcome
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html><html><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type" /></head><body><h1>Hello egor@mail.ru!</h1><p>Your rate on lot (http://localhost:3000/lots/29), write to the seller.<br /></p><p>Thanks for joining our auction!</p></body></html>
  </body>
</html>

Started GET "/letter_opener/" for 127.0.0.1 at 2018-01-23 16:37:27 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (5.6ms)
Completed 200 OK in 55ms (Views: 45.5ms | ActiveRecord: 0.0ms)


Started GET "/letter_opener/1516714632_f642f18/rich" for 127.0.0.1 at 2018-01-23 16:37:27 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714632_f642f18", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-23 16:37:30 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-23 16:37:30 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-23 16:37:30 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-23 16:37:30 +0300
Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-23 16:37:31 +0300
Started GET "/lots" for 127.0.0.1 at 2018-01-25 16:25:43 +0300
  [1m[35m (45.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LotsController#index as HTML
Started GET "/letter_opener" for 127.0.0.1 at 2018-01-25 16:25:44 +0300
Processing by LetterOpenerWeb::LettersController#index as HTML
  Rendering .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application
  Rendered .bundle/ruby/2.4.0/gems/letter_opener_web-1.3.1/app/views/letter_opener_web/letters/index.html.erb within layouts/letter_opener_web/application (22.5ms)
  [1m[36mUser Load (128.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (31.1ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (122.9ms)
Started GET "/sidekiq/images/favicon.ico" for 127.0.0.1 at 2018-01-25 16:25:45 +0300
Completed 200 OK in 981ms (Views: 423.0ms | ActiveRecord: 378.1ms)


Completed 200 OK in 918ms (Views: 912.3ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/retries" for 127.0.0.1 at 2018-01-25 16:25:45 +0300
Started GET "/sidekiq/stylesheets/bootstrap.css" for 127.0.0.1 at 2018-01-25 16:25:46 +0300
Started GET "/sidekiq/stylesheets/application.css" for 127.0.0.1 at 2018-01-25 16:25:46 +0300
Started GET "/sidekiq/javascripts/application.js" for 127.0.0.1 at 2018-01-25 16:25:46 +0300
Started GET "/letter_opener/1516714632_f642f18/rich" for 127.0.0.1 at 2018-01-25 16:25:46 +0300
Processing by LetterOpenerWeb::LettersController#show as HTML
  Parameters: {"id"=>"1516714632_f642f18", "style"=>"rich"}
  Rendering html template
  Rendered html template (0.1ms)
Completed 200 OK in 95ms (Views: 34.1ms | ActiveRecord: 0.0ms)


Started GET "/sidekiq/images/status.png" for 127.0.0.1 at 2018-01-25 16:25:46 +0300
Started GET "/sidekiq/images/favicon.ico" for 127.0.0.1 at 2018-01-25 16:25:46 +0300
Started GET "/my_lots" for 127.0.0.1 at 2018-01-25 16:36:00 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (27.3ms)
Completed 200 OK in 91ms (Views: 49.3ms | ActiveRecord: 1.4ms)


Started GET "/lots/28" for 127.0.0.1 at 2018-01-25 16:36:04 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
Completed 404 Not Found in 61ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find Lot with 'id'=28):
  
app/controllers/lots_controller.rb:18:in `show'
Started GET "/lots" for 127.0.0.1 at 2018-01-25 16:36:09 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots"[0m
  Rendered lots/index.html.slim within layouts/application (12.4ms)
Completed 200 OK in 57ms (Views: 52.5ms | ActiveRecord: 1.0ms)


Started GET "/my_lots" for 127.0.0.1 at 2018-01-25 16:36:13 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (13.2ms)
Completed 200 OK in 43ms (Views: 38.8ms | ActiveRecord: 0.9ms)


Started GET "/my_lots" for 127.0.0.1 at 2018-01-25 16:36:19 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (13.2ms)
Completed 200 OK in 46ms (Views: 41.9ms | ActiveRecord: 1.1ms)


Started GET "/my_lots" for 127.0.0.1 at 2018-01-25 16:46:51 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (44.4ms)
Completed 200 OK in 117ms (Views: 80.3ms | ActiveRecord: 9.9ms)


  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" ORDER BY "lots"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLot Load (39.2ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE (end_datetime > '2018-01-25 13:52:52.052105') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (1.3ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE (end_datetime < '2018-01-25 13:53:04.968238') LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE (end_datetime <= '2018-01-25 13:54:42.671424') LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/my_lots" for 127.0.0.1 at 2018-01-25 17:00:51 +0300
Processing by MyLotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering my_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE "lots"."user_id" = $1[0m  [["user_id", 2]]
  Rendered my_lots/index.html.slim within layouts/application (43.8ms)
Completed 200 OK in 116ms (Views: 76.5ms | ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-25 17:01:00 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "lots" WHERE (end_datetime <= '2018-01-25 14:01:00.550440') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime <= '2018-01-25 14:01:00.550440')[0m
  Rendered lots/index.html.slim within layouts/application (58.2ms)
Completed 200 OK in 92ms (Views: 86.7ms | ActiveRecord: 1.7ms)


Started GET "/finish_lots" for 127.0.0.1 at 2018-01-25 17:01:04 +0300
Processing by FinishLotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering finish_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime <= '2018-01-25 14:01:04.599638')[0m
  Rendered finish_lots/index.html.slim within layouts/application (10.4ms)
Completed 200 OK in 42ms (Views: 36.5ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-25 17:01:53 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "lots" WHERE (end_datetime <= '2018-01-25 14:01:54.065664') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime <= '2018-01-25 14:01:54.065664')[0m
  Rendered lots/index.html.slim within layouts/application (31.8ms)
Completed 200 OK in 89ms (Views: 54.2ms | ActiveRecord: 9.3ms)


Started GET "/finish_lots" for 127.0.0.1 at 2018-01-25 17:01:56 +0300
Processing by FinishLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering finish_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime > '2018-01-25 14:01:56.448515')[0m
  Rendered finish_lots/index.html.slim within layouts/application (8.9ms)
Completed 200 OK in 43ms (Views: 37.3ms | ActiveRecord: 1.3ms)


Started GET "/finish_lots" for 127.0.0.1 at 2018-01-25 17:08:20 +0300
Processing by FinishLotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering finish_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime > '2018-01-25 14:08:20.872286')[0m
  Rendered finish_lots/index.html.slim within layouts/application (10.9ms)
Completed 200 OK in 49ms (Views: 43.8ms | ActiveRecord: 1.2ms)


Started GET "/lots/29" for 127.0.0.1 at 2018-01-25 17:08:26 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.4ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (158.7ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '29'[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '29' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (174.3ms)
  [1m[36mRate Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 29], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (192.1ms)
Completed 200 OK in 392ms (Views: 219.4ms | ActiveRecord: 165.2ms)


Started GET "/finish_lots" for 127.0.0.1 at 2018-01-25 17:08:52 +0300
Processing by FinishLotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering finish_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime > '2018-01-25 14:08:52.210882')[0m
  Rendered finish_lots/index.html.slim within layouts/application (10.7ms)
Completed 200 OK in 48ms (Views: 41.5ms | ActiveRecord: 1.2ms)


Started GET "/finish_lots" for 127.0.0.1 at 2018-01-25 17:09:16 +0300
Processing by FinishLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering finish_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime <= '2018-01-25 14:09:16.150053')[0m
  Rendered finish_lots/index.html.slim within layouts/application (29.0ms)
Completed 200 OK in 88ms (Views: 51.9ms | ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2018-01-25 17:09:28 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "lots" WHERE (end_datetime > '2018-01-25 14:09:28.363778') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLot Load (0.8ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime > '2018-01-25 14:09:28.363778')[0m
  Rendered lots/index.html.slim within layouts/application (13.6ms)
Completed 200 OK in 47ms (Views: 40.3ms | ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-01-25 17:25:31 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "lots" WHERE (end_datetime > '2018-01-25 14:25:31.855364') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime > '2018-01-25 14:25:31.855364')[0m
  Rendered lots/index.html.slim within layouts/application (35.3ms)
Completed 200 OK in 93ms (Views: 58.3ms | ActiveRecord: 10.8ms)


Started GET "/lots/17" for 127.0.0.1 at 2018-01-25 17:25:33 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.7ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '17'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '17' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (27.2ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 3.9ms)


  
ActionView::Template::Error (undefined method `nom' for DateTime:Class
Did you mean?  now):
    22: |  | 
    23: = link_to 'Back', lots_path
    24: 
    25: - if lot.end_datetime <= DateTime.nom
    26:   h2 the auction ended! Max rate:
    27:   = @result.getvalue(0,0) 
    28: - else
  
app/views/lots/show.html.slim:25:in `_app_views_lots_show_html_slim__3134969055073782979_47331733283840'
Started GET "/lots/17" for 127.0.0.1 at 2018-01-25 17:25:43 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.9ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '17'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '17' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered rates/_form.html.slim (21.7ms)
  [1m[36mRate Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "rates" WHERE "rates"."lot_id" = $1 LIMIT $2[0m  [["lot_id", 17], ["LIMIT", 1]]
  Rendered lots/show.html.slim within layouts/application (36.5ms)
Completed 200 OK in 78ms (Views: 64.5ms | ActiveRecord: 7.0ms)


Started GET "/lots/" for 127.0.0.1 at 2018-01-25 17:25:48 +0300
Processing by LotsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering lots/index.html.slim within layouts/application
  [1m[36mLot Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "lots" WHERE (end_datetime > '2018-01-25 14:25:48.727732') LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime > '2018-01-25 14:25:48.727732')[0m
  Rendered lots/index.html.slim within layouts/application (19.3ms)
Completed 200 OK in 51ms (Views: 43.7ms | ActiveRecord: 2.7ms)


Started GET "/finish_lots" for 127.0.0.1 at 2018-01-25 17:25:52 +0300
Processing by FinishLotsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering finish_lots/index.html.slim within layouts/application
  [1m[36mLot Load (0.6ms)[0m  [1m[34mSELECT "lots".* FROM "lots" WHERE (end_datetime <= '2018-01-25 14:25:52.641197')[0m
  Rendered finish_lots/index.html.slim within layouts/application (11.5ms)
Completed 200 OK in 45ms (Views: 38.9ms | ActiveRecord: 1.2ms)


Started GET "/lots/25" for 127.0.0.1 at 2018-01-25 17:25:54 +0300
Processing by LotsController#show as HTML
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLot Load (0.5ms)[0m  [1m[34mSELECT  "lots".* FROM "lots" WHERE "lots"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE lot_id = '25'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT max(rates.value) FROM rates WHERE (lot_id = '25' AND user_id = '2')[0m
  Rendering lots/show.html.slim within layouts/application
  Rendered lots/show.html.slim within layouts/application (10.3ms)
Completed 200 OK in 46ms (Views: 37.5ms | ActiveRecord: 2.1ms)


